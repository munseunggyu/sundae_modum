/*! For license information please see main.6d1e8b68.js.LICENSE.txt */
!function(){var e={567:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFSA=o,t.isError=function(e){return o(e)&&!0===e.error};var r=a(n(519)),i=a(n(988));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,r.default)(e)&&(0,i.default)(e.type)&&Object.keys(e).every(s)}function s(e){return["type","payload","error","meta"].indexOf(e)>-1}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},950:function(e){function t(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then}e.exports=t,e.exports.default=t},519:function(e){var t,n,r=Function.prototype,i=Object.prototype,a=r.toString,o=i.hasOwnProperty,s=a.call(Object),u=i.toString,c=(t=Object.getPrototypeOf,n=Object,function(e){return t(n(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=u.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e))return!1;var t=c(e);if(null===t)return!0;var n=o.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==s}},988:function(e){var t=Object.prototype.toString,n=Array.isArray;e.exports=function(e){return"string"==typeof e||!n(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==t.call(e)}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},337:function(e,t,n){"use strict";var r,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t._1=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(document.getElementById("react-confirm-alert-firm-svg"))return;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.3");var n=document.createElementNS(e,"filter");n.setAttribute("id","gaussian-blur"),n.appendChild(t);var r=document.createElementNS(e,"svg");r.setAttribute("id","react-confirm-alert-firm-svg"),r.setAttribute("class","react-confirm-alert-svg"),r.appendChild(n),document.body.appendChild(r)}(),function(e){var t=document.getElementById(e.targetId||m);e.targetId&&!t&&console.error("React Confirm Alert:","Can not get element id (#"+e.targetId+")");t||(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id=m,document.body.appendChild(t)),(v=(0,l.createRoot)(t)).render(u.default.createElement(p,e))}(e)};var s=n(791),u=f(s),c=f(n(7)),l=n(250);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=(i=r=function(e){function t(){var e,n,r;h(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleClickButton=function(e){e.onClick&&e.onClick(),r.close()},r.handleClickOverlay=function(e){var t=r.props,n=t.closeOnClickOutside,i=t.onClickOutside,a=e.target===r.overlay;n&&a&&(i(),r.close()),e.stopPropagation()},r.close=function(){var e=r.props.afterClose;k(),g(r.props),y(e)},r.keyboard=function(e){var t=r.props,n=t.closeOnEscape,i=t.onKeypressEscape,a=t.onkeyPress,o=t.keyCodeForClose,s=e.keyCode,u=27===s;o.includes(s)&&r.close(),n&&u&&(i(e),r.close()),a&&a()},r.componentDidMount=function(){document.addEventListener("keydown",r.keyboard,!1)},r.componentWillUnmount=function(){document.removeEventListener("keydown",r.keyboard,!1),r.props.willUnmount()},r.renderCustomUI=function(){var e=r.props,t=e.title,n=e.message,i=e.buttons;return(0,e.customUI)({title:t,message:n,buttons:i,onClose:r.close})},d(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.message,i=t.buttons,o=t.childrenElement,s=t.customUI,c=t.overlayClassName;return u.default.createElement("div",{className:"react-confirm-alert-overlay "+c,ref:function(t){return e.overlay=t},onClick:this.handleClickOverlay},u.default.createElement("div",{className:"react-confirm-alert"},s?this.renderCustomUI():u.default.createElement("div",{className:"react-confirm-alert-body"},n&&u.default.createElement("h1",null,n),r,o(),u.default.createElement("div",{className:"react-confirm-alert-button-group"},i.map((function(t,n){return u.default.createElement("button",a({key:n,className:t.className},t,{onClick:function(n){return e.handleClickButton(t)}}),t.label)}))))))}}]),t}(s.Component),r.propTypes={title:c.default.string,message:c.default.string,buttons:c.default.array.isRequired,childrenElement:c.default.func,customUI:c.default.func,closeOnClickOutside:c.default.bool,closeOnEscape:c.default.bool,keyCodeForClose:c.default.arrayOf(c.default.number),willUnmount:c.default.func,afterClose:c.default.func,onClickOutside:c.default.func,onKeypressEscape:c.default.func,onkeyPress:c.default.func,overlayClassName:c.default.string},r.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},i);var v=null,m="react-confirm-alert";function y(e){var t=document.getElementById("react-confirm-alert-firm-svg");t&&t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function g(e){var t=document.getElementById(e.targetId||m);t&&v.unmount(t)}function k(){document.body.classList.remove("react-confirm-alert-body-element")}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,U=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case A:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ae=null;function Se(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Ae?Ae.push(e):Ae=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Ae;if(Ae=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Te(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==xe||null!==Ae)&&(Te(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Ue=null,je=!1,Fe=null,Ve={onError:function(e){Me=!0,Ue=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Ue=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,At,St,Et=!1,Ct=[],It=null,Tt=null,Rt=null,Nt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Vt(){Et=!1,null!==It&&jt(It)&&(It=null),null!==Tt&&jt(Tt)&&(Tt=null),null!==Rt&&jt(Rt)&&(Rt=null),Nt.forEach(Ft),Pt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Tt&&zt(Tt,e),null!==Rt&&zt(Rt,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Dt.shift()}var Wt=b.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=kt,a=Wt.transition;Wt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,Wt.transition=a}}function qt(e,t,n,r){var i=kt,a=Wt.transition;Wt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,Wt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=U({},cn,{view:0,detail:0}),hn=an(fn),dn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(U({},dn,{dataTransfer:0})),mn=an(U({},fn,{relatedTarget:0})),yn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(U({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return An}var En=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(En),In=an(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Un=l&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Yn(e){jr(e,0)}function Qn(e){if(K(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Ne(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=qr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ar={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return xr[e]=n[t];return e}l&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Sr("animationend"),Cr=Sr("animationiteration"),Ir=Sr("animationstart"),Tr=Sr("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Or=Nr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Ue;Me=!1,Ue=null,je||(je=!0,Fe=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ur(i,s,c),a=u}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Er:case Cr:case Ir:u=yn;break;case Tr:u=Rn;break;case"scroll":u=hn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Yr(o,s,u,l,!1),null!==c&&null!==f&&Yr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Hn(s))if(Jn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=qr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),$t=Zt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,a))&&o.unshift(Gr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Gr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ai(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Ci={},Ii=Ai(Ci),Ti=Ai(!1),Ri=Ci;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(Ti),Si(Ii)}function Oi(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ei(Ii,t),Ei(Ti,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ri=Ii.current,Ei(Ii,e),Ei(Ti,Ti.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Si(Ti),Si(Ii),Ei(Ii,e)):Si(Ti),Ei(Ti,n)}var ji=null,Fi=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke($e,Bi),i}finally{kt=t,Vi=!1}}return null}var Wi=[],Hi=0,Gi=null,qi=0,Ki=[],Yi=0,Qi=null,Xi=1,Ji="";function Zi(e,t){Wi[Hi++]=qi,Wi[Hi++]=Gi,Gi=e,qi=t}function $i(e,t,n){Ki[Yi++]=Xi,Ki[Yi++]=Ji,Ki[Yi++]=Qi,Qi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Gi;)Gi=Wi[--Hi],Wi[Hi]=null,qi=Wi[--Hi],Wi[Hi]=null;for(;e===Qi;)Qi=Ki[--Yi],Ki[Yi]=null,Ji=Ki[--Yi],Ki[Yi]=null,Xi=Ki[--Yi],Ki[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ai(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Si(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ca(e){null===Ea?Ea=[e]:Ea.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Wa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Pi(t)?Ri:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Pi(t)?Ri:Ii.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ya(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ya(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=qa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Oc(o.type,o.key,o.props,null,r.mode,u)).ref=qa(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Qa(!0),Ja=Qa(!1),Za={},$a=Ai(Za),eo=Ai(Za),to=Ai(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),Ei($a,t)}function io(){Si($a),Si(eo),Si(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei($a,n))}function oo(e){eo.current===e&&(Si($a),Si(eo))}var so=Ai(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ao(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function To(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Fo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Uo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Uo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Uo(e){var t=Ta(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Co().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function Wo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function qo(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=$o.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Wo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Tu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Jo,useReducer:To,useRef:Vo,useState:function(){return To(Io)},useDebugValue:Qo,useDeferredValue:function(e){return Zo(Co(),mo.memoizedState,e)},useTransition:function(){return[To(Io)[0],Co().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Jo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Io)},useDebugValue:Qo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Io)[0],Co().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Gu=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Aa(t,i),r=Ao(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,As(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function As(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Du,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Du,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Du,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Du,Pu),Pu|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Pi(n)?Ri:Ii.current;return a=Ni(t,a),Aa(t,i),n=Ao(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Aa(t,i),null===t.stateNode)Ws(e,t),Wa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Ni(t,c=Pi(n)?Ri:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Ra=!1;var h=t.memoizedState;o.state=h,Ua(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ti.current||Ra?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Ra||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Ni(t,u=Pi(n)?Ri:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Ra=!1,h=t.memoizedState,o.state=h,Ua(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ti.current||Ra?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Ra||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,a,i)}function Ts(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ns(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Ds,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Tu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ta(e,i),nc(r,e,i,-1))}return vc(),Fs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Yi++]=Xi,Ki[Yi++]=Ji,Ki[Yi++]=Qi,Xi=e.id,Ji=e.overflow,Qi=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Pi(t.type)&&Di(),qs(t),null;case 3:return r=t.stateNode,io(),Si(Ti),Si(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),qs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":q(r),$(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ps(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return qs(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):vc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),qs(t),null;case 10:return _a(t.type._context),qs(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Gs(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Bu&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return qs(t),null}else 2*Je()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ti),Si(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||$s(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ac(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ac(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Ac(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Ac(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ac(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ac(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ac(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ac(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Je())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,vu(t,e),Xs=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:$s(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ac(r,n,m)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ac(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ac(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Ac(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Qs;var c=Xs;if(Qs=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Zs=u):_u(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,Qs=s,Xs=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&iu(t)}catch(d){Ac(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ac(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ac(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Ac(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Ac(t,o,u)}}}catch(u){Ac(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var xu,Au=Math.ceil,Su=b.ReactCurrentDispatcher,Eu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Iu=0,Tu=null,Ru=null,Nu=0,Pu=0,Du=Ai(0),Ou=0,Lu=null,Mu=0,Uu=0,ju=0,Fu=null,Vu=null,zu=0,Bu=1/0,Wu=null,Hu=!1,Gu=null,qu=null,Ku=!1,Yu=null,Qu=0,Xu=0,Ju=null,Zu=-1,$u=0;function ec(){return 0!==(6&Iu)?Je():-1!==Zu?Zu:Zu=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Nu?Nu&-Nu:null!==va.transition?(0===$u&&($u=vt()),$u):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Iu)&&e===Tu||(e===Tu&&(0===(2&Iu)&&(Uu|=n),4===Ou&&sc(e,Nu)),rc(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(Bu=Je()+500,Fi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Tu?Nu:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),oi((function(){0===(6&Iu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zu=-1,$u=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Tu?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Iu;Iu|=2;var o=pc();for(Tu===e&&Nu===t||(Wu=null,Bu=Je()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Su.current=o,Iu=i,null!==Ru?t=0:(Tu=null,Nu=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,hc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,hc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,Wu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,Wu),t);break}wc(e,Vu,Wu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Au(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,Wu),r);break}wc(e,Vu,Wu);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~ju,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Iu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,hc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,Wu),rc(e,Je()),null}function cc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Bu=Je()+500,Fi&&Bi())}}function lc(e){null!==Yu&&0===Yu.tag&&0===(6&Iu)&&_c();var t=Iu;Iu|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Iu=t))&&Bi()}}function fc(){Pu=Du.current,Si(Du)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(Ti),Si(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Tu=e,Ru=e=Dc(e.current,null),Nu=Pu=t,Ou=0,Lu=null,ju=Uu=Mu=0,Vu=Fu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Ru;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Eu.current=null,null===n||null===n.return){Ou=1,Lu=t,Ru=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Nu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ou&&(Ou=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qu||!qu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function pc(){var e=Su.current;return Su.current=os,null===e?os:e}function vc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Tu||0===(268435455&Mu)&&0===(268435455&Uu)||sc(Tu,Nu)}function mc(e,t){var n=Iu;Iu|=2;var r=pc();for(Tu===e&&Nu===t||(Wu=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Iu=n,Su.current=r,null!==Ru)throw Error(a(261));return Tu=null,Nu=0,Ou}function yc(){for(;null!==Ru;)kc(Ru)}function gc(){for(;null!==Ru&&!Qe();)kc(Ru)}function kc(e){var t=xu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?bc(e):Ru=t,Eu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Pu)))return void(Ru=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Ou=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Ou&&(Ou=5)}function wc(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Yu);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Tu&&(Ru=Tu=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Tc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Iu;Iu|=4,Eu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ac(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Xe(),Iu=u,kt=s,Cu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Yu=e,Qu=i),0===(o=e.pendingLanes)&&(qu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Gu,Gu=null,e;0!==(1&Qu)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function _c(){if(null!==Yu){var e=bt(Qu),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Qu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(au(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){Ac(u,u.return,_)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Iu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function xc(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ac(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(Nu&n)===n&&(4===Ou||3===Ou&&(130023424&Nu)===Nu&&500>Je()-zu?hc(e,0):ju|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ta(e,t))&&(yt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Tc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case A:s=8,i|=8;break;case S:return(e=Nc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case T:return(e=Nc(13,n,t,i)).elementType=T,e.lanes=o,e;case R:return(e=Nc(19,n,t,i)).elementType=R,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case C:s=9;break e;case I:s=11;break e;case N:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Fc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Wc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Ei(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ni(t,Ii.current);Aa(t,n),i=Ao(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ns(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Us(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ti.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Aa(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return As(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Aa(t,n),Wa(t,r,i),Ga(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=Wc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Gc(o)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Iu)&&(Bu=Je()+500,Bi()))}break;case 13:lc((function(){var t=Ta(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Ta(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},At=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Te=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Ce,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),s=k("react.provider"),u=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!A.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=T(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!A.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},975:function(e,t,n){"use strict";t.Z=function(e){var t=e.dispatch;return function(e){return function(n){return(0,a.isFSA)(n)?(0,i.default)(n.payload)?n.payload.then((function(e){return t(o({},n,{payload:e}))})).catch((function(e){return t(o({},n,{payload:e,error:!0})),Promise.reject(e)})):e(n):(0,i.default)(n)?n.then(t):e(n)}}};var r,i=(r=n(950))&&r.__esModule?r:{default:r},a=n(567);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(_);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,A=!1,S=null,E=-1,C=5,I=-1;function T(){return!(t.unstable_now()-I<C)}function R(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?x():(A=!1,S=null)}}else A=!1}if("function"===typeof k)x=function(){k(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=R,x=function(){P.postMessage(null)}}else x=function(){y(R,0)};function D(e){S=e,A||(A=!0,x())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/sundae_modum/",n.nc=void 0,function(){"use strict";function e(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var t,r=n(791),i=n.t(r,2),a=n(250);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function b(e){var t=m();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function w(e,t,n){return w=m()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},w.apply(null,arguments)}function _(e){var t="function"===typeof Map?new Map:void 0;return _=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return w(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},_(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var A,S="popstate";function E(e){return{usr:e.state,key:e.key}}function C(e,t,n,r){return void 0===n&&(n=null),x({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?T(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function I(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function T(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null;function d(){f=t.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(S,d),h=e,function(){s.removeEventListener(S,d),h=null}},createHref:function(e){return n(s,e)},push:function(e,n){f=t.Push;var i=C(p.location,e,n);r&&r(i,e);var a=E(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch(dx){s.location.assign(o)}c&&h&&h({action:f,location:i})},replace:function(e,n){f=t.Replace;var i=C(p.location,e,n);r&&r(i,e);var a=E(i),o=p.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:i})},go:function(e){return l.go(e)}};return p}function N(e,t,n){void 0===n&&(n="/");var r=j(("string"===typeof t?T(t):t).pathname||"/",n);if(null==r)return null;var i=P(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=M(i[o],r);return a}function P(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(F(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=B([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(F(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),P(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(A||(A={}));var D=/^:\w+$/,O=function(e){return"*"===e};function L(e,t){var n=e.split("/"),r=n.length;return n.some(O)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!O(e)})).reduce((function(e,t){return e+(D.test(t)?3:""===t?1:10)}),r)}function M(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=U({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:B([i,l.pathname]),pathnameBase:W(B([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=B([i,l.pathnameBase]))}return a}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);V("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(dx){return V(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+dx+")."),e}}(l[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:c,pattern:e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function F(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function V(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function z(e,t,n,r){void 0===r&&(r=!1);var i,a="string"===typeof e?T(e):x({},e),o=""===e||""===a.pathname,s=o?"/":a.pathname;if(r||null==s)i=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;a.pathname=c.join("/")}i=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?T(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:H(a),hash:G(s)}}(a,i),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var B=function(e){return e.join("/").replace(/\/\/+/g,"/")},W=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},H=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},G=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},q=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(_(Error));var K=h((function e(t,n,r){l(this,e),this.status=t,this.statusText=n||"",this.data=r}));function Y(e){return e instanceof K}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}var X="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},J=r.useState,Z=r.useEffect,$=r.useLayoutEffect,ee=r.useDebugValue;function te(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!X(n,r)}catch(dx){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var ne=r.createContext(null);var re=r.createContext(null);var ie=r.createContext(null);var ae=r.createContext(null);var oe=r.createContext(null);var se=r.createContext(null);var ue=r.createContext({outlet:null,matches:[]});var ce=r.createContext(null);function le(){return null!=r.useContext(se)}function fe(){return le()||F(!1),r.useContext(se).location}function he(e){le()||F(!1);var t=fe().pathname;return r.useMemo((function(){return U(e,t)}),[t,e])}function de(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function pe(){le()||F(!1);var e=r.useContext(oe),t=e.basename,n=e.navigator,i=r.useContext(ue).matches,a=fe().pathname,o=JSON.stringify(de(i).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);r.useEffect((function(){s.current=!0}));var u=r.useCallback((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=z(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:B([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return u}function ve(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ue).matches,a=fe().pathname,o=JSON.stringify(de(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return z(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function me(){var e=function(){var e,t=r.useContext(ce),n=we(ye.UseRouteError),i=r.useContext(ue),a=i.matches[i.matches.length-1];if(t)return t;return i||F(!1),!a.route.id&&F(!1),null==(e=n.errors)?void 0:e[a.route.id]}(),t=Y(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:o},"errorElement")," props on\xa0",r.createElement("code",{style:o},"<Route>")))}var ye,ge=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return h(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ce.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function ke(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(ne);return a&&n.route.errorElement&&(a._deepestRenderedBoundaryId=n.route.id),r.createElement(ue.Provider,{value:t},i)}function be(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||F(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(me,null):null,l=function(){return r.createElement(ke,{match:o,routeContext:{outlet:e,matches:t.concat(i.slice(0,s+1))}},u?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===s)?r.createElement(ge,{location:n.location,component:c,error:u,children:l()}):l()}),null)}function we(e){var t=r.useContext(ie);return t||F(!1),t}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ye||(ye={}));var _e;function xe(e){F(!1)}function Ae(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;le()&&F(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=T(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,_=v.state,x=void 0===_?null:_,A=v.key,S=void 0===A?"default":A,E=r.useMemo((function(){var e=j(y,d);return null==e?null:{pathname:e,search:k,hash:w,state:x,key:S}}),[d,y,k,w,x,S]);return null==E?null:r.createElement(oe.Provider,{value:p},r.createElement(se.Provider,{children:o,value:{location:E,navigationType:c}}))}function Se(e){var n=e.children,i=e.location,a=r.useContext(re);return function(e,n){le()||F(!1);var i,a=r.useContext(ie),o=r.useContext(ue).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,fe());if(n){var f,h="string"===typeof n?T(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||F(!1),i=h}else i=l;var d=i.pathname||"/",p=N(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=be(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:B([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:B([c,e.pathnameBase])})})),o,a||void 0);return n?r.createElement(se.Provider,{value:{location:Q({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},v):v}(a&&!n?a.router.routes:Ce(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(_e||(_e={}));var Ee=new Promise((function(){}));r.Component;function Ce(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==xe&&F(!1);var a=[].concat(c(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Ce(e.props.children,a)),n.push(o)}else n.push.apply(n,Ce(e.props.children,t))})),n}function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Re=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ne(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),R((function(e,t){var n=e.location;return C("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:I(t)}),null,t)));var s=o.current,c=u(r.useState({action:s.action,location:s.location}),2),l=c[0],f=c[1];return r.useLayoutEffect((function(){return s.listen(f)}),[s]),r.createElement(Ae,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:s})}var Pe=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,c=e.to,l=e.preventScrollReset,f=Te(e,Re),h=function(e,t){var n=(void 0===t?{}:t).relative;le()||F(!1);var i=r.useContext(oe),a=i.basename,o=i.navigator,s=ve(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:B([a,c])),o.createHref({pathname:f,search:l,hash:u})}(c,{relative:i}),d=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=pe(),l=fe(),f=ve(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:I(l)===I(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(c,{replace:o,state:s,target:u,preventScrollReset:l,relative:i});return r.createElement("a",Ie({},f,{href:h,onClick:a?n:function(e){n&&n(e),e.defaultPrevented||d(e)},ref:t,target:u}))}));var De=n(441),Oe=n(613),Le=n.n(Oe);var Me=function(e){function t(e,r,u,c,h){for(var d,p,v,m,b,_=0,x=0,A=0,S=0,E=0,P=0,O=v=d=0,M=0,U=0,j=0,F=0,V=u.length,z=V-1,B="",W="",H="",G="";M<V;){if(p=u.charCodeAt(M),M===z&&0!==x+S+A+_&&(0!==x&&(p=47===x?10:47),S=A=_=0,V++,z++),0===x+S+A+_){if(M===z&&(0<U&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,F=++M;M<V;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(O=M+1;O<z;++O)switch(u.charCodeAt(O)){case 47:if(42===p&&42===u.charCodeAt(O-1)&&M+2!==O){M=O+1;break e}break;case 10:if(47===p){M=O+1;break e}}M=O}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<z&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(F,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<U&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:U=r;break;default:U=N}if(F=(v=t(r,U,v,p,h+1)).length,0<D&&(b=s(3,v,U=n(N,B,j),r,I,C,F,p,h,c),B=U.join(""),void 0!==b&&0===(F=(v=b.trim()).length)&&(p=0,v="")),0<F)switch(p){case 115:B=B.replace(w,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===R||2===R&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(W+=v,v="")}else v=""}else v=t(r,n(r,B,j),v,c,h+1);H+=v,v=j=U=O=d=0,B="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(F=(B=(0<U?B.replace(f,""):B).trim()).length))switch(0===O&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(F=(B=B.replace(" ",":")).length),0<D&&void 0!==(b=s(1,B,r,e,I,C,W.length,c,h,c))&&0===(F=(B=b.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){G+=B+u.charAt(M);break}default:58!==B.charCodeAt(F-1)&&(W+=i(B,d,p,B.charCodeAt(2)))}j=U=O=d=0,B="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==c&&0<B.length&&(U=1,B+="\0"),0<D*L&&s(0,B,r,e,I,C,W.length,c,h,c),C=1,I++;break;case 59:case 125:if(0===x+S+A+_){C++;break}default:switch(C++,m=u.charAt(M),p){case 9:case 32:if(0===S+_+x)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+x+_&&(U=j=1,m="\f"+m);break;case 108:if(0===S+x+_+T&&0<O)switch(M-O){case 2:112===E&&58===u.charCodeAt(M-3)&&(T=E);case 8:111===P&&(T=P)}break;case 58:0===S+x+_&&(O=M);break;case 44:0===x+A+S+_&&(U=1,m+="\r");break;case 34:case 39:0===x&&(S=S===p?0:0===S?p:S);break;case 91:0===S+x+A&&_++;break;case 93:0===S+x+A&&_--;break;case 41:0===S+x+_&&A--;break;case 40:if(0===S+x+_){if(0===d)if(2*E+3*P===533);else d=1;A++}break;case 64:0===x+A+S+_+O+v&&(v=1);break;case 42:case 47:if(!(0<S+_+A))switch(x){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:x=47;break;case 220:F=M,x=42}break;case 42:47===p&&42===E&&F+2!==M&&(33===u.charCodeAt(F+2)&&(W+=u.substring(F,M+1)),m="",x=0)}}0===x&&(B+=m)}P=E,E=p,M++}if(0<(F=W.length)){if(U=r,0<D&&(void 0!==(b=s(2,W,U,e,I,C,F,c,h,c))&&0===(W=b).length))return G+W+H;if(W=U.join(",")+"{"+W+"}",0!==R*T){switch(2!==R||a(W,2)||(T=0),T){case 111:W=W.replace(k,":-moz-$1")+W;break;case 112:W=W.replace(g,"::-webkit-input-$1")+W.replace(g,"::-moz-$1")+W.replace(g,":-ms-input-$1")+W}T=0}}return G+W+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===R||2===R&&a(u,1)?"-webkit-"+u+u:u}if(0===R||2===R&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(b,"tb");break;case 232:u=o.replace(b,"tb-rl");break;case 220:u=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?r:r.replace(A,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<D;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!==typeof e?R=1:(R=2,O=e):R=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=s(-1,n,r,r,I,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(N,r,n,0,0);return 0<D&&(void 0!==(i=s(-2,a,r,r,I,C,a.length,0,0,0))&&(a=i)),"",T=0,C=I=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,x=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,C=1,I=1,T=0,R=1,N=[],P=[],D=0,O=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:D=P.length=0;break;default:if("function"===typeof t)P[D++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},Ue={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var je=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Fe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ve=je((function(e){return Fe.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),ze=n(110),Be=n.n(ze);function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var He=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Ge=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,De.typeOf)(e)},qe=Object.freeze([]),Ke=Object.freeze({});function Ye(e){return"function"==typeof e}function Qe(e){return e.displayName||e.name||"Component"}function Xe(e){return e&&"string"==typeof e.styledComponentId}var Je="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"}.SC_ATTR)||"data-styled",Ze="undefined"!=typeof window&&"HTMLElement"in window,$e=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"}.SC_DISABLE_SPEEDY)),et={};function tt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var nt=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&tt(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),rt=new Map,it=new Map,at=1,ot=function(e){if(rt.has(e))return rt.get(e);for(;it.has(at);)at++;var t=at++;return rt.set(e,t),it.set(t,e),t},st=function(e){return it.get(e)},ut=function(e,t){t>=at&&(at=t+1),rt.set(e,t),it.set(t,e)},ct="style["+Je+'][data-styled-version="5.3.6"]',lt=new RegExp("^"+Je+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),ft=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},ht=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(lt);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(ut(c,u),ft(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},dt=function(){return n.nc},pt=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Je))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Je,"active"),r.setAttribute("data-styled-version","5.3.6");var o=dt();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},vt=function(){function e(e){var t=this.element=pt(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}tt(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),mt=function(){function e(e){var t=this.element=pt(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),yt=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),gt=Ze,kt={isServer:!Ze,useCSSOMInjection:!$e},bt=function(){function e(e,t,n){void 0===e&&(e=Ke),void 0===t&&(t={}),this.options=We({},kt,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ze&&gt&&(gt=!1,function(e){for(var t=document.querySelectorAll(ct),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Je)&&(ht(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return ot(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(We({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new yt(i):r?new vt(i):new mt(i),new nt(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(ot(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(ot(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(ot(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=st(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=Je+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),wt=/(a)(d)/gi,_t=function(e){return String.fromCharCode(e+(e>25?39:97))};function xt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=_t(t%52)+n;return(_t(t%52)+n).replace(wt,"$1-$2")}var At=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},St=function(e){return At(5381,e)};function Et(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ye(n)&&!Xe(n))return!1}return!0}var Ct=St("5.3.6"),It=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Et(e),this.componentId=t,this.baseHash=At(Ct,t),this.baseStyle=n,bt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=qt(this.rules,e,t,n).join(""),o=xt(At(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=At(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=qt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=At(c,p+f),l+=p}}if(l){var v=xt(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Tt=/^\s*\/\/.*$/gm,Rt=[":","[",".","#"];function Nt(e){var t,n,r,i,a=void 0===e?Ke:e,o=a.options,s=void 0===o?Ke:o,u=a.plugins,c=void 0===u?qe:u,l=new Me(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==Rt.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(Tt,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||tt(15),At(e,t.name)}),5381).toString():"",p}var Pt=r.createContext(),Dt=(Pt.Consumer,r.createContext()),Ot=(Dt.Consumer,new bt),Lt=Nt();function Mt(){return(0,r.useContext)(Pt)||Ot}function Ut(){return(0,r.useContext)(Dt)||Lt}function jt(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=Mt(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,r.useMemo)((function(){return Nt({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){Le()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(Pt.Provider,{value:o},r.createElement(Dt.Provider,{value:s},e.children))}var Ft=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Lt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return tt(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Lt),this.name+e.hash},e}(),Vt=/([A-Z])/,zt=/([A-Z])/g,Bt=/^ms-/,Wt=function(e){return"-"+e.toLowerCase()};function Ht(e){return Vt.test(e)?e.replace(zt,Wt).replace(Bt,"-ms-"):e}var Gt=function(e){return null==e||!1===e||""===e};function qt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=qt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Gt(e)?"":Xe(e)?"."+e.styledComponentId:Ye(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:qt(e(t),t,n,r):e instanceof Ft?n?(e.inject(n,r),e.getName(r)):e:Ge(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Gt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Ye(t[o])?a.push(Ht(o)+":",t[o],";"):Ge(t[o])?a.push.apply(a,e(t[o],o)):a.push(Ht(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Ue?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var Kt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ye(e)||Ge(e)?Kt(qt(He(qe,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Kt(qt(He(e,n)))}new Set;var Qt=function(e,t,n){return void 0===n&&(n=Ke),e.theme!==n.theme&&e.theme||t||n.theme},Xt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Jt=/(^-|-$)/g;function Zt(e){return e.replace(Xt,"-").replace(Jt,"")}var $t=function(e){return xt(St(e)>>>0)};function en(e){return"string"==typeof e&&!0}var tn=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},nn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function rn(e,t,n){var r=e[n];tn(t)&&tn(r)?an(r,t):e[n]=t}function an(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(tn(o))for(var s in o)nn(s)&&rn(e,o[s],s)}return e}var on=r.createContext();on.Consumer;function sn(e){var t=(0,r.useContext)(on),n=(0,r.useMemo)((function(){return function(e,t){return e?Ye(e)?e(t):Array.isArray(e)||"object"!=typeof e?tt(8):t?We({},t,{},e):e:tt(14)}(e.theme,t)}),[e.theme,t]);return e.children?r.createElement(on.Provider,{value:n},e.children):null}var un={};function cn(e,t,n){var i=Xe(e),a=!en(e),o=t.attrs,s=void 0===o?qe:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Zt(e);un[n]=(un[n]||0)+1;var r=n+"-"+$t("5.3.6"+n+un[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,f=void 0===l?function(e){return en(e)?"styled."+e:"Styled("+Qe(e)+")"}(e):l,h=t.displayName&&t.componentId?Zt(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new It(n,h,i?e.componentStyle:void 0),y=m.isStatic&&0===s.length,g=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=Ke);var r=We({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Ye(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Qt(t,(0,r.useContext)(on),s)||Ke,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Mt(),a=Ut();return t?e.generateAndInjectStyles(Ke,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=en(y),k=p!==t?We({},t,{},p):t,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,Ve,y):!g||Ve(w))&&(b[w]=k[w]));return t.style&&p.style!==t.style&&(b.style=We({},t.style,{},p.style)),b.className=Array.prototype.concat(u,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,r.createElement)(y,b)}(v,e,t,y)};return g.displayName=f,(v=r.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):qe,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(en(e)?e:Zt(Qe(e)));return cn(e,We({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?an({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&Be()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var ln=function(e){return function e(t,n,r){if(void 0===r&&(r=Ke),!(0,De.isValidElementType)(n))return tt(1,String(n));var i=function(){return t(n,r,Yt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,We({},r,{},i))},i.attrs=function(i){return e(t,n,We({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(cn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){ln[e]=ln(e)}));var fn=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Et(e),bt.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(qt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&bt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=dt();return"<style "+[n&&'nonce="'+n+'"',Je+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?tt(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return tt(2);var n=((t={})[Je]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=dt();return i&&(n.nonce=i),[r.createElement("style",We({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new bt({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?tt(2):r.createElement(jt,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return tt(3)}}();var hn=ln,dn=n(975);function pn(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var vn=pn();vn.withExtraArgument=pn;var mn=vn;function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var wn="function"===typeof Symbol&&Symbol.observable||"@@observable",_n=function(){return Math.random().toString(36).substring(7).split("").join(".")},xn={INIT:"@@redux/INIT"+_n(),REPLACE:"@@redux/REPLACE"+_n(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_n()}};function An(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Sn(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(bn(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(bn(1));return n(Sn)(e,t)}if("function"!==typeof e)throw new Error(bn(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(bn(3));return a}function f(e){if("function"!==typeof e)throw new Error(bn(4));if(u)throw new Error(bn(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(bn(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!An(e))throw new Error(bn(7));if("undefined"===typeof e.type)throw new Error(bn(8));if(u)throw new Error(bn(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(bn(10));i=e,h({type:xn.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(bn(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[wn]=function(){return this},e}return h({type:xn.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[wn]=p,r}function En(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Cn="set_user",In="clear_user",Tn="set_photo_url",Rn="first_set_user",Nn="set_current_post",Pn="clear_current_post",Dn={currentUser:null,isLoading:!0};var On={currentPost:null,isLoding:!0};var Ln=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:xn.INIT}))throw new Error(bn(12));if("undefined"===typeof n(void 0,{type:xn.PROBE_UNKNOWN_ACTION()}))throw new Error(bn(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(bn(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rn:return kn(kn({},e),{},{currentUser:t.payload,isLoading:!0});case Cn:return kn(kn({},e),{},{currentUser:t.payload,isLoading:!1});case In:return Dn;case Tn:return kn(kn({},e),{},{currentUser:kn(kn({},e.currentUser),t.payload),isLoading:!1});default:return e}},test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"TEST"===t.type?kn(kn({},e),{},{currentUser:t.payload,isLoading:!1}):e},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nn:return kn(kn({},e),{},{currentPost:t.payload,isLoding:!1});case Pn:return On;default:return e}}}),Mn=Ln,Un=n(248),jn=n(327),Fn=n(164);var Vn=function(e){e()},zn=function(){return Vn},Bn=(0,r.createContext)(null);function Wn(){return(0,r.useContext)(Bn)}var Hn=function(){throw new Error("uSES not initialized!")},Gn=Hn,qn=function(e,t){return e===t};function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=e===Bn?Wn:function(){return(0,r.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn;var i=t(),a=i.store,o=i.subscription,s=i.getServerState,u=Gn(o.addNestedSub,a.getState,s||a.getState,e,n);return(0,r.useDebugValue)(u),u}}var Yn=Kn();n(900);var Qn={notify:function(){},get:function(){return[]}};function Xn(e,t){var n,r=Qn;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=zn(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Qn)},getListeners:function(){return r}};return o}var Jn=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var Zn=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=Xn(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);Jn((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=n||Bn;return r.createElement(u.Provider,{value:o},i)};function $n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=e===Bn?Wn:function(){return(0,r.useContext)(e)};return function(){return t().store}}var er=$n();function tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=e===Bn?er:$n(e);return function(){return t().dispatch}}var nr,rr=tr();function ir(){ir=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=f.prototype=Object.create(p);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==y(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,s(g,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,o,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function ar(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(dx){return void n(dx)}s.done?t(u):Promise.resolve(u).then(r,i)}function or(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ar(a,r,i,o,s,"next",e)}function s(e){ar(a,r,i,o,s,"throw",e)}o(void 0)}))}}!function(e){Gn=e}(jn.useSyncExternalStoreWithSelector),function(e){e}(Un.useSyncExternalStore),nr=Fn.unstable_batchedUpdates,Vn=nr;var sr,ur,cr,lr,fr,hr,dr,pr,vr,mr,yr,gr=hn.h1(sr||(sr=e(["\n  position: absolute;\n  clip-path: inset(50%);\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n"]))),kr=hn.h2(ur||(ur=e(["\n  position: absolute;\n  clip-path: inset(50%);\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n"]))),br=(hn.h3(cr||(cr=e(["\n  position: absolute;\n  clip-path: inset(50%);\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n"]))),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABSSURBVHgB7dS7CUAhEETR4VW2nTw70Y61Az+gsKHKiIF7YDK5GC1gNkgf1V+X6yKIRrQtgMSi/Kio6OpEhz5wpJlHTv3Cg8xZ/GqcTnDgbD6gAD9SMbLQl+AeAAAAAElFTkSuQmCC"),wr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABRSURBVHgB7dI7DQAgDATQFlxVBRIwUT246YwFnAAK+AQCw72kW69Dc0RwkqrGPisZP7vYDzNzahNEpJhZnsk5+snOi+As1HQINX0PNR1CTa+oVUgrM8QNcjIAAAAASUVORK5CYII=",_r=n(337),xr=n(184),Ar=hn.article(lr||(lr=e(["\n  width:100%;\n  position:fixed;\n  height:48px;\n  overflow:hidden;\n  border-bottom:0.5px solid rgb(219, 219, 219);\n  background-color:white;\n  z-index: 10;\n  "]))),Sr=hn.header(fr||(fr=e(["\n  max-width:450px;\n  margin:0 auto;\n  display: flex;\n  align-items:center;\n  justify-content:space-between;\n  padding:14px 12px;\n  font-weight:600;\n"]))),Er=hn.h1(hr||(hr=e(['\n  font-size:22px;\n  margin-left:50px;\n  position: relative;\n  &::before{\n    content:"";\n    background:url(',") center/50px 50px;\n    position:absolute;\n    width:50px;\n    height:50px;\n    top:-13px;\n    left:-50px; \n  }\n"])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABSCAYAAADHLIObAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAsdSURBVHhe7Zp/jFxVFcdXEQUE0RawVrQCoiiQGiGhgtHij1ISrab9Q0SBEihVUaEUidQfjaU2po1NUekfFAgNGLCmiloaWH8snXlvZt7szOx2O+0u26yLLdVaaIDadltadv18b88bZmZn5wd23e72fZOTmffuveee+73nnHvve68pQoQIESJEiBAhwjGFgYGBN0vsMsIbQVtb23t931+S8LwVra2t59ntCPWipaXl1GQyOcePx7uCZHIgnUoNxOPx55A7M5nM6VYtQjUEQXAVHvjXFAQmE4mBeCzmRP8DCPXi8TQkzyTc32RNIhQjlUp91Pe81cheEVZMYKqIUBFMnQPI7wLPu9SaR8jn8+PwwB9DzE4RyO/rBIo0348hzQnfL3goXum8k9B/mbbLlEtN3fEHct0piUTiWkjZLIJEVDFJ5MOteOm3IfrU3t7ek6h7A+WblDNDsvUrsmnzd8q/AaHvNPXHB5Lx+Cfxpichor/cy/j9D6T+nDz4AateQD4IJnietwiSdxd7rybBEep5G2h39ZjPn7lk8nzCdCWD36+BiwSJyITAgxD0BF54SS0issnkR5iIR70yPS4VoAeCf42eyQNNTWOL0M7OztPwlPmQtb08D5pHtiU9b9b69evfZk1qArJPIJyno9MLPVI6Q8+mj13kz3u6urrOsCbHDvCms+Lp9LnM9jnFwv1J3d3dg0hQbtNWBU9rK18sbODbk74/Hx3vsCYNw/LnXHR2O48sD3fuY8Ns7U2tycgDg1dgZC/SDTlOYhs29GB8kMvlJls1B8i5hEH8HvIOlBPIbx/57L6jeVqhv7OZ0KX0s8dyretTfdPnIa7/AqFTrfrIglD5baa1tRCSEp06MHQ3A5miOlm8Ey9bjuGvlA8IL3kV8p+ExE84hcMA7JiMnWuwab/6dBOImC19lD0E4RdY9ZEBifxxeZSMC0WhhIEv5NLpT2PgLZDUXUxgGGLUyzPIr1ZKAZXQ0dHxLiLgO7T7jfrlxHOztkJWXBXUeyt9fYlJa1XfssERik3uuBmL7cDWH47YcbMSkUbYPn57MfhweApxRgeBCNzOQvIDEWNqqkJEa+GhrzZ5VGs67fSIDHR5hOfnWWjeYtWrguqnMRm307bHbHG2SZd0Y+Mmyq9VnrUm/x9UIjIUGWmkhqtmH7P+AJ50oTWvCeVZ2q1lkH2V+nGe7ft7sWPV5s2bJ1mzmoD887HtXmSvNvShnUbma8g6jpvDlm4GoRqREs2085xYrJnQ+ow1qwk8ZyKe/DMGVJJXK4kmTHX4vwPPvQOPGmdqakJ5nDH8Af2VDgL70f1LJv5DVn34MBSRIs95SzzexUJzo/aN1qQqlMsg4iaI7LT2g3QPJVr06Heftjamri7Q38m0+QrEbRSZxYQq/PntZVLnDctxc82aNScEvv9ZOuwSaeFgXOdHwngXIbeY5F335petz5UsBn8LJyHUWUtUH+lHnqbPgtfT9wXpdPrDdlkTWmhYwRcwhufL86fZ0wrhM6l3ojX53yBXp8MH6Uhn4MKAwjyIIY8xyxdb9Zpob28/h/r309aFcaivlmigFoJbaV9YweX9EHqnCGGb00tE3EYI173BLx5fsT3yVMbbx/219Pdxq9446GA8CjRj/zbSCh0g/VzHqTPdqtdET0/P6czwfML4n8UeUEvo/wiBnvcy/S7Dk98jfToiom8G9zPyILPryAT7fizg+Lhw4cK63/Wgayq6/oyOw9JT3DcpZw9cNPa4TnkrbTkEA18LB6xf5/L2yKrePR0DPtENOB4P5NH1EijRgKh/CI/5U5DNXoouR0y7718EWY9TNuTqTpu91FnVyOmJMNajvRtipDD6lrM4fSJU2zo8voffuXXthckz72MWupXMQyWaFUh4CcOWhh5RD/DYjzHLj6Gjv9KAhxIRrj75v4k+rwnzFLomcv1T9LnHaLKtvG0oIsF5k+c9z0TeVu8CKLANO5OJWIQdu5wO68dOdc+SOs62qtWhVUveIEGZHuuvpXHNx1shRDYzq+eGL4rAagMuFtUzwl8k1/2IfHqWqXSAkDnIHqWG8rZDiQhlHIchxk8nEp9raWmpazOvsRLKF0Lio0yge1ynCab/b1qV2ujkRIABGYjIQeCXUVpX53J5CLweQjrNiysOrlxCAunzMB73CFFxkakcBMouZ2DrwomupK9cpN95lu/vp+0DjYS7diyMaTphndRkNPwUKZvNTiI0J9hlVUC0OrsCI5+CvEP1DlAispF+/icgSU+3a05amMsgfkutEC+WAqGe9w+i7nZtgUxlTVD3DDiZaJfDAwY1DzLc9qHeQTGYcAOsZ5IN5bAQWkXpexk6Gupbk2ce+gze+ca3NkcTeO2nGMBeGVfJ6EpiXqHFayU5Z9C7mUagXIaOy4iG9egsbF3qEU0kdufrjbxhBcn4F3pCU8nQcrE82E+ueUoTYCqOCuxp/Gzy+lZNVL0T6xaRROIuUzNyICwfrkWkQs5IzCu3aa9qzWsCj2voI6ogn5/gwh2PV5+V7CkWbWmo+6A1HzlATlUi3WDicYXx4kb2oIKF7Bq8Xm8Xp9ntmlC405cLd3lmNe+U7cc8kcpXENhMGNf9TDKEVknaJttyuYFsJiNv3sqAG3rHw1blpHQqdZ3CnfYVbRwVRCqZs6W5xqo2BMLzYlLCTnmTUgNykHtXWHFDwLO/NdQmfjQReZ1VbQjalEPev4qI7Ev7/uVW3BCYgJtGPZHktuutagHbtm07mRx2JWTNQmYWJJk8Iun0DB1TIe8lhaSIRN+rrPYLOOZ9saTN6+1moXMa/Q16hAaRN485IvXUiNz3hMpjGzb0V5NyfZXqFIsIxx493ivZF45JIjNBcFV4Cqkl5foq1SkX9YmX3mjdOUDs2COSQX69eH+nwevafa7H/+L2YZlE/+sp004BD/yedefAYjNnzBGJd3wtPMYZAQfY1K8i3Jdy/QL6issOstispP4y/r8SEma/+yDsPkhaXlwm3dybb905jHki5U20X2tF+iTmHt0rlHFqsiJ9wLUkJEO/EHy/Fandr8J2Y5ZIQrlk+xMkEiVEyqOsSOf2W+VZErXl+idW1ETozwn7UY6lXaEMkr9fjcgxkSNrEUl4rrCippTvlxCJpy2yIq28c4ciEiIWjH4ifX/10SISXUMSqZdOQxGJjrurEjkatj8sFMt1Fq70YKBhIstCm7Ljh0h92oHn3IUx28L9YWikjB+02EREVkc2kfggoaltzP6Q0IjIBoDRM0jm7jGZ3rhx3p3KAtTCgA7lstmGiBy02NRJJERUX2xGA5EM6hEGvhvj79ixY8cputfe3v52CLyF+zuz2Wz5ca2ESOrda0UiRF/oFojEuxdbkT7Jmxt+tCAi06lUgWQILyGS65KTDdfHPpFeLLZaD1/tcVcq8P0vhK9U8c7zyKElL7dYfGaICA1Cg2N/uMSK5N2z0aMPP90rAOrebUVNSc+b7V4LUKb2eGihDJJvDb1VOluDoOQlPuXH/mM0Bru6Y+NGZ5ALZTwDctdCYsXXnHjkeDztGXkOA3iuuF53LncmHhkXUfw+S1nhK7dMJvN+2iWtLE+/hU/49A4eXe2ms4Oyc63IIRMEcza2tzuSy2VTR8cANj1kVUcOhM08BtaM/FHCCr6OATfjXash4jKrVgK9w1ZZpRfu+tY8k0pNKf9cRXBlmcwUdL/bbhWQz+fH4XlTtmzZMt5uFdCaSk1jIXs6tLFMmtnCfdeqRogQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECGMQTU3/BQMufeVwHSsUAAAAAElFTkSuQmCC"),Cr=hn.button(dr||(dr=e(["\n  background:url(",") center no-repeat;\n  width:22px;\n  height:22px;\n"])),(function(e){return e.icon})),Ir=hn.button(pr||(pr=e(["\n  background-color:",";\n  width:80px;\n  /* padding:7px 0; */\n  height:22px;\n  color:white;\n  border-radius:32px; \n  font-size:14px;\n  /* position: relative;\n  bottom:4px; */\n"])),(function(e){return e.theme.mainColor})),Tr=hn.button(vr||(vr=e(["\n  background:url(",");\n  width:22px;\n  height:22px;\n"])),br),Rr=hn.div(mr||(mr=e(["\n  display: flex;\n  align-items:center;\n  gap:5px;\n  font-size:18px;\n"]))),Nr=hn.div(yr||(yr=e(["\n  top:1px;\n  position: relative;\n"])));var Pr,Dr,Or,Lr,Mr,Ur,jr=function(e){var t=e.h1,n=e.prv,r=e.ir,i=e.search,a=e.upload,o=e.vertical,s=e.userName,u=e.onSubmit,c=pe();return(0,xr.jsx)(xr.Fragment,{children:(0,xr.jsx)(Ar,{children:(0,xr.jsxs)(Sr,{children:[t&&(0,xr.jsxs)(Er,{children:[" ",t," "]}),r&&(0,xr.jsxs)(gr,{children:[" ",r," "]}),n&&(0,xr.jsxs)(Rr,{children:[(0,xr.jsx)(Tr,{alt:"\uc774\uc804",onClick:function(){return c(-1)}}),s&&(0,xr.jsxs)(Nr,{children:[" ",s," "]})]}),o&&(0,xr.jsx)(Cr,{icon:wr,onClick:function(e){e.preventDefault(),(0,_r._1)({title:"Confirm to submit",message:"Are you sure to do this.",buttons:[{label:"Yes",onClick:function(){alert("Click Yes"),console.log("hi")}},{label:"No",onClick:function(){return alert("Click No")}}]})}}),i&&(0,xr.jsx)(Cr,{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHjSURBVHgB3VXLbcJAFFxDAAEXl2AqSOjAdJAOgAqwxPcWc0EIkIAKgA6SCiAV4BK2BN+QOEBmyBLxWa/sKDkkIz17bZ7fzH7eIMRfh2X6sdVquZZlVREuHh31OsBzcDwe30aj0av4DoHneU4mk1mowibI/X5fmc1mMiohdfui3W4/ZbPZrSoeIvooUoJaiwHlZUSdxREOc/mNiDMDKucHGNqIVaFQ8HzfD3UfItfGLH0IaVAIRJR1M3m4fEDxNYtD4Xw8HnvCABQjsdfpdCimmsvlFrhXbvO+lqjZbD6Lz42UxWLRFzEB5RQSQpTLQxFJkE6nSSCQ2I9aFsNM5qpGNZIAeOQF6xqIhEilUkslzjURnE7CYDBITDAcDqUaOiaCX8ElgeSl1+s5IiFwZM99EJgI3nk5HA41kRDYtxMBLSSSAIWXatjAKbJFTLDhUPiFY/pTJMFkMtkgcYOhvdvtpiIm0Jws7iCkzvyuOhkEdajYImrdbjfM5/N9k1Wge6fM5TNWoK7Lu3NTGheITpZBVWw83ANYR6AK06/YUJ7KOUPrrFq75kmCorXQnOtLgHxDAWi0hcq9IzH+4dCflIWwy89HUarCK+6bRtAViZEgCW5JsOElvv+xTqZdYKlo11L8K3wAO4TkNitZUvMAAAAASUVORK5CYII="}),a&&(0,xr.jsx)(Ir,{onClick:u,children:"\uc5c5\ub85c\ub4dc"})]})})})},Fr=hn.main(Pr||(Pr=e(["\n  max-width:450px;\n  width:100%;\n  margin:0 auto;\n  padding: 48px ",";\n  position: relative;\n  background-color: ",";\n"])),(function(e){return e.pr||"12px"}),(function(e){return e.bg||"white"})),Vr=hn.nav(Dr||(Dr=e(["\n  width:100%;\n  position:fixed;\n  bottom:0;\n  height:56px;\n  border-top:0.5px solid rgb(219, 219, 219);\n  background-color:white;\n"]))),zr=hn.ul(Or||(Or=e(["\n  max-width:450px;\n  width:100%;\n  margin:0 auto;\n  display: flex;\n  justify-content:space-between;\n  padding:14px 12px;\n"]))),Br=hn.li(Lr||(Lr=e(["\n  display: flex;\n  flex-direction:column;\n  align-items:center;\n"]))),Wr=hn.button(Mr||(Mr=e(["\n  width:24px;\n  height:24px;\n  margin-bottom:3px;\n  background:url(",") center/24px 24px;\n  border:0;\n\n"])),(function(e){return e.icon})),Hr=hn.span(Ur||(Ur=e(["\n  font-size:10px;\n"])));var Gr,qr,Kr,Yr,Qr,Xr,Jr,Zr=function(){var e=pe(),t=he("/"),n=he("/dm"),r=he("/profile"),i=he("/postupload");return(0,xr.jsx)(Vr,{children:(0,xr.jsxs)(zr,{children:[(0,xr.jsxs)(Br,{onClick:function(){return e("/")},children:[(0,xr.jsx)(Wr,{icon:t?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAGlmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuNTY2ZWJjNSwgMjAyMi8wNS8wOS0wNzoyMjoyOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjQgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMi0xMC0wNFQxMTo0MTozNSswOTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMTAtMDRUMTE6NDY6NTgrMDk6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMTAtMDRUMTE6NDY6NTgrMDk6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZhZTRiZWFjLWE5NDQtMTg0My1hYmVkLWI0YTU4M2NmOWViYiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjFkYjJmOGNhLTQ3MmEtOGY0ZC1hOWYyLWI3ZDMwYmE3Y2YwOSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjRlZTdhNzM1LTQ2ZTgtNDE0ZC05MWZjLTQ2ZjBmZTA3ZTU5MyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NGVlN2E3MzUtNDZlOC00MTRkLTkxZmMtNDZmMGZlMDdlNTkzIiBzdEV2dDp3aGVuPSIyMDIyLTEwLTA0VDExOjQxOjM1KzA5OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjMuNCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjBiMTM4ODRiLWNiYjYtYzk0OC05YmUwLTk3NWIwZTIzN2JmYyIgc3RFdnQ6d2hlbj0iMjAyMi0xMC0wNFQxMTo0Njo0MiswOTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIzLjQgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2YWU0YmVhYy1hOTQ0LTE4NDMtYWJlZC1iNGE1ODNjZjllYmIiIHN0RXZ0OndoZW49IjIwMjItMTAtMDRUMTE6NDY6NTgrMDk6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMy40IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6OJzASAAAA9ElEQVRoge2aXQ6CMBCEt8az6pnksvWJRKHQn5122mTmTU2W+ZgtbMEQY7SV9WAb8Op5/CK8N1TtY7QBUvTz+vvcK4FUX3bp1VMCTuVM7r9D0jDDJlBzhmFpoABaDEEgvC3kNeFuKU8CyEXZXKsVoMcVpalmC0DPW3d17Zo1MGrmqFoXpQkwBqaiY5YAMKe97LHvWmiWMfW2pa4SmMX8r5KeUgAzmt918rb8fkAAbAmALQGwJQC20E8lzPJjMPROv3wCAmBLAGwJgC0BsCUAtgTAlgDY6rEfGPpkb7UETpulFADsHe4IXSUQbD6QpJ+gf6uQ9QXA3ShTSNY5BgAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK1SURBVHgB7Zi9ktowFIUv2PyULlM6b0C6MFDsdkm3+wTZfYL1zgBDqvV2/M3gfYKQLl1SJlWggEm5+wYuU5IyFJCjsQtjC2HZItpk/M14kJFk6UpHB3OJCvRSohPR7XZvSqWSi+Ia18NoNPLoBBh0Anq93jScfB2XhetNu922lsvlN1KM0h1wHMeuVqufUWwcaOJvNptzz/N8UoSyHeh0OmemaX5H0RY0swzDuGg2m0+r1conBSgJAJK5g2RmFEgmik/BGbAi31loe9VqtQiSWlBOckkIkrEgmQ8oXnCqv0Au1/V63dput1NBm9s8ksocAFymgZVkerc51fdwHTf6BXaJ3d9x2uY6F5kkFFrkDMUXsao1VvvteDyexftALnNof4F+ZxSTFM4Fk9RvtPlBkkjvALNIfDicqsdyuXw5GAx8Uf9+v28jSO5hR3DecDi8JQlSByCyyN1u94BVd0gC7KKHCd9wqqQklUpCAotkDvMek3dJEtjoV0jqF4J4TfvuJWW1R3eAWSQ+XE6Vj5W/xOQfKQciSbFxYQb3ov4HA0hjkdjmNSkgDCKT1XIDkLVIVWSxWoPzkHeY/CeSsEhVpLDan2jzFO1T5jzHjXVmMIt8NZlM5nRi2BgY65yC15AobE6JV3KT8ww7epPFIvMS/pa85FhtfGG5O7DH35687NhHA3ju/PMBmJQT5loUHC5LsqtPwQ/VR8qBih1wSX7yDJs4riKLigBsyk6WwPcozkAcaFr4gogzsyOFFDaqmyIA3RQB6KYIQDdFALopAtDN/x8Ay9CRJlhC+VibRABIo8yj95VKZZrmQaphC1er1eJZukQeNvHuLkjvaQeLex3PDCZ2ADlI9j/Vp+eHz0trJgJgGecDqT2d+OGcEgj//iG1dxWm9hqkAXYeMf6CqUJVKr9ANX8Ak8sdovvoZDAAAAAASUVORK5CYII="}),(0,xr.jsx)(Hr,{children:"\ud648"})]}),(0,xr.jsxs)(Br,{onClick:function(){return e("/dm")},children:[(0,xr.jsx)(Wr,{icon:n?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuNTY2ZWJjNSwgMjAyMi8wNS8wOS0wNzoyMjoyOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjQgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMi0xMC0wNFQxMTo0MTo0MyswOTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMTAtMDRUMTE6NTE6NTYrMDk6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMTAtMDRUMTE6NTE6NTYrMDk6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQyNWYyOTBlLTY0YjMtNWM0Mi1iZDJkLTUwY2VjY2E5MzQ2NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0MjVmMjkwZS02NGIzLTVjNDItYmQyZC01MGNlY2NhOTM0NjQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0MjVmMjkwZS02NGIzLTVjNDItYmQyZC01MGNlY2NhOTM0NjQiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQyNWYyOTBlLTY0YjMtNWM0Mi1iZDJkLTUwY2VjY2E5MzQ2NCIgc3RFdnQ6d2hlbj0iMjAyMi0xMC0wNFQxMTo0MTo0MyswOTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIzLjQgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqED7dsAAAL0SURBVEiJtZZPaFRXFMa/c+54pzPJ60wiLtTUNJRGBMF0objrn40ogulakIjQ6EKc0qLudNmFlFCh1YjVVZddtdClQSSUbkyEBP+gEYJJRNvMmJk3mffe/VxMZpi8vugk4lk9Hud8v3vuOffcKyTxPi21HmcZHk0BCAGAV79pL6aRgQyPJjoUstN5a+2ZK6Xes2WajCPkA3E4nZu5S3IsCIKRkcqumXhcYwFrZtCjlb1HvOfHr5X6T2mV8KkwICIofBr8VOwbcMBARDlzruvxzUwm8+3FZ1sX4zqaJH44Pbu7w7i/fin2nqpQUaZxIRU1Nt25THUhxQHAz8UdQ8+WavcK2emP3wooZKfzj5gffxB0douAhNBR4n5CQB1EIwiXXArXSzt6Xqp35+K2ufwbAdbaC/drnZ0iZEQBAEnKMgZjBMFv5e3bfN+/sCbgKzv/2fVXHxUAwNXTf5t4EwKAjsDlxd5C61atAgxkysej+icBmDbFmxBCGEJgrR1KAuT+Wc4fWIws3uHoSY2KCDLYaPtWgNyubu7XurzbIIA5DTCy2LcHQHccsC8tDnkTAuvfnuYirRDSUrlWQG8Eoe8Sj0a7xoCCvlQlAFCMA659l38yBgCyMm82YFKmwWB27g6AKA4AybEqDXSDZRaAph470fi3CvColpn0NIARttv/LeJ0IpSUEMaYkcawWwVIqQx56hBQN1AIURI42jF79Yd/+2YSM/izsuXgyuavu003icPXHQsLW730+db/TcD3Hz78AkBqIUyD9TZ1AGDFtcISi6MgCrknE/1pf398ZDfvgxLsSd+Z+lABYEBNq8MyVVPS0KXkNETFKdJCVGkQCfBl+sXv2Wz2RNJ9ICQhw6MqQKigWHEQIarO4Jg3+2s3/D+M6uc/Fj85LQIxoHgaRvvsf9NGMD4Zdt14WrPjceFGkRsACEAFsXPT0t+HMvPnL5U+vRWLMVjp7Xbsf1cmAYkgW6YC79VU4FUTYt4ovtYjQN73s+U1rUE76tS4ASYAAAAASUVORK5CYII=":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHpSURBVHgB5VXdjcIwDE5KQeLngdugTABMAEwANwFscJwEiDf6iIAH2AA2YAPKBJQJriP0AYHE79mVg3JtCrRvJyy1dRL7+2zHSRn778KfGbTb7Xwqlfq63W5VznkJpvK0ZMPc+nQ6TUGcyAQEPECVPYuS83k6nf42TdP1r2kh4AaAWwIcAa7Xay2TyXyMRiOOXxzD0gLXIZPWfr/foF+APCTyDaho7IDz53g8tlmI9Pt9A8hWwh7Iy3ImgQyoLJ6xpmm1R+Aow+HQOR6PZbRHv8PhMAjNgErz4zFrWgGd2YtCmXi+QFgQG/8ng2Qyea95FHCRCZRzhjoE2RLz/hIV8XW5XBYshgDBktS6koD6nOVyOZvFkPP5LPwMJQGjQ6Tq51cE6u7KOCoClwjyLIZgi8s4AQIokZfibrcrsRii67rnB3thKwnwbsFvIpFoshgCrd0idaskgD62iChyBnRNNCnAqZJARCBKFQUcen9Fwc3kM+Tf5Aq+opyDbrdbInADHiebzZryui6UTqdTFUaTycTCMWTSgKcOj4Wk2OfYitgtuKGUsdivLYwb/ha/30W9Xm9OxoFefiZYFoxcdX50Sa/4gF1wXODGQ2RVGBelPxqu2TBew/U8fXQwdd/YA8U7BcskzS/Z28ovoB7jVnFk288AAAAASUVORK5CYII="}),(0,xr.jsx)(Hr,{children:"\ucc44\ud305"})]}),(0,xr.jsxs)(Br,{onClick:function(){return e("/postupload")},children:[(0,xr.jsx)(Wr,{icon:i?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAyklEQVRoge2bQQrDMAwEpZLv9Sl9TZ/SB7qXCoqTQA+Oi3dnTiEm4GGxkY2SrbVw4vbvCcwGYXXshLejl/l41eOqO1pGRLTnfTdAwh9WTbao+Wc/YJcwwuogrA7C6iCsjp3wWWl5GX1B/3VQmYJdwgirg7A6CKuDsDrDKq2jK9GR342qyOwSRlidYWv41zXGaWkyCKuDsDoIq4OwOtPvpWdXVj12CSOsDsLqIKwOwurYCZ+VltWFumpX7a6LtrBLOPmNRxyE1bETfgMHihqgvPigUgAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJGSURBVHgB7ZlNUsIwFMcfhYFxxxF6A3XBjEs5AdzA4QTC8DHsKFs+xnoCcekOT6BLdvYG9ggs5WPA98aOE9KUYts0VfOb6RDTJ8k/L3kJLwAazf8mF2bQ6XSuDcOoYbGOjwnp4ORyOWe1Wg1t23aPGQYKaDab5WKxOKAiKASF2J6QpfC9qNLr/AsWLyAbOOv1uioSYYisvZHPSueJi1KpNBC98HkAR99EAe9ctbvb7Rrb7dYJcmWStNvtej6fvwNuzWEfqpPJ5JWt83lAoNRF913SP6bReWI6nc6pTWqbrcf1UOdtfQL2+z0/dVppdZyF2iSvs3UooMbbidbAgYDRaDQHRdCU5apM3saADHOK5zMt4BQKIIler3eDHzY+NIoWTsVHkIBMD1j4lOFr3togCZkCTKZcBkn8+jWgBahGC1BN5H2AifMnRRi03we8ciHGPhHHAxYkEx5NiLFPxBGQZGyPfNqNLACP3S3gzusRWeJ3DSEikdfAeDye4ccs6D0/53GOh2ZAoqDDqGq0ANVoAUdgY7sLkpAmgNknYsX5MKT9Jg7bJ5Li768BylRDhhEJcNk/CoWCsiw1JXm5Kj5TJ8yNPh8YGMaDCi9Qm16G+hu6teHtRAL4XCil29/wcObLDMuAOk7XWtQmcLlQFOCLZsITYrfbtdH4FjIEDuw9RjbfdZdwEW82GwsE800hjtcnH3lR5WKx+KhUKk84/8/QE1egEBp57HzjR5d8LP1+38SLBguL55DevZlLwYTWI3+lpNFoDvkE64nO+QQoKhEAAAAASUVORK5CYII="}),(0,xr.jsx)(Hr,{children:"\uac8c\uc2dc\ubb3c \uc791\uc131"})]}),(0,xr.jsxs)(Br,{onClick:function(){return e("/profile")},children:[(0,xr.jsx)(Wr,{icon:r?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAGlmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4yLWMwMDAgNzkuNTY2ZWJjNSwgMjAyMi8wNS8wOS0wNzoyMjoyOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjQgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMi0xMC0wNFQxMTo0MTo1MSswOTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMTAtMDRUMTI6MDI6MDgrMDk6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMTAtMDRUMTI6MDI6MDgrMDk6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmI0ZDhhYWRlLWYwNGItZDc0Ny1iYjdkLWU1YzJhZDYxYjQ0YiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjA2M2I3NTZkLWI4MDgtNGY0MC1hN2VhLThmM2Q3ZDEyYWU3YyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmFiZGZiYzBmLTI2NjUtNGE0Zi1iNjdiLWQ0YjVjM2Y3NzA5YSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWJkZmJjMGYtMjY2NS00YTRmLWI2N2ItZDRiNWMzZjc3MDlhIiBzdEV2dDp3aGVuPSIyMDIyLTEwLTA0VDExOjQxOjUxKzA5OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjMuNCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmY2YWQxMGNkLTEwNmQtZjY0My04M2Q0LTVhYTNmYjQzNTdhMCIgc3RFdnQ6d2hlbj0iMjAyMi0xMC0wNFQxMTo1Mjo1MyswOTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIzLjQgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNGQ4YWFkZS1mMDRiLWQ3NDctYmI3ZC1lNWMyYWQ2MWI0NGIiIHN0RXZ0OndoZW49IjIwMjItMTAtMDRUMTI6MDI6MDgrMDk6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMy40IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6kM0/aAAAA80lEQVRoge2YURLDIAhEY6dnbc/UXNZeIIiyOy7O8D6bRnkSTKRdvV8n81IHgFICat7mldbGd35+T7/OFNTzwPd3fJdRq8wMzO4GfeG/LiyBSEAUCYYAEggsgQowVhEaI8suFJZABFK8wrNkIEwJqCkBNSWgJouA8+lrgwiEJ2WCZoAhAY3BeISQAOAFYNVAJBDKI8gs4nbNB0Wrn2b2hbwz8W42nIkllIAauy8U7/ugLBXfSgZ2HSGX+kazAorz79ScMwLKw7s7tyeQofMwjOGUXciUGAlkWH2XUzJgUgJqSkBNCagpATUloMbuShzC8Rn4A22XJVAUj/A9AAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALGSURBVHgB7ZhNjtowFMcf311yhPQEpVtAKnOC0mVXpSeAig+x67BDgNRwgqEnaLtrV0MXsOYGzdyANULQ/9METTAkxH7RTDSTn2RFduzEf9vPfn5ECQkvmxRFSKvVKmaz2UY6nX6HbAnJcl+tkJz9fv9rPB7PKEIiE9Dr9ep43CAVL1RlIYOohGQoAtD5b3jYSK9CVC+mUql6pVKhxWLxl4SIBaDzX/Hokz61arVahIg/JCBNArrdbgOPa6V4jTTY7XZXo9EoxQlL5i3KvqvtUd5yl54xIhvAz//Rg6EyDgz4ajgcOufq9/t9C8JulTbrzWbz2rbtNRlgPAPu6FtHHwvoPMPvuA7dz9KBYj6fb5AhxgJgiO+V/Cyo8wfcOlOlbY0MkdhAyZvB0piGbYi6c28etvCGDJEIsLwZ7OsrCslkMpkHfUsH0S4UByQCHG+m0+nUKCRwOUpKUejZU5EIOPopdpcahaRQKDS9eRjxHRliLACGqLoBTYysdakd14HRNpRv/SRDjAVst9sZne7nt0Ei+B3XUYodiWMnOonb7XY9k8n8OPkozgTeVg87E9uH62K3SPFWMRufn0wAgxPZRoebZMYAvtI1CRB7o8vl8jdcYx6Imk47jDzPkIkXe0Qk9wG4xPNyuXyHmeDt8dKFhu3mIzpvUwREeqVk2Mlz/SSLHtwNB2nFOxcbv6nnmZCQcIqWEXPcJ5fL1V0j9cZ9pBjHjUIL0Ij7SNGKG4U6BzTjPlK04kYXBQjiPlJCxY0Cl5B7KN0oxXwITflee+ZqaAT+U8J/2NH7dOb1B/hLvu52oADduI8Uk7iR733AJO4jxS9uxDufXxtfAaZxHynn4kYQpS+AlNHXiftI0YkbBQk4ihzoxH2k6MSNXnRcKBYkAp6abNiKONT2FEOe9RKK08Xb8XvhKwCHx5egho/Imu8HlBBT/gPDuSmOgDn3WQAAAABJRU5ErkJggg=="}),(0,xr.jsx)(Hr,{children:"\ud504\ub85c\ud544"})]})]})})},$r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABuCAYAAADGWyb7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAfzklEQVR4Xu2dCZicRZnHq6+57yOTmRyTZAiQAEkIgcgG5BRYYSGIguAjggoIioiyK4jKIquuq6wooK4HKPLAIy6CZGWR+74CIQETwJBkMpkrmfs+erp7f//v657pmfRMd89098ywFLzpb7rrq6+q/vXWe9Rb9TnMLEz9/f1lAwMDB3u93iqfz1cJVfHdGpqSHggECvx+f0F4s5xOZ7vD4Wh3uVyiRo/Hs53P3enp6Ru53pmRkVE727rBMRsq3NHRUQFQa/v6+j46NDR0JMCUUe98KHOK9fdxfzfUmpmZuSUtLe1xPh+Gqt1ud2CKZSf19hkLXEtLyyEAdSp0Dj1wSBCopHZGsHAvn7sB7y/Z2dn3FBYWvpqKh8b7jBkFXFtbW2VPT896wPonGrISKom3QQnOP0B578KJTxcUFPw0Pz9/R4LLn3Rx0w4cQLk6OztP6e3t/TxT4Ekp5Kx4O22QG7bk5eXdCBc+DJjTOpVOG3AAlgaHXQx3fZYOOSreXpzm/M8xlf4WAO9jOpWMTHlKOXAAlg5gnwSwq2jt4SlvcWIf+AYA3jZnzpw7U82BKQWuoaHhwu7u7qvpu1WJ7b9pL+0RptDvl5WVPZuqmqQEuPb29gq0xJ8jw85MVcOm4Tm92IQP5ubmXltcXLwn2c9POnC1tbWXMS1eS0MWJbsxM6T8twDwR4sWLbormfVJGnBw2QK47Cdw2dnJbMAMLbsXb80tmBA/gPs6k1HHpAC3b9++0/F23EyFD0pGpWdRmQ9g+30F5aUm0XVOOHDV1dXfwYf4z1Q0I9GVnaXlvcHU+Q2mzkcSWf+EAYeTN72xsfHHgHZ5Iiv4PimrBvC+A3i/SVR7EgIcoGXU1dXdhTz7RKIq9j4spxu594N58+Z9j9UI/1TbN2XgkGVzkGl3UpGPTrUyibi/fShgXm8aNPUDflOc5jArCzymIstlptzQRFTOGK1G3I7M+wayr2cqRU6pPYBWCGh3zwTQ+gMOs6Vt0LzW4jNep9M4HE6qFTAOv88ckuc0a0vSTY5zWt2L4Tj9FvC+NBXwJg0c06Nnz54991Gb9VMZOVO91w8WOzu95rlWv+kYMsbhVJNEAsnBf37j9ztMmsNvTi5PM1VZTuOadKunWttR99+6YMGCq5g2JzWaJt2EHTt2/A6ZdmFCmxJnYU0DAfNK84B5T5MOXDaS4DRHeNMCJgB4ZshrTq7wmMMK0g0r5XE+LfHZkXk3VVVVfXsyJU8KOFT+29AevziZBybingGmxY1N/eY1uMwCLByzcGkWYjy/3xSkOc2H52WZNWV5hlV0U9PaCecFTO70st8g2ub1aJs/irdf4gYO0H4IaNfE+6BE5PfCJLt6/eaZxv5Az5ATMUb1+R/+Ck6NeoqmRzjMuIzxD5l0QF07N9McXZFrst1u09Tbb56p7zFbWwdNhtNvji/LMEuyHco9XamTlYWrKysr74inAnEBhyJyAQqJlJG47ounQuPlbR4MmMdqe83eQafFZAFL+bATDGglQSYYA1K2/V5zQEGaOWVRgZmblYE65zfP13WaFwGtz0c+FwoM02UAIVmR6TDHlrpNeca0wVeDovIxFJbXY+2rmAHA97isqanpUQqeH2vhicjXzzyoaXFTy5AFliW6rFqLr0aPIIvzfD4zR0DMz9l0WEnuBqAp29bcc97zDb2FDb1oL05MA0se+gDOLswPgE4APBLwVhe6DRIwEVWPt4zXi4qKTse3uTeWG2MCbnBwMAMN8hGUkeNiKTQRebx05Fuo9y82D5mhAJxAX1scJaUiqHio3510st8CzG88Dp85el52xzHz8i/JcLk3U4+++q6+Y36/reneniHyeNKME7kWgExABQK1LjUIdEEZGa6AOalM2qeLvIloSexloKw8gKZ5TiyLsjFVDbn2S+TaJbFXYfI5NcvV9zGtNfSYxn4pHoA2zGUj5Ya+8gu9wJBZVpRhjpmXW7MgN+MWcv0FFPYBSJ/0y9Z+74oX6rru3dzUt8TncNtTrTWpRkgaGPx/QHbArEP+FaZ49mRF/Vvz58//t2g9GBU4psiVTJEvUFB2tMKm+vug020e2d2JXUZJkkHiguCUaJUdXlup92iLxbiyT1qUZw4tyVGGF+GnO+HMl7DemsnRDwg+tBg3Pxbv6Oi55tFdHV9o6JOMsxWbEZvPrr1lRkj2ibHh5SNBbk2hx6CUpip1MmWexJT52kQPnBA4pkhXfX39o3Dbicmu9SBT4z3vdZv2IYY4nRrEzBr9AWtqHLHNAkxpWcSrSls8qqLAZHuEi1KASCzHBi5egrZC9VBv8Md0Pg8c8PmO2tjYee1Ljb2mC0XHcKvDsids/rP/DWmmXDIFzPH4zFkLMk12iriPKfMVtMx1BOXKRRYxTQgcMSJXEiPy02SDpvL/1txvHt9HLwmkYS1x5MkWeHKTMC0eivvqhMoCU5opLOyOHpMU1LolCKDCy/OgNIiO8EtgZrb0e897ak976ZsthE469NUIeKPKsp7rMKvyhszxc1K3UkUMy+XEsPwibuDgtszdu3crivfQVAD3XF232dTpsiwwC4hh/GyrDKvZVOS6zXEL8s2yEnvWtvOGOGZsLa1yNOkKxGKoD2rgngaKrua3rVw3o3Fe9Ux91yGNPeR3SZ6OtgrtBzjMHJffXFAZGiip6BGzo6KiYiXhfxGd0aE5Zr+aYLNdlyrQ9PBeeGFEWZC2J02PH3AS59Cf65bkmSMr8pE1I8LGttv2B+yNvd3m1bouU5aXlnfa4gI0RauZ2mewhHuW8Km9B61cv3pISc5pBxRlDb3a0Hn58/W930YvsgC0bLxQ0Vyw2JDqVEUYoxwdN0Z6cESRS+xjPgE+n05lTT2SUygbI0nTIi4pjzGfWlFq1s0vBLSoupTpHhwyj+3uMHX9AbOpoc+80xIScaNacwB/rYQo3QxWlJY2rl9RdcNnlhcumZ/tag+Mqkcqe2H0s8Dgy2BRHjNwIK3Qg0WprXIEUMAx2+00c7MzhgNuwvggYvW8dLoXwB2o/TLE+ryKHI+YVvPt0dCwtlyRnVm/pDDjdXsARR8kKeifIrCI6ITej+Mk20D6kymo1JhHjDWu7I7zo5BAUjDgIds48AZ8psM7xDLOEFpokPi7c8hnurzyiGCWs4yj1O9zmm6+bx9DbV5fTs+QT+CVNbc0ZwUr4+FZRZZxPkMSWHwcrgvVb7hW+8k4Qurk9a9Kdb2HcFWFFBJrxSWkWdqfrwgDLle39XvN/e+0mJb+IVxXttfDyhJ0qACbGZDLWEoGxvtLTJev7eu1lnGkmYb4SJybZhxnnLgwz7dyTt7nabdUb6mNWvPZr/nROD2J/VWCZq/ls1Ea5qihBbc5g5mSWI/IRQ8MygQLapCW8Rauqpi3uOtvZNi9saHL1LBi2oNW3+11mx4vHCWCs7qGnKYXsllV9l8ANtX37F7ke1YUrM9un4trl2nDjnu+ofusoYBf5kKBgANYmQ32SBgZPynvj/AHgsnXxlZgFHCw5YfIcNi01nLUw20PBqkJUlj3tj6JLItzbKPcw5Qo0l8KV3CyVCPlQks20gw1FKzcclDzd6ZTppzf9kPyj88XMEP+gDRN7cXTlGTr/OP6xFLfO/iID0DWjXKCjAKOfWqXpb5a0Z9IH8sWE2QNtn+ZXqXzC/FofOawkg2fOLhwM3FBgAxoOJOX5nvMZatKd3xkYRYxJ2I9ZB6fazCgL11Z1n44BrxkZxhHlXItEmhommHcHtGhGb3Oic6BnLs4vMxh4Jgmc4kjOT7RD4y5vKBzV64uy91lTZf23XxIbVddO0Lfy+1VVZxtFuZm/vngouzbSzO1cGqDt6wks784Pf2d1XPzNmd6tH6gsnxmxZzMoeL0tNZVc1Akh8u2RoI4TXaewomYKkckoV2B6UeP2fA09sEPq7rDwIGotu8ujLmjE5wxZKKN00XW0ihkaZahZPsYTTvfNdjaSfCXgGnhqgamqrFW7UIg2QB4rI/gQLF/lM/LWgRXgZE9ktOPXUlXV9e6UNvHApdgOGIvzinkgpwWYriwu7W4CDiW22o4Bfuyy/pttExq5btdFPh3O/Nwr2tPt8C3bYVh8IYzjHiXh2+ZfsRCDWZG/Nh+wMGKa2Pv5oTn7Fuc7djnDiDKUBa0nDJGO6jhi+1Qqz2NjkpMn6bD/jroeXFYR2AAnKNxlN8qEGhXXsqwt/9aGo2FuEyBIJisF4RMkZmDmVXd4AkU1rXFcaibFXzMSTgcsRe45eDS3K9/YnnhN8sIOwhgRFtxI6EpzZhm/toN7bSKHJE5UljEXUG/VpBrrUghOZItLg3XNZRXGqq4NDyJEwWe7guaA7FXPoU5FxLzY9nYFnAg+Y98JH2hdIIG/j3gdPYvKy349aVr5pWdXFV0V7aLfsTbEeQYQSgv+XtBmRREIyAAADUAcJZaaX3Pv7LLGmAmGzjbctD/cp014LwWUHZe+/uQ1iqTfpRWOVLnmcF+KCgnDwPHHx9J4aiJ9Khj36jvuvnRnU13+AIB74crC664eHX5smUlnp1+pk+6TB4NzGjTSWBPMIxL/a5ONr18M2jPdsEUkDEd6MQ4aA9Nrba338pfx2fQv2avwYGrBoW41821HYUUTPZMOs29E/Z4jhWx5Jzl8oLjjpnmqi3ex7rOOw3dFW/v7d1x7KKCC1eX5z16/sr5y/e096xm/pJSou5zp7kcuwBsiSY2Kv8u3xGaYOkUPuQjC3oY104f9hg6pwOgdZvFuIShO11aX3wbC+FpFmUv0qKsE8Pc5XC0qRwoGOBls+EoP/MMAY9zy6z1USeayko+JeOmNbm1rINvsaU/UPjgtuYNd29peKSuq/egBQXZb7mdDmmCAq//iHl5l8zL9wyW5boGDi/L+jLfsT7tcKybn39DMfKxqiTNHFiYdR49n57tdnV9qDyjMd9D6F155hCrDAQRmdfKc9JvWV2W0VzkcZh/qMh+0ON0EFhkcZzNfxZIYd7JGbFQYMODF6UUzModKCbrCVF4YFpR4+FP1PWZt5oQNaFNGyygwl3miPKse9dVFnwjLz1Ntpq2deR4/UPaKeGHg8RRhBVJVjvzB/y+FYBcxDJoI3n3yunFD2V9vqHDMl0ubDtnNTpPndP4O7nfM+AL5GW4nN1cy/FCtJGj+K81bU+/UNNjHCwnWSBaoDlMHq6yz1ZN9cy3xPQygbMfEsetSkxxUytl9Go2XQYcg2gRL+3pOf/OTY27tjR2XglIUjqcHqdrENDceJFzWSknEtKU4TEpTXc6FYtcDq+cSgnn0uen89vqTBcoGEcW3xeWFhfvIvy1g+f1AJoMdS9gOrsHvPgrwwWlzXUh7pta6xJ7N8FbS938syixxU6uNK/W0eyushMX1t9ua/o0929r/eHmvT3XnVCZf/3CgkxFVGf4HYFiEME57FwExgv4jihrx1LuO5A7cWM5aikG9T/A4WkOLUjKFlSpDIAAmqXTX9/df+qT1e2/KM1OD5y6uHB9+Kxo18eukXvUbqDJtTFRdyHnlrt1UGeiCpxKOQWcaWaH6QzjFryg44LT547WwaLq1n0/P2peduuxiwtvzfG4scsCCkP4CHcePPr5Vlnz+VdgHs71kVxvbWlpBnTHU/2+wMArdS2/eL629/iBQb8pyc5QKN8o+z58EBXJPJkhCWZb7taJqjOhPitx/P6tud10+aWkjIHAjk61QugIdNX0WfRuc+8N6yrzzcryXC/TptT8aEkDtILpds7Wpq6rn63pqNzbS7mSkAq+tTwtliEv2zB3BDRZ8wFzVNnMkG9qJNvEVorjZgRwGVhQ5yzNMY/V9Ju6Hka3OjPoeQ7a1bYrTOs6aIOt7Lna8G6b2dzY5TllabGpzLNX90N8G9Lm7b8t35Zp7On3PL6zbc3f2WJlcbGiuSyzzXLTyKvSD0l7RXbyDV7qcvA6YW6amZM+g1RLKjhjgFOnF2R6zPqlblOPTHuCOPTOQbpVekVQ+gW1dAsgdsdRe5fZ0xUwd73RaFaX55ijFxaYogx5rOwFVLGugOn2es0rbLHaSOxmL1usHNwnGKz4WgshS5IV8pWUn0Kt9eXA+MctSDeLiQ1MUQBztBlj+Hcxm3vswdMx352kjNhUpjLLYT59WJF5tb7XbGyEAaxIY3vEDwc3WFt1AAFcvThEXqntMdv29ZkTl+SbwyvygMz2imxt6mQQdJhmBUyysdGpqdHiSwEb2q1jSVetgh/mDPg8K/IdZi2sli0/ygxMwsyxffv2GeITiNxDbZh2L9b1mO3t2tumjSAjBrI9A4Y8VPwRDFGvKspE9mWZd9hXt60J4K09cWEgjMIDe41F2ZMXZZtVBa7G3kHv3FjiN6cbzxkPnDpII6uakxUeq+5iqmPfGoa5NjlaG/CH9xrY0sriSStcQdaZOFLmXvjYDKJmuclQVeDcLJwmnzww3+TNUA6LNEhSAVxIT5jyIO3FVN7WNmRequ/TflJ7q1TQhLAZUWviI2aFwvGsidH6LQQef1gGGma4tlERf7KCXajZODBnU3Jw7EVbCuRcwsBT53bDTE9Ud5tdHVxYAQfB/dzDLqoRCDS12nvEQ8qKFhf8pjLbaU5emMOpCzNaUkQcS3oBhltvv0gBcFqSicXWimnQ58AcZyzOMdUETL6A/GsdYOFVciwk/sJKsddcNaVyE7Isz0O0F1uFl7ODVcdlzMYkzMbdrZPgBiUMtFC9NEtW5bnNwrwCs5W9dc/W9rFMIF+zVH3bYLctOHGYNkr6zDpOFjq0KI3dOzNTW4yjz9vdbBTfMlP8lXFUfDirB2BWIacWc1rQy9hpb7dyOgOGtdbZLF6D5ZbiB1lbnm1KdOjJ+yCxU7XdrZcFpbgtclMkvAfzmTtOqcwhdjJgnq3pRPv0mUJscdbdzILc9DAvaIpbm4THcRpRtVv/JKHsiYpMOGihh2kCLGcx9byD8lPcpNQ+Dhm32TkNwKW2le/Dp/H6tDed/LOJtsm5+kGaHT2gg9vqnZyX+Cb1rZsddf6glvRAG5i9a8kbLjZ+0CWzowc4ecjCyrLjAO4JYk+mYftw/J2F16ANdbgJAW2FkeM8SINyWFwsRvXPnahENGi9yEGv3QwtZ7u4TxHcqbJn42/wmDsw354dBo4/nuEPhWZrj9hMSz2Msu2c9/FyVlbWRuqqhU7tKloGLYZ0KoEA0+yhFWxiahXZbEUrq03sqXPs5nMz9AZUDUmmW+CRN4uA4GMINL2UiLelbDcjXmXGJh998bhqN+xCYHnnZf6ezo0fo3oLztiuV5xwws59COOxsf5WXjpdGxEFnMIStKNUnksB2w5ph4/2HFg7dMK4bFxUKM8NiAcRn/8FtjSt5++UHvEYw3CpWbx48UHMOP3DUwRIvjzNO3a01tYDYD05OTm3lZSU/DvXiukfN5FfoFQHKYZ2T5yF8uRT1RlgVzL9XsMO3XPZ1H8t1wpESpr9GWvFwegJgab8w5VBzj2tkRlrIcnIB1DbCPY8EbopGmjJeH54mTx/AI7/PccyrWUgXa0ZINnPjFY+4uL+UJ7hqZIpIq2mpuZ5fjgyWgGJ/l1LL0yJP+eov2tQOiIeBZToZ8ZbHjt2c+ij8zkG8vppCmmsWbhw4TLsbqt/hjmOLwZhxb/G26Cp5geoLk6J+xxcdsVMBU1t1LtQOUfyV5zgugYF6amptjve+5HzG0OgjQIuWLk/8dkRb6GTzc983cBUdA5vObxjMmWgPGRAR0CnQ2uhpK/X0IHNvB/nDID87WTqPNl7eJHur8Pv3a+hrIg/hDDWRv6kJkCrBbQLGEXPxfsgAFJ0qg6J04bMVVARpEjkm5h274lUXlADPZ3flkOK4dOhN/eTP7j/OL5aYP+lccLgrUyhl8Z356Ryb2eaXEFfDesg+xme2Er3Yc8kFTimxL3l5eXnUxHJ1LgSABzCDddD66Hw8GLFRP6G358BjFEuPL6TSNDpPBdAul9JGuu5/PZV8uvwm7gSA28Q8K5ip1MZzouz4ro5zszI/1vDQdPt+6m4ZPpvvpdKnJREJ/Uhzy5Fi50MaEdQqf+Ezh8DWqiu2rmq6X5suogvzgwDTb9rVf7j0EOAJ86NO0k1nzt37oV0qs4aS1Z6D+32zrGF7wccc3c/SsrdyaoFAv7rqNcPxVs+navXdt4EnRLl3kLyfi6Uh2t5gxYFKdKtq/jy1+S7Aoo7aBmZ11laWnou5gI7ghKfwOJ3DAz7lIiwFNGoRBDeTp7gGSGJqwzT8O8YPSo7rkSHasfsDVAsnNFJvvBDKuVREXftd3RgWCVU/k+h23iWTo+NK9G5NbRLZ3yOezhmXAWOZH4PLH4W6d6IwMF1XYnmOuTaq4zMKxmZcSkDQY75LpXX9BhLkpKiDYuhpDZKlkcLWBK3fQG6h2euieVB4XmwQR+gz26L976J8qs8sNBmlP3SuG4ckL6Z3NK8EpF6GZFfxf6J6HMc7wF0oGIQvgNdGEcl9AxOYghkBbVPvZBAWmSsKwAnkvcO7rWOpYgn4aa7ARm+OZ57Jsj7MgP9v8b7fVzgQLoXWRT367EiPQghfi+y7YV4GkTHSUsUp0lexeMnlNdf06KmPzmJtWyjnTixAqdq6ujHn1GHj8VTZxSubmzS78Vzz3h5URJ/NFaTDM87YYegst+l971MsSI7GTnimpgTHabDcr4FfRaKNsWNLVcuO60WrIIOD36eFPPDRzIu5VIyTyc7xJzwAv2RPns45hsiZESsbKCcYb9kpLKijmQ45Rpu5ESfySW0rj/CuTWx3k1HSZn4PnQFNJltoPLk/wD6KLQeug6a7HEgWjL6MXW6K2gLxtQMuE4K2GQd9nsQU1+K9qCowFHIToTkLdEKGuf3Lt6Ldl+s99I5Oqfqh9Dl0ERaYLQitbB6MTSevRft/vDf1Ufy0mymfqtiuRE79WFk3aRe2A63/ZI+jzrQowKnivJ2pdth//+JpdKjWux0vkUlFEU2YdJohs4l0y+hi6B45FG04hP1u+Tei9TzV9CEIRJ6ILPMg/E+mD7+E35QyfWoKSbgVApTprhgW9QSwzIgYCccdUHApL39CroVkkY3k5Om7s9DT1H3syeqKNPlk/yuFfhYk178dzkKSUw7UWIGDs6pRaX/CrVoj7UmjLqI5gSNXglJ9gjYP0BSQqbz2MVYmxTKJ9fbH2jD/QIQktY6KqGV74GD9sVYcBMi5av0caz54w+p50VJ3yag5sZoFcIEMLxtV55zmQEyuqV0yG2lA98+DC2JVsYs+V0xLvJVPgFpnU6zkrw32awe7CP8IdqblPqQa9ctWbLkJ/G0d1LrVzt37ryLVWAJ7HET3GZwwO4ig6YLTTHS0IrjqdwszKvV6c3Q21A/Sz6Xs3ow0aw2CGjXA1rc9vKkgGMZI72uru5PrNtJ5Y6YAE0Cehb2feKqzPY1w7tlFfsZqVAvU+mNvMA9JmVkbAExy7jwG/EQDKD9KIBW8Zj7JcWQIGQT1wOztCSJC+zYSLVXNNl3JwuaCpwUcLoR8LqwVz7F5Ytja6YKi/6/Jw1gbOCx3SBf6k1Lly6NqidM1H+TBk6FognVAZ4WI0ep/TiT7fNIPkga4OG98C5/XANocbkAI3XjlIALgtdA5NMZzNcynq0k4D5Idg+EzTyv0Uf/AmjD/TSVPpoycMFp08d8fRka0jf52zvOvD6Ves7ae+kT1f1tPm+gjx5KVEMSAlyoMqi135VNgtbZNI4mlah6z4py1Aetra2bGMhX0TdTWjEY2+CkCCJe+H46kWI34+PUBoVZ0ckRKql1Pc52tuxQ6fNF0DzNfrE0iAgwU1tb+yQelC+hB8iuS2hKCnCqIe87q2K03Yn/7VhcZfFUWnEb0rzkfWiHtDwinVqFKPAn2TvzFdq3AXoa2hwETv5DeX601ncONKGfkjB1w46fB1Devogby35pRYJT0oBTPbUfAUP9xygrZ7IwOH8c7lPktDZUvAnJt6nRuQVS3IjqpxEubUcdJzfZUZCc0SckuC+0iiFH9x+1a2i8svFLyqugNcpLoFHrfOKyvXv3qt6/Z/H4WmxZ7SaavQnuq8RNdh9bllpwldH2QDekJZL/gLQPLa6FTvJz6nngeqhJhU0hDXHvk5BWPuJK3HMh9AzkV5toWk91dfUG2royroImmTmpHDe2TvjtzkZxOZuIqBaWPeR8fpLRHTGKKZb20GlXku9fIcmfeFItmeUYfgy6eyIOm6hQnn8qGyDPQqYX4d67l1nlz/FUYtblRWgfv2vXrovwnMcdwzi2sXTeTVE4rp/f34F2Qo3Q16DToCnJSuqeQxvOpC2rpwOAlHLc2AbS6CNwxM5he+z/TrbxAKAYE0U4y4MTnhRZrBMKJDsVM1MN1cBd2mI86cSUeADKxxrk19tozZLF05KmFbhQi5lCqzAfVjB9bmJVQRvt40qAp1VpaXtaOpJ3WxFa8qFq876itOoBLKaV5UgPZmO/myWaQ0Q6SIApcdqPF5kRwIU6CxU6h9F8PIZrBh20FRBjsn8A7jjK0PtDtYouM0Lgyy+oN129FNcoCGYGrCKAWsWUeCTctRt7bCOqfVL2B0ymfjMKuFADMCMW0XGn0XGLuXYB4iboVTpuvzBBQJNtp1X1AyC54mUwawF3pz4BLqZ4fgHFs5bzzLV8LtTuTxzEu4ibeRRzpnoynZvMe2YkcOENxjYq0Guu6djjCZlwcTKEi05txSYc4FN+0XSus3HgZmsrMp+NkPa7aZqUTdUNB/M6cH8mansh5RVyXYhsLYbyKW+uXFOU0cfgaKXMGrjrQZ0JmcyOn2rZMx64SA3UG7gAYJE+tZFeB6XqJQoiOFDvUhCXKRZEpJVmP5wnv6wHLqrV0bjQbp0cCFCb+W7zVDsy1ff/H3FKmvIXeaF0AAAAAElFTkSuQmCC",ei=hn.li(Gr||(Gr=e(["\n  margin-bottom:24px;  \n  /* position: relative;\n  display: flex;\n  gap:12px; */\n"]))),ti=hn.button(qr||(qr=e(["\n  position: relative;\n  display: flex;\n  gap:12px;\n  width:100%;\n  align-items:flex-end;\n"]))),ni=hn.img(Kr||(Kr=e(["\n  border-radius:50%;\n  width:42px;\n  height:42px;\n"]))),ri=hn.div(Yr||(Yr=e(["\n  display: flex;\n  flex-direction:column;\n  /* justify-content:space-around; */\n  gap:5px;\n  align-items:flex-start;\n"]))),ii=hn.strong(Qr||(Qr=e(["\n  font-weight:500;\n  font-size:16px;\n"]))),ai=hn.p(Xr||(Xr=e(["\n  font-size:12px;\n  opacity: 0.6;\n"]))),oi=hn.time(Jr||(Jr=e(["\n  position: absolute;\n  bottom:0;\n  right:0;\n  opacity: 0.7;\n  font-size:12px;\n"])));var si,ui=function(e){var t=e.value,n=pe();return(0,xr.jsx)(ei,{children:(0,xr.jsxs)(ti,{onClick:function(){return n("".concat(t))},children:[(0,xr.jsx)(ni,{src:$r,alt:""}),(0,xr.jsxs)(ri,{children:[(0,xr.jsx)(ii,{children:"\ubaa9\uc9e7\uc740 \uae30\ub9b0"}),(0,xr.jsx)(ai,{children:"\ud639\uc2dc \uc624\ub298 \uce58\ud0a8 \ub4dc\uc2dc\ub098\uc694?"})]}),(0,xr.jsx)(oi,{children:"2022.10.06"})]})})},ci=hn.ul(si||(si=e(["\n  padding-top:12px;\n"])));var li=function(){return(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(jr,{prv:!0,vertical:!0}),(0,xr.jsx)(Fr,{children:(0,xr.jsx)(ci,{children:[1,2,3,4,5].map((function(e){return(0,xr.jsx)(ui,{value:e},e)}))})}),(0,xr.jsx)(Zr,{})]})};function fi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function hi(){return hi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=fi(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},hi.apply(this,arguments)}function di(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var pi=!1,vi=!1,mi="${JSCORE_VERSION}",yi=function(e,t){if(!e)throw gi(t)},gi=function(e){return new Error("Firebase Database ("+mi+") INTERNAL ASSERT FAILED: "+e)},ki=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},bi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ki(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},wi=function(e){var t=ki(e);return bi.encodeByteArray(t,!0)},_i=function(e){return wi(e).replace(/\./g,"")},xi=function(e){try{return bi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ai(e){return Si(void 0,e)}function Si(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Si(e[n],t[n]));return e}var Ei=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return h(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ci(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ii(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ci())}function Ti(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ri(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ni(){return!0===pi||!0===vi}function Pi(){return"object"===typeof indexedDB}function Di(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(dx){t(dx)}}))}var Oi=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(g(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(g(a),Li.prototype.create),a}return h(n)}(_(Error)),Li=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return h(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Mi(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Oi(n,a,t);return o}}]),e}();function Mi(e,t){return e.replace(Ui,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ui=/\{\$([^}]+)}/g;function ji(e){return JSON.parse(e)}function Fi(e){return JSON.stringify(e)}var Vi=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=ji(xi(a[0])||""),n=ji(xi(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function zi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bi(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Wi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Hi(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Gi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(qi(s)&&qi(u)){if(!Gi(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function qi(e){return null!==e&&"object"===typeof e}function Ki(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Yi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Qi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Xi=function(){function e(){l(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return h(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var Ji=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return h(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=di(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Zi),void 0===r.error&&(r.error=Zi),void 0===r.complete&&(r.complete=Zi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Zi(){}function $i(e,t){return"".concat(e," failed: ").concat(t," argument ")}var ea=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ta=144e5;function na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(ta,r+i)}function ra(e){return e&&e._delegate?e._delegate:e}var ia=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return h(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),aa="[DEFAULT]",oa=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return h(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ei;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch(c){}var t,n=di(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=or(ir().mark((function e(){var t;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(c(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),c(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=di(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=di(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(xy){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===aa?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(xy){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa;return this.component?this.component.multipleInstances?e:aa:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var sa,ua,ca=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return h(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new oa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),la=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ua||(ua={}));var fa={debug:ua.DEBUG,verbose:ua.VERBOSE,info:ua.INFO,warn:ua.WARN,error:ua.ERROR,silent:ua.SILENT},ha=ua.INFO,da=(yn(sa={},ua.DEBUG,"log"),yn(sa,ua.VERBOSE,"log"),yn(sa,ua.INFO,"info"),yn(sa,ua.WARN,"warn"),yn(sa,ua.ERROR,"error"),sa),pa=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=da[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},va=function(){function e(t){l(this,e),this.name=t,this._logLevel=ha,this._logHandler=pa,this._userLogHandler=null,la.push(this)}return h(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ua))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fa[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ua.DEBUG].concat(t)),this._logHandler.apply(this,[this,ua.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ua.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ua.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ua.INFO].concat(t)),this._logHandler.apply(this,[this,ua.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ua.WARN].concat(t)),this._logHandler.apply(this,[this,ua.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ua.ERROR].concat(t)),this._logHandler.apply(this,[this,ua.ERROR].concat(t))}}]),e}();var ma,ya;var ga=new WeakMap,ka=new WeakMap,ba=new WeakMap,wa=new WeakMap,_a=new WeakMap;var xa={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ka.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ba.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ea(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Aa(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ya||(ya=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ca(this),n),Ea(ga.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ea(e.apply(Ca(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ca(this),t].concat(r));return ba.set(a,t.sort?t.sort():[t]),Ea(a)}}function Sa(e){return"function"===typeof e?Aa(e):(e instanceof IDBTransaction&&function(e){if(!ka.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ka.set(e,t)}}(e),t=e,(ma||(ma=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,xa):e);var t}function Ea(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ea(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ga.set(t,e)})).catch((function(){})),_a.set(t,e),t}(e);if(wa.has(e))return wa.get(e);var t=Sa(e);return t!==e&&(wa.set(e,t),_a.set(t,e)),t}var Ca=function(e){return _a.get(e)};var Ia,Ta,Ra=["get","getKey","getAll","getAllKeys","count"],Na=["put","add","delete","clear"],Pa=new Map;function Da(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Pa.get(t))return Pa.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Na.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ra.includes(n))){var a=function(){var e=or(ir().mark((function e(t){var a,o,s,u,c,l,f=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Pa.set(t,a),a}}}xa=function(e){return kn(kn({},e),{},{get:function(t,n,r){return Da(t,n)||e.get(t,n,r)},has:function(t,n){return!!Da(t,n)||e.has(t,n)}})}(xa);var Oa=function(){function e(t){l(this,e),this.container=t}return h(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var La="@firebase/app",Ma="0.7.33",Ua=new va("@firebase/app"),ja="[DEFAULT]",Fa=(yn(Ia={},La,"fire-core"),yn(Ia,"@firebase/app-compat","fire-core-compat"),yn(Ia,"@firebase/analytics","fire-analytics"),yn(Ia,"@firebase/analytics-compat","fire-analytics-compat"),yn(Ia,"@firebase/app-check","fire-app-check"),yn(Ia,"@firebase/app-check-compat","fire-app-check-compat"),yn(Ia,"@firebase/auth","fire-auth"),yn(Ia,"@firebase/auth-compat","fire-auth-compat"),yn(Ia,"@firebase/database","fire-rtdb"),yn(Ia,"@firebase/database-compat","fire-rtdb-compat"),yn(Ia,"@firebase/functions","fire-fn"),yn(Ia,"@firebase/functions-compat","fire-fn-compat"),yn(Ia,"@firebase/installations","fire-iid"),yn(Ia,"@firebase/installations-compat","fire-iid-compat"),yn(Ia,"@firebase/messaging","fire-fcm"),yn(Ia,"@firebase/messaging-compat","fire-fcm-compat"),yn(Ia,"@firebase/performance","fire-perf"),yn(Ia,"@firebase/performance-compat","fire-perf-compat"),yn(Ia,"@firebase/remote-config","fire-rc"),yn(Ia,"@firebase/remote-config-compat","fire-rc-compat"),yn(Ia,"@firebase/storage","fire-gcs"),yn(Ia,"@firebase/storage-compat","fire-gcs-compat"),yn(Ia,"@firebase/firestore","fire-fst"),yn(Ia,"@firebase/firestore-compat","fire-fst-compat"),yn(Ia,"fire-js","fire-js"),yn(Ia,"firebase","fire-js-all"),Ia),Va=new Map,za=new Map;function Ba(e,t){try{e.container.addComponent(t)}catch(n){Ua.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Wa(e){var t=e.name;if(za.has(t))return Ua.debug("There were multiple attempts to register component ".concat(t,".")),!1;za.set(t,e);var n,r=di(Va.values());try{for(r.s();!(n=r.n()).done;){Ba(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ha(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Ga=(yn(Ta={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),yn(Ta,"bad-app-name","Illegal App name: '{$appName}"),yn(Ta,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),yn(Ta,"app-deleted","Firebase App named '{$appName}' already deleted"),yn(Ta,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),yn(Ta,"invalid-log-argument","First argument to `onLog` must be null or a function."),yn(Ta,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),yn(Ta,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),yn(Ta,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),yn(Ta,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ta),qa=new Li("app","Firebase",Ga),Ka=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",(function(){return i}),"PUBLIC"))}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}]),e}(),Ya="9.10.0";function Qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=Va.get(e);if(!t)throw qa.create("no-app",{appName:e});return t}function Xa(e,t,n){var r,i=null!==(r=Fa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ua.warn(s.join(" "))}Wa(new ia("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Ja="firebase-heartbeat-store",Za=null;function $a(){return Za||(Za=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ea(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ea(s.result),e.oldVersion,e.newVersion,Ea(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ja)}}).catch((function(e){throw qa.create("idb-open",{originalErrorMessage:e.message})}))),Za}function eo(e){return to.apply(this,arguments)}function to(){return to=or(ir().mark((function e(t){var n,r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$a();case 3:return r=e.sent,e.abrupt("return",r.transaction(Ja).objectStore(Ja).get(io(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Oi?Ua.warn(e.t0.message):(i=qa.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Ua.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),to.apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=or(ir().mark((function e(t,n){var r,i,a,o,s;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$a();case 3:return i=e.sent,a=i.transaction(Ja,"readwrite"),o=a.objectStore(Ja),e.next=8,o.put(n,io(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Oi?Ua.warn(e.t0.message):(s=qa.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Ua.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ro.apply(this,arguments)}function io(e){return"".concat(e.name,"!").concat(e.options.appId)}var ao=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new co(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return h(e,[{key:"triggerHeartbeat",value:function(){var e=or(ir().mark((function e(){var t,n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=oo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=or(ir().mark((function e(){var t,n,r,i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=oo(),n=so(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=_i(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function oo(){return(new Date).toISOString().substring(0,10)}function so(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=di(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),lo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),lo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var uo,co=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return h(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Di().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=or(ir().mark((function e(){var t;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,eo(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=or(ir().mark((function e(t){var n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",no(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=or(ir().mark((function e(t){var n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",no(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(c(r.heartbeats),c(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function lo(e){return _i(JSON.stringify({version:2,heartbeats:e})).length}uo="",Wa(new ia("platform-logger",(function(e){return new Oa(e)}),"PRIVATE")),Wa(new ia("heartbeat",(function(e){return new ao(e)}),"PRIVATE")),Xa(La,Ma,uo),Xa(La,Ma,"esm2017"),Xa("fire-js","");var fo,ho="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},po={},vo=vo||{},mo=ho||self;function yo(){}function go(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ko(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var bo="closure_uid_"+(1e9*Math.random()>>>0),wo=0;function _o(e,t,n){return e.call.apply(e.bind,arguments)}function xo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ao(e,t,n){return(Ao=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_o:xo).apply(null,arguments)}function So(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Eo(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Co(){this.s=this.s,this.o=this.o}var Io={};Co.prototype.s=!1,Co.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,bo)&&e[bo]||(e[bo]=++wo)}(this);delete Io[e]}},Co.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var To=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ro(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function No(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(go(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Po(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Po.prototype.h=function(){this.defaultPrevented=!0};var Do=function(){if(!mo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{mo.addEventListener("test",yo,t),mo.removeEventListener("test",yo,t)}catch(n){}return e}();function Oo(e){return/^[\s\xa0]*$/.test(e)}var Lo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Mo(e,t){return e<t?-1:e>t?1:0}function Uo(){var e=mo.navigator;return e&&(e=e.userAgent)?e:""}function jo(e){return-1!=Uo().indexOf(e)}function Fo(e){return Fo[" "](e),e}Fo[" "]=yo;var Vo,zo=jo("Opera"),Bo=jo("Trident")||jo("MSIE"),Wo=jo("Edge"),Ho=Wo||Bo,Go=jo("Gecko")&&!(-1!=Uo().toLowerCase().indexOf("webkit")&&!jo("Edge"))&&!(jo("Trident")||jo("MSIE"))&&!jo("Edge"),qo=-1!=Uo().toLowerCase().indexOf("webkit")&&!jo("Edge");function Ko(){var e=mo.document;return e?e.documentMode:void 0}e:{var Yo="",Qo=function(){var e=Uo();return Go?/rv:([^\);]+)(\)|;)/.exec(e):Wo?/Edge\/([\d\.]+)/.exec(e):Bo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):qo?/WebKit\/(\S+)/.exec(e):zo?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Qo&&(Yo=Qo?Qo[1]:""),Bo){var Xo=Ko();if(null!=Xo&&Xo>parseFloat(Yo)){Vo=String(Xo);break e}}Vo=Yo}var Jo,Zo={};function $o(){return function(e){var t=Zo;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Lo(String(Vo)).split("."),n=Lo("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Mo(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Mo(0==a[2].length,0==o[2].length)||Mo(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(mo.document&&Bo){var es=Ko();Jo=es||(parseInt(Vo,10)||void 0)}else Jo=void 0;var ts=Jo;function ns(e,t){if(Po.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Go){e:{try{Fo(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:rs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ns.X.h.call(this)}}Eo(ns,Po);var rs={2:"touch",3:"pen",4:"mouse"};ns.prototype.h=function(){ns.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var is="closure_listenable_"+(1e6*Math.random()|0),as=0;function os(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++as,this.ba=this.ea=!1}function ss(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function us(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function cs(e){var t={};for(var n in e)t[n]=e[n];return t}var ls="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fs(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ls.length;a++)n=ls[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hs(e){this.src=e,this.g={},this.h=0}function ds(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=To(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ss(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ps(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}hs.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ps(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new os(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var vs="closure_lm_"+(1e6*Math.random()|0),ms={};function ys(e,t,n,r,i){if(r&&r.once)return ks(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ys(e,t[a],n,r,i);return null}return n=Es(n),e&&e[is]?e.N(t,n,ko(r)?!!r.capture:!!r,i):gs(e,t,n,!1,r,i)}function gs(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ko(i)?!!i.capture:!!i,s=As(e);if(s||(e[vs]=s=new hs(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=xs;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Do||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_s(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ks(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ks(e,t[a],n,r,i);return null}return n=Es(n),e&&e[is]?e.O(t,n,ko(r)?!!r.capture:!!r,i):gs(e,t,n,!0,r,i)}function bs(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)bs(e,t[a],n,r,i);else r=ko(r)?!!r.capture:!!r,n=Es(n),e&&e[is]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ps(a=e.g[t],n,r,i))&&(ss(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=As(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ps(t,n,r,i)),(n=-1<e?t[e]:null)&&ws(n))}function ws(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[is])ds(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_s(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=As(t))?(ds(n,e),0==n.h&&(n.src=null,t[vs]=null)):ss(e)}}}function _s(e){return e in ms?ms[e]:ms[e]="on"+e}function xs(e,t){if(e.ba)e=!0;else{t=new ns(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ws(e),e=n.call(r,t)}return e}function As(e){return(e=e[vs])instanceof hs?e:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function Es(e){return"function"===typeof e?e:(e[Ss]||(e[Ss]=function(t){return e.handleEvent(t)}),e[Ss])}function Cs(){Co.call(this),this.i=new hs(this),this.P=this,this.I=null}function Is(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Po(t,e);else if(t instanceof Po)t.target=t.target||e;else{var i=t;fs(t=new Po(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ts(o,r,!0,t)&&i}if(i=Ts(o=t.g=e,r,!0,t)&&i,i=Ts(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ts(o=t.g=n[a],r,!1,t)&&i}function Ts(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&ds(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Eo(Cs,Co),Cs.prototype[is]=!0,Cs.prototype.removeEventListener=function(e,t,n,r){bs(this,e,t,n,r)},Cs.prototype.M=function(){if(Cs.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ss(n[r]);delete t.g[e],t.h--}}this.I=null},Cs.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Cs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rs=mo.JSON.stringify;function Ns(){var e=Fs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ps,Ds=function(){function e(){l(this,e),this.h=this.g=null}return h(e,[{key:"add",value:function(e,t){var n=Os.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Os=new(function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return h(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ls}),(function(e){return e.reset()})),Ls=function(){function e(){l(this,e),this.next=this.g=this.h=null}return h(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ms(e){mo.setTimeout((function(){throw e}),0)}function Us(e,t){Ps||function(){var e=mo.Promise.resolve(void 0);Ps=function(){e.then(Vs)}}(),js||(Ps(),js=!0),Fs.add(e,t)}var js=!1,Fs=new Ds;function Vs(){for(var e;e=Ns();){try{e.h.call(e.g)}catch(n){Ms(n)}var t=Os;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}js=!1}function zs(e,t){Cs.call(this),this.h=e||1,this.g=t||mo,this.j=Ao(this.kb,this),this.l=Date.now()}function Bs(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ws(e,t,n){if("function"===typeof e)n&&(e=Ao(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ao(e.handleEvent,e)}return 2147483647<Number(t)?-1:mo.setTimeout(e,t||0)}function Hs(e){e.g=Ws((function(){e.g=null,e.i&&(e.i=!1,Hs(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Eo(zs,Cs),(fo=zs.prototype).ca=!1,fo.R=null,fo.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Is(this,"tick"),this.ca&&(Bs(this),this.start()))}},fo.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fo.M=function(){zs.X.M.call(this),Bs(this),delete this.g};var Gs=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return h(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Hs(this)}},{key:"M",value:function(){hi(v(n.prototype),"M",this).call(this),this.g&&(mo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Co);function qs(e){Co.call(this),this.h=e,this.g={}}Eo(qs,Co);var Ks=[];function Ys(e,t,n,r){Array.isArray(n)||(n&&(Ks[0]=n.toString()),n=Ks);for(var i=0;i<n.length;i++){var a=ys(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Qs(e){us(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ws(e)}),e),e.g={}}function Xs(){this.g=!0}function Js(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Rs(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}qs.prototype.M=function(){qs.X.M.call(this),Qs(this)},qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xs.prototype.Aa=function(){this.g=!1},Xs.prototype.info=function(){};var Zs={},$s=null;function eu(){return $s=$s||new Cs}function tu(e){Po.call(this,Zs.Oa,e)}function nu(e){var t=eu();Is(t,new tu(t,e))}function ru(e,t){Po.call(this,Zs.STAT_EVENT,e),this.stat=t}function iu(e){var t=eu();Is(t,new ru(t,e))}function au(e,t){Po.call(this,Zs.Pa,e),this.size=t}function ou(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return mo.setTimeout((function(){e()}),t)}Zs.Oa="serverreachability",Eo(tu,Po),Zs.STAT_EVENT="statevent",Eo(ru,Po),Zs.Pa="timingevent",Eo(au,Po);var su={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},uu={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cu(){}function lu(e){return e.h||(e.h=e.i())}function fu(){}cu.prototype.h=null;var hu,du={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function pu(){Po.call(this,"d")}function vu(){Po.call(this,"c")}function mu(){}function yu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new qs(this),this.O=ku,e=Ho?125:void 0,this.T=new zs(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new gu}function gu(){this.i=null,this.g="",this.h=!1}Eo(pu,Po),Eo(vu,Po),Eo(mu,cu),mu.prototype.g=function(){return new XMLHttpRequest},mu.prototype.i=function(){return{}},hu=new mu;var ku=45e3,bu={},wu={};function _u(e,t,n){e.K=1,e.v=zu(Mu(t)),e.s=n,e.P=!0,xu(e,null)}function xu(e,t){e.F=Date.now(),Cu(e),e.A=Mu(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ec(n.i,"t",r),e.C=0,n=e.l.H,e.h=new gu,e.g=tl(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Gs(Ao(e.Ka,e,e.g),e.N)),Ys(e.S,e.g,"readystatechange",e.hb),t=e.H?cs(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),nu(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Au(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Su(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Eu(e,n))==wu){4==t&&(e.o=4,iu(14),i=!1),Js(e.j,e.m,null,"[Incomplete Response]");break}if(r==bu){e.o=4,iu(15),Js(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Js(e.j,e.m,r,null),Pu(e,r)}Au(e)&&r!=wu&&r!=bu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,iu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kc(t),t.K=!0,iu(11))):(Js(e.j,e.m,n,"[Invalid Chunked Response]"),Nu(e),Ru(e))}function Eu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?wu:(n=Number(t.substring(n,r)),isNaN(n)?bu:(r+=1)+n>t.length?wu:(t=t.substr(r,n),e.C=r+n,t))}function Cu(e){e.V=Date.now()+e.O,Iu(e,e.O)}function Iu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ou(Ao(e.fb,e),t)}function Tu(e){e.B&&(mo.clearTimeout(e.B),e.B=null)}function Ru(e){0==e.l.G||e.I||Xc(e.l,e)}function Nu(e){Tu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Bs(e.T),Qs(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||uc(n.h,e)))if(!e.J&&uc(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qc(n),Fc(n)}qc(n),iu(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=ou(Ao(n.bb,n),6e3));if(1>=sc(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Zc(n,11)}else if((e.J||n.g==e)&&Qc(n),!Oo(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(cc(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Vu(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=el(r,r.H?r.ka:null,r.V),d.J){lc(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Tu(p),Cu(p)),r.g=d}else Gc(r);0<n.i.length&&zc(n)}else"stop"!=a[0]&&"close"!=a[0]||Zc(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Zc(n,7):jc(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}nu(4)}catch(a){}}function Du(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(go(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(go(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(go(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(fo=yu.prototype).setTimeout=function(e){this.O=e},fo.hb=function(e){e=e.target;var t=this.L;t&&3==Pc(e)?t.l():this.Ka(e)},fo.Ka=function(e){try{if(e==this.g)e:{var t=Pc(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||Ho||this.g&&(this.h.h||this.g.fa()||Dc(this.g)))){this.I||4!=t||7==n||nu(8==n||0>=r?3:2),Tu(this);var i=this.g.aa();this.Y=i;t:if(Au(this)){var a=Dc(this.g);e="";var o=a.length,s=4==Pc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Nu(this),Ru(this);var u="";break t}this.h.i=new mo.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oo(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,iu(12),Nu(this),Ru(this);break e}Js(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pu(this,i)}this.P?(Su(this,t,u),Ho&&this.i&&3==t&&(Ys(this.S,this.T,"tick",this.gb),this.T.start())):(Js(this.j,this.m,u,null),Pu(this,u)),4==t&&Nu(this),this.i&&!this.I&&(4==t?Xc(this.l,this):(this.i=!1,Cu(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,iu(12)):(this.o=0,iu(13)),Nu(this),Ru(this)}}}catch(t){}},fo.gb=function(){if(this.g){var e=Pc(this.g),t=this.g.fa();this.C<t.length&&(Tu(this),Su(this,e,t),this.i&&4!=e&&Cu(this))}},fo.cancel=function(){this.I=!0,Nu(this)},fo.fb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(nu(3),iu(17)),Nu(this),this.o=2,Ru(this)):Iu(this,this.V-e)};var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lu(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Lu){this.h=void 0!==t?t:e.h,Uu(this,e.j),this.s=e.s,this.g=e.g,ju(this,e.m),this.l=e.l,t=e.i;var n=new Xu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Fu(this,n),this.o=e.o}else e&&(n=String(e).match(Ou))?(this.h=!!t,Uu(this,n[1]||"",!0),this.s=Bu(n[2]||""),this.g=Bu(n[3]||"",!0),ju(this,n[4]),this.l=Bu(n[5]||"",!0),Fu(this,n[6]||"",!0),this.o=Bu(n[7]||"")):(this.h=!!t,this.i=new Xu(null,this.h))}function Mu(e){return new Lu(e)}function Uu(e,t,n){e.j=n?Bu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ju(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Fu(e,t,n){t instanceof Xu?(e.i=t,function(e,t){t&&!e.j&&(Ju(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zu(this,t),ec(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Wu(t,Yu)),e.i=new Xu(t,e.h))}function Vu(e,t,n){e.i.set(t,n)}function zu(e){return Vu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Bu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wu(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wu(t,Gu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wu(t,Gu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wu(n,"/"==n.charAt(0)?Ku:qu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wu(n,Qu)),e.join("")};var Gu=/[#\/\?@]/g,qu=/[#\?:]/g,Ku=/[#\?]/g,Yu=/[#\?@]/g,Qu=/#/g;function Xu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ju(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zu(e,t){Ju(e),t=tc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $u(e,t){return Ju(e),t=tc(e,t),e.g.has(t)}function ec(e,t,n){Zu(e,t),0<n.length&&(e.i=null,e.g.set(tc(e,t),Ro(n)),e.h+=n.length)}function tc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(fo=Xu.prototype).add=function(e,t){Ju(this),this.i=null,e=tc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},fo.forEach=function(e,t){Ju(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},fo.oa=function(){Ju(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},fo.W=function(e){Ju(this);var t=[];if("string"===typeof e)$u(this,e)&&(t=t.concat(this.g.get(tc(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},fo.set=function(e,t){return Ju(this),this.i=null,$u(this,e=tc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},fo.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},fo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var nc=h((function e(t,n){l(this,e),this.h=t,this.g=n}));function rc(e){this.l=e||ac,mo.PerformanceNavigationTiming?e=0<(e=mo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(mo.g&&mo.g.Ga&&mo.g.Ga()&&mo.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ic,ac=10;function oc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sc(e){return e.h?1:e.g?e.g.size:0}function uc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cc(e,t){e.g?e.g.add(t):e.h=t}function lc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fc(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=di(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ro(e.i)}function hc(){}function dc(){this.g=new hc}function pc(e,t,n){var r=n||"";try{Du(e,(function(e,n){var i=e;ko(e)&&(i=Rs(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function mc(e){this.l=e.$b||null,this.j=e.ib||!1}function yc(e,t){Cs.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=gc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rc.prototype.cancel=function(){if(this.i=fc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=di(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},hc.prototype.stringify=function(e){return mo.JSON.stringify(e,void 0)},hc.prototype.parse=function(e){return mo.JSON.parse(e,void 0)},Eo(mc,cu),mc.prototype.g=function(){return new yc(this.l,this.j)},mc.prototype.i=(ic={},function(){return ic}),Eo(yc,Cs);var gc=0;function kc(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function bc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wc(e)}function wc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(fo=yc.prototype).open=function(e,t){if(this.readyState!=gc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wc(this)},fo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||mo).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},fo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bc(this)),this.readyState=gc},fo.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wc(this)),this.g&&(this.readyState=3,wc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if("undefined"!==typeof mo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kc(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},fo.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bc(this):wc(this),3==this.readyState&&kc(this)}},fo.Ua=function(e){this.g&&(this.response=this.responseText=e,bc(this))},fo.Ta=function(e){this.g&&(this.response=e,bc(this))},fo.ga=function(){this.g&&bc(this)},fo.setRequestHeader=function(e,t){this.v.append(e,t)},fo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},fo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var _c=mo.JSON.parse;function xc(e){Cs.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ac,this.K=this.L=!1}Eo(xc,Cs);var Ac="",Sc=/^https?$/i,Ec=["POST","PUT"];function Cc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ic(e),Rc(e)}function Ic(e){e.D||(e.D=!0,Is(e,"complete"),Is(e,"error"))}function Tc(e){if(e.h&&"undefined"!=typeof vo&&(!e.C[1]||4!=Pc(e)||2!=e.aa()))if(e.v&&4==Pc(e))Ws(e.Ha,0,e);else if(Is(e,"readystatechange"),4==Pc(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ou)[1]||null;if(!a&&mo.self&&mo.self.location){var o=mo.self.location.protocol;a=o.substr(0,o.length-1)}i=!Sc.test(a?a.toLowerCase():"")}t=i}if(t)Is(e,"complete"),Is(e,"success");else{e.m=6;try{var s=2<Pc(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Ic(e)}}finally{Rc(e)}}}function Rc(e,t){if(e.g){Nc(e);var n=e.g,r=e.C[0]?yo:null;e.g=null,e.C=null,t||Is(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Nc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(mo.clearTimeout(e.A),e.A=null)}function Pc(e){return e.g?e.g.readyState:0}function Dc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ac:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ye){return null}}function Oc(e){var t="";return us(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Oc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Vu(e,t,n))}function Mc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Uc(e){this.Ca=0,this.i=[],this.j=new Xs,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Mc("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Mc("baseRetryDelayMs",5e3,e),this.ab=Mc("retryDelaySeedMs",1e4,e),this.Za=Mc("forwardChannelMaxRetries",2,e),this.ta=Mc("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new rc(e&&e.concurrentRequestLimit),this.Fa=new dc,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function jc(e){if(Vc(e),3==e.G){var t=e.U++,n=Mu(e.F);Vu(n,"SID",e.I),Vu(n,"RID",t),Vu(n,"TYPE","terminate"),Wc(e,n),(t=new yu(e,e.j,t,void 0)).K=2,t.v=zu(Mu(n)),n=!1,mo.navigator&&mo.navigator.sendBeacon&&(n=mo.navigator.sendBeacon(t.v.toString(),"")),!n&&mo.Image&&((new Image).src=t.v,n=!0),n||(t.g=tl(t.l,null),t.g.da(t.v)),t.F=Date.now(),Cu(t)}$c(e)}function Fc(e){e.g&&(Kc(e),e.g.cancel(),e.g=null)}function Vc(e){Fc(e),e.u&&(mo.clearTimeout(e.u),e.u=null),Qc(e),e.h.cancel(),e.m&&("number"===typeof e.m&&mo.clearTimeout(e.m),e.m=null)}function zc(e){oc(e.h)||e.m||(e.m=!0,Us(e.Ja,e),e.C=0)}function Bc(e,t){var n;n=t?t.m:e.U++;var r=Mu(e.F);Vu(r,"SID",e.I),Vu(r,"RID",n),Vu(r,"AID",e.T),Wc(e,r),e.o&&e.s&&Lc(r,e.o,e.s),n=new yu(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Hc(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),cc(e.h,n),_u(n,r,t)}function Wc(e,t){e.ia&&us(e.ia,(function(e,n){Vu(t,n,e)})),e.l&&Du({},(function(e,n){Vu(t,n,e)}))}function Hc(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Ao(e.l.Qa,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{pc(l,o,"req"+c+"_")}catch(ft){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Gc(e){e.g||e.u||(e.Z=1,Us(e.Ia,e),e.A=0)}function qc(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=ou(Ao(e.Ia,e),Jc(e,e.A)),e.A++,!0)}function Kc(e){null!=e.B&&(mo.clearTimeout(e.B),e.B=null)}function Yc(e){e.g=new yu(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Mu(e.sa);Vu(t,"RID","rpc"),Vu(t,"SID",e.I),Vu(t,"CI",e.L?"0":"1"),Vu(t,"AID",e.T),Vu(t,"TYPE","xmlhttp"),Wc(e,t),e.o&&e.s&&Lc(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=zu(Mu(t)),n.s=null,n.P=!0,xu(n,e)}function Qc(e){null!=e.v&&(mo.clearTimeout(e.v),e.v=null)}function Xc(e,t){var n=null;if(e.g==t){Qc(e),Kc(e),e.g=null;var r=2}else{if(!uc(e.h,t))return;n=t.D,lc(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Is(r=eu(),new au(r,n,t,i)),zc(e)}else Gc(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(sc(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za))&&(e.m=ou(Ao(e.Ja,e,t),Jc(e,e.C)),e.C++,!0))}(e,t)||2==r&&qc(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Zc(e,5);break;case 4:Zc(e,10);break;case 3:Zc(e,6);break;default:Zc(e,2)}}function Jc(e,t){var n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function Zc(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Ao(e.jb,e);n||(n=new Lu("//www.google.com/images/cleardot.gif"),mo.location&&"http"==mo.location.protocol||Uu(n,"https"),zu(n)),function(e,t){var n=new Xs;if(mo.Image){var r=new Image;r.onload=So(vc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=So(vc,n,r,"TestLoadImage: error",!1,t),r.onabort=So(vc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=So(vc,n,r,"TestLoadImage: timeout",!1,t),mo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else iu(2);e.G=0,e.l&&e.l.va(t),$c(e),Vc(e)}function $c(e){if(e.G=0,e.la=[],e.l){var t=fc(e.h);0==t.length&&0==e.i.length||(No(e.la,t),No(e.la,e.i),e.h.i.length=0,Ro(e.i),e.i.length=0),e.l.ua()}}function el(e,t,n){var r=n instanceof Lu?Mu(n):new Lu(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),ju(r,r.m);else{var i=mo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Lu(null,void 0);r&&Uu(a,r),t&&(a.g=t),i&&ju(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Vu(r,n,t),Vu(r,"VER",e.ma),Wc(e,r),r}function tl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new xc(new mc({ib:!0})):new xc(e.ra)).L=e.H,t}function nl(){}function rl(){if(Bo&&!(10<=Number(ts)))throw Error("Environmental error: no available transport.")}function il(e,t){Cs.call(this),this.g=new Uc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!Oo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oo(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new sl(this)}function al(e){pu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ol(){vu.call(this),this.status=1}function sl(e){this.g=e}(fo=xc.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hu.g(),this.C=this.u?lu(this.u):lu(hu),this.g.onreadystatechange=Ao(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Cc(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=di(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=mo.FormData&&e instanceof mo.FormData,!(0<=To(Ec,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=di(n);try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Nc(this),0<this.B&&((this.K=function(e){return Bo&&$o()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ao(this.qa,this)):this.A=Ws(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Cc(this,s)}},fo.qa=function(){"undefined"!=typeof vo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Is(this,"timeout"),this.abort(8))},fo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Is(this,"complete"),Is(this,"abort"),Rc(this))},fo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rc(this,!0)),xc.X.M.call(this)},fo.Ha=function(){this.s||(this.F||this.v||this.l?Tc(this):this.eb())},fo.eb=function(){Tc(this)},fo.aa=function(){try{return 2<Pc(this)?this.g.status:-1}catch(ic){return-1}},fo.fa=function(){try{return this.g?this.g.responseText:""}catch(ic){return""}},fo.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_c(t)}},fo.Ea=function(){return this.m},fo.Na=function(){return"string"===typeof this.j?this.j:String(this.j)},(fo=Uc.prototype).ma=8,fo.G=1,fo.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new yu(this,this.j,e,void 0),n=this.s;if(this.S&&(n?fs(n=cs(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Hc(this,t,r),Vu(i=Mu(this.F),"RID",e),Vu(i,"CVER",22),this.D&&Vu(i,"X-HTTP-Session-Id",this.D),Wc(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Oc(n)))+"&"+r:this.o&&Lc(i,this.o,n)),cc(this.h,t),this.Xa&&Vu(i,"TYPE","init"),this.O?(Vu(i,"$req",r),Vu(i,"SID","null"),t.Z=!0,_u(t,i,null)):_u(t,i,r),this.G=2}}else 3==this.G&&(e?Bc(this,e):0==this.i.length||oc(this.h)||Bc(this))},fo.Ia=function(){if(this.u=null,Yc(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=ou(Ao(this.cb,this),e)}},fo.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,iu(10),Fc(this),Yc(this))},fo.bb=function(){null!=this.v&&(this.v=null,Fc(this),qc(this),iu(19))},fo.jb=function(e){e?(this.j.info("Successfully pinged google.com"),iu(2)):(this.j.info("Failed to ping google.com"),iu(1))},(fo=nl.prototype).xa=function(){},fo.wa=function(){},fo.va=function(){},fo.ua=function(){},fo.Qa=function(){},rl.prototype.g=function(e,t){return new il(e,t)},Eo(il,Cs),il.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;iu(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=el(e,null,e.V),zc(e)},il.prototype.close=function(){jc(this.g)},il.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Rs(e),e=n);t.i.push(new nc(t.$a++,e)),3==t.G&&zc(t)},il.prototype.M=function(){this.g.l=null,delete this.j,jc(this.g),delete this.g,il.X.M.call(this)},Eo(al,pu),Eo(ol,vu),Eo(sl,nl),sl.prototype.xa=function(){Is(this.g,"a")},sl.prototype.wa=function(e){Is(this.g,new al(e))},sl.prototype.va=function(e){Is(this.g,new ol(e))},sl.prototype.ua=function(){Is(this.g,"b")},rl.prototype.createWebChannel=rl.prototype.g,il.prototype.send=il.prototype.u,il.prototype.open=il.prototype.m,il.prototype.close=il.prototype.close,su.NO_ERROR=0,su.TIMEOUT=8,su.HTTP_ERROR=6,uu.COMPLETE="complete",fu.EventType=du,du.OPEN="a",du.CLOSE="b",du.ERROR="c",du.MESSAGE="d",Cs.prototype.listen=Cs.prototype.N,xc.prototype.listenOnce=xc.prototype.O,xc.prototype.getLastError=xc.prototype.Na,xc.prototype.getLastErrorCode=xc.prototype.Ea,xc.prototype.getStatus=xc.prototype.aa,xc.prototype.getResponseJson=xc.prototype.Ra,xc.prototype.getResponseText=xc.prototype.fa,xc.prototype.send=xc.prototype.da;var ul=po.createWebChannelTransport=function(){return new rl},cl=po.getStatEventTarget=function(){return eu()},ll=po.ErrorCode=su,fl=po.EventType=uu,hl=po.Event=Zs,dl=po.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pl=po.FetchXmlHttpFactory=mc,vl=po.WebChannel=fu,ml=po.XhrIo=xc,yl="@firebase/firestore",gl=function(){function e(t){l(this,e),this.uid=t}return h(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();gl.UNAUTHENTICATED=new gl(null),gl.GOOGLE_CREDENTIALS=new gl("google-credentials-uid"),gl.FIRST_PARTY=new gl("first-party-uid"),gl.MOCK_USER=new gl("mock-user");var kl="9.10.0",bl=new va("@firebase/firestore");function wl(){return bl.logLevel}function _l(e){if(bl.logLevel<=ua.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sl);bl.debug.apply(bl,["Firestore (".concat(kl,"): ").concat(e)].concat(c(i)))}}function xl(e){if(bl.logLevel<=ua.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sl);bl.error.apply(bl,["Firestore (".concat(kl,"): ").concat(e)].concat(c(i)))}}function Al(e){if(bl.logLevel<=ua.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sl);bl.warn.apply(bl,["Firestore (".concat(kl,"): ").concat(e)].concat(c(i)))}}function Sl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function El(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(kl,") INTERNAL ASSERTION FAILED: ")+e;throw xl(t),new Error(t)}function Cl(e,t){e||El()}function Il(e,t){return e}var Tl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Rl=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return h(n)}(Oi),Nl=h((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Pl=h((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Dl=function(){function e(){l(this,e)}return h(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ol=function(){function e(t){l(this,e),this.t=t,this.currentUser=gl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Nl;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Nl,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){_l("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(_l("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Nl)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(_l("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Cl("string"==typeof n.accessToken),new Pl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Cl(null===e||"string"==typeof e),new gl(e)}}]),e}(),Ll=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=gl.FIRST_PARTY,this.p=new Map}return h(e,[{key:"I",value:function(){return this.g?this.g():(Cl(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Ml=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return h(e,[{key:"getToken",value:function(){return Promise.resolve(new Ll(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ul=h((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),jl=function(){function e(t){l(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&_l("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,_l("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){_l("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):_l("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Cl("string"==typeof t.token),e.A=t.token,new Ul(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Fl(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Vl=function(){function e(){l(this,e)}return h(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Fl(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function zl(e,t){return e<t?-1:e>t?1:0}function Bl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Wl=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Rl(Tl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rl(Tl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Rl(Tl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rl(Tl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return h(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?zl(this.nanoseconds,e.nanoseconds):zl(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Hl=function(){function e(t){l(this,e),this.timestamp=t}return h(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Wl(0,0))}},{key:"max",value:function(){return new e(new Wl(253402300799,999999999))}}]),e}(),Gl=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&El(),void 0===r?r=t.length-n:r>t.length-n&&El(),this.segments=t,this.offset=n,this.len=r}return h(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ql=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Rl(Tl.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,c(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gl),Kl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yl=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Kl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Rl(Tl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Rl(Tl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Rl(Tl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Rl(Tl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gl),Ql=function(){function e(t){l(this,e),this.path=t}return h(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ql.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ql.fromString(t))}},{key:"fromName",value:function(t){return new e(ql.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ql.emptyPath())}},{key:"comparator",value:function(e,t){return ql.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ql(t.slice()))}}]),e}(),Xl=h((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Xl.UNKNOWN_ID=-1;function Jl(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Hl.fromTimestamp(1e9===r?new Wl(n+1,0):new Wl(n,r));return new $l(i,Ql.empty(),t)}function Zl(e){return new $l(e.readTime,e.key,-1)}var $l=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return h(e,null,[{key:"min",value:function(){return new e(Hl.min(),Ql.empty(),-1)}},{key:"max",value:function(){return new e(Hl.max(),Ql.empty(),-1)}}]),e}();function ef(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ql.comparator(e.documentKey,t.documentKey))?n:zl(e.largestBatchId,t.largestBatchId)}var tf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nf=function(){function e(){l(this,e),this.onCommittedListeners=[]}return h(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function rf(e){return af.apply(this,arguments)}function af(){return af=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Tl.FAILED_PRECONDITION&&t.message===tf){e.next=2;break}throw t;case 2:_l("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}var of=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return h(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&El(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=di(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function sf(e){return"IndexedDbTransactionError"===e.name}var uf=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return h(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function cf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ff(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}uf.at=-1;var hf=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||pf.EMPTY}return h(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new df(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new df(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new df(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new df(this.root,e,this.comparator,!0)}}]),e}(),df=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return h(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),pf=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return h(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw El();if(this.right.isRed())throw El();var e=this.left.check();if(e!==this.right.check())throw El();return e+(this.isRed()?0:1)}}]),e}();pf.EMPTY=null,pf.RED=!0,pf.BLACK=!1,pf.EMPTY=new(function(){function e(){l(this,e),this.size=0}return h(e,[{key:"key",get:function(){throw El()}},{key:"value",get:function(){throw El()}},{key:"color",get:function(){throw El()}},{key:"left",get:function(){throw El()}},{key:"right",get:function(){throw El()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new pf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var vf=function(){function e(t){l(this,e),this.comparator=t,this.data=new hf(this.comparator)}return h(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new mf(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new mf(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),mf=function(){function e(t){l(this,e),this.iter=t}return h(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var yf=function(){function e(t){l(this,e),this.fields=t,t.sort(Yl.comparator)}return h(e,[{key:"unionWith",value:function(t){var n,r=new vf(Yl.comparator),i=di(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=di(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=di(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Bl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var gf=function(e){function t(e){l(this,t),this.binaryString=e}return h(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return zl(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();gf.EMPTY_BYTE_STRING=new gf("");var kf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bf(e){if(Cl(!!e),"string"==typeof e){var t=0,n=kf.exec(e);if(Cl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:wf(e.seconds),nanos:wf(e.nanos)}}function wf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _f(e){return"string"==typeof e?gf.fromBase64String(e):gf.fromUint8Array(e)}function xf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Af(e){var t=e.mapValue.fields.__previous_value__;return xf(t)?Af(t):t}function Sf(e){var t=bf(e.mapValue.fields.__local_write_time__.timestampValue);return new Wl(t.seconds,t.nanos)}var Ef=h((function e(t,n,r,i,a,o,s,u){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Cf=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return h(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function If(e){return null==e}function Tf(e){return 0===e&&1/e==-1/0}function Rf(e){return"number"==typeof e&&Number.isInteger(e)&&!Tf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Nf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xf(e)?4:qf(e)?9007199254740991:10:El()}function Df(e,t){if(e===t)return!0;var n=Pf(e);if(n!==Pf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sf(e).isEqual(Sf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=bf(e.timestampValue),r=bf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _f(e.bytesValue).isEqual(_f(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wf(e.geoPointValue.latitude)===wf(t.geoPointValue.latitude)&&wf(e.geoPointValue.longitude)===wf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wf(e.integerValue)===wf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=wf(e.doubleValue),r=wf(t.doubleValue);return n===r?Tf(n)===Tf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bl(e.arrayValue.values||[],t.arrayValue.values||[],Df);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cf(n)!==cf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Df(n[i],r[i])))return!1;return!0}(e,t);default:return El()}}function Of(e,t){return void 0!==(e.values||[]).find((function(e){return Df(e,t)}))}function Lf(e,t){if(e===t)return 0;var n=Pf(e),r=Pf(t);if(n!==r)return zl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=wf(e.integerValue||e.doubleValue),r=wf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Mf(e.timestampValue,t.timestampValue);case 4:return Mf(Sf(e),Sf(t));case 5:return zl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=_f(e),r=_f(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=zl(n[i],r[i]);if(0!==a)return a}return zl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=zl(wf(e.latitude),wf(t.latitude));return 0!==n?n:zl(wf(e.longitude),wf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Lf(n[i],r[i]);if(a)return a}return zl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Nf.mapValue&&t===Nf.mapValue)return 0;if(e===Nf.mapValue)return 1;if(t===Nf.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=zl(r[o],a[o]);if(0!==s)return s;var u=Lf(n[r[o]],i[a[o]]);if(0!==u)return u}return zl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw El()}}function Mf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zl(e,t);var n=bf(e),r=bf(t),i=zl(n.seconds,r.seconds);return 0!==i?i:zl(n.nanos,r.nanos)}function Uf(e){return jf(e)}function jf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=bf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?_f(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ql.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=di(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=jf(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=di(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(jf(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):El();var t,n}function Ff(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Vf(e){return!!e&&"integerValue"in e}function zf(e){return!!e&&"arrayValue"in e}function Bf(e){return!!e&&"nullValue"in e}function Wf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hf(e){return!!e&&"mapValue"in e}function Gf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return lf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Gf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Gf(e.arrayValue.values[r]);return n}return Object.assign({},e)}function qf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Kf=function(){function e(t){l(this,e),this.value=t}return h(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Hf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gf(t)}},{key:"setAll",value:function(e){var t=this,n=Yl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Gf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Hf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Df(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Hf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){lf(t,(function(t,n){return e[t]=n}));var r,i=di(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Gf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Yf(e){var t=[];return lf(e.fields,(function(e,n){var r=new Yl([e]);if(Hf(n)){var i=Yf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=di(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new yf(t)}var Qf=function(){function e(t,n,r,i,a,o){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return h(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Kf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Kf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Hl.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Hl.min(),Hl.min(),Kf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Hl.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Hl.min(),Kf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Hl.min(),Kf.empty(),2)}}]),e}(),Xf=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ht=null}));function Jf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Xf(e,t,n,r,i,a,o)}function Zf(e){var t=Il(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Uf(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),If(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Uf(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Uf(e)})).join(",")),t.ht=n}return t.ht}function $f(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Df(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ph(e.startAt,t.startAt)&&ph(e.endAt,t.endAt)}function eh(e){return Ql.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var th=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Lf(t,this.value)):null!==t&&Pf(this.value)===Pf(t)&&this.ft(Lf(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return El()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new nh(e,t,r):"array-contains"===t?new oh(e,r):"in"===t?new sh(e,r):"not-in"===t?new uh(e,r):"array-contains-any"===t?new ch(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new rh(e,n):new ih(e,n)}}]),n}(function(){return h((function e(){l(this,e)}))}()),nh=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,i)).key=Ql.fromName(i.referenceValue),a}return h(n,[{key:"matches",value:function(e){var t=Ql.comparator(e.key,this.key);return this.ft(t)}}]),n}(th),rh=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=ah("in",r),i}return h(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(th),ih=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=ah("not-in",r),i}return h(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(th);function ah(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ql.fromName(e.referenceValue)}))}var oh=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return zf(t)&&Of(t.arrayValue,this.value)}}]),n}(th),sh=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Of(this.value.arrayValue,t)}}]),n}(th),uh=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return h(n,[{key:"matches",value:function(e){if(Of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Of(this.value.arrayValue,t)}}]),n}(th),ch=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return h(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!zf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Of(t.value.arrayValue,e)}))}}]),n}(th),lh=h((function e(t,n){l(this,e),this.position=t,this.inclusive=n})),fh=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function hh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function dh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ql.comparator(Ql.fromName(o.referenceValue),n.key):Lf(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ph(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Df(e.position[n],t.position[n]))return!1;return!0}var vh=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this._t=null,this.wt=null,this.startAt,this.endAt}));function mh(e,t,n,r,i,a,o,s){return new vh(e,t,n,r,i,a,o,s)}function yh(e){return new vh(e)}function gh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function kh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function bh(e){var t,n=di(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function wh(e){return null!==e.collectionGroup}function _h(e){var t=Il(e);if(null===t._t){t._t=[];var n=bh(t),r=kh(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new fh(n)),t._t.push(new fh(Yl.keyField(),"asc"));else{var i,a=!1,o=di(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t._t.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new fh(Yl.keyField(),u))}}}return t._t}function xh(e){var t=Il(e);if(!t.wt)if("F"===t.limitType)t.wt=Jf(t.path,t.collectionGroup,_h(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=di(_h(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new fh(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new lh(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new lh(t.startAt.position,t.startAt.inclusive):null;t.wt=Jf(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function Ah(e,t,n){return new vh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sh(e,t){return $f(xh(e),xh(t))&&e.limitType===t.limitType}function Eh(e){return"".concat(Zf(xh(e)),"|lt:").concat(e.limitType)}function Ch(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Uf(t.value));var t})).join(", "),"]")),If(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Uf(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Uf(e)})).join(",")),"Target(".concat(t,")")}(xh(e)),"; limitType=").concat(e.limitType,")")}function Ih(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ql.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=di(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=di(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=dh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_h(e),t))&&!(e.endAt&&!function(e,t,n){var r=dh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_h(e),t))}(e,t)}function Th(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rh(e){return function(t,n){var r,i=!1,a=di(_h(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Nh(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Nh(e,t,n){var r=e.field.isKeyField()?Ql.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Lf(r,i):El()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return El()}}function Ph(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(t)?"-0":t}}function Dh(e){return{integerValue:""+e}}function Oh(e,t){return Rf(t)?Dh(t):Ph(e,t)}var Lh=h((function e(){l(this,e),this._=void 0}));function Mh(e,t,n){return e instanceof Fh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vh?zh(e,t):e instanceof Bh?Wh(e,t):function(e,t){var n=jh(e,t),r=Gh(n)+Gh(e.yt);return Vf(n)&&Vf(e.yt)?Dh(r):Ph(e.It,r)}(e,t)}function Uh(e,t,n){return e instanceof Vh?zh(e,t):e instanceof Bh?Wh(e,t):n}function jh(e,t){return e instanceof Hh?Vf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Fh=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(Lh),Vh=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return h(n)}(Lh);function zh(e,t){var n,r=qh(t),i=di(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Df(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Bh=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return h(n)}(Lh);function Wh(e,t){var n,r=qh(t),i=di(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Df(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Hh=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).It=e,i.yt=r,i}return h(n)}(Lh);function Gh(e){return wf(e.integerValue||e.doubleValue)}function qh(e){return zf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Kh=h((function e(t,n){l(this,e),this.field=t,this.transform=n}));var Yh=h((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),Qh=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return h(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Xh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Jh=h((function e(){l(this,e)}));function Zh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ld(e.key,Qh.none()):new rd(e.key,e.data,Qh.none());var n,r=e.data,i=Kf.empty(),a=new vf(Yl.comparator),o=di(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new id(e.key,i,new yf(a.toArray()),Qh.none())}function $h(e,t,n){e instanceof rd?function(e,t,n){var r=e.value.clone(),i=od(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof id?function(e,t,n){if(Xh(e.precondition,t)){var r=od(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ad(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ed(e,t,n,r){return e instanceof rd?function(e,t,n,r){if(!Xh(e.precondition,t))return n;var i=e.value.clone(),a=sd(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof id?function(e,t,n,r){if(!Xh(e.precondition,t))return n;var i=sd(e.fieldTransforms,r,t),a=t.data;return a.setAll(ad(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Xh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function td(e,t){var n,r=null,i=di(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=jh(a.transform,o||null);null!=s&&(null===r&&(r=Kf.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function nd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vh&&t instanceof Vh||e instanceof Bh&&t instanceof Bh?Bl(e.elements,t.elements,Df):e instanceof Hh&&t instanceof Hh?Df(e.yt,t.yt):e instanceof Fh&&t instanceof Fh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var rd=function(e){p(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Jh),id=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return h(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Jh);function ad(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function od(e,t,n){var r=new Map;Cl(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Uh(o,s,n[i]))}return r}function sd(e,t,n){var r,i=new Map,a=di(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Mh(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ud,cd,ld=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Jh),fd=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Jh),hd=h((function e(t){l(this,e),this.count=t}));function dd(e){switch(e){default:return El();case Tl.CANCELLED:case Tl.UNKNOWN:case Tl.DEADLINE_EXCEEDED:case Tl.RESOURCE_EXHAUSTED:case Tl.INTERNAL:case Tl.UNAVAILABLE:case Tl.UNAUTHENTICATED:return!1;case Tl.INVALID_ARGUMENT:case Tl.NOT_FOUND:case Tl.ALREADY_EXISTS:case Tl.PERMISSION_DENIED:case Tl.FAILED_PRECONDITION:case Tl.ABORTED:case Tl.OUT_OF_RANGE:case Tl.UNIMPLEMENTED:case Tl.DATA_LOSS:return!0}}function pd(e){if(void 0===e)return xl("GRPC error has no .code"),Tl.UNKNOWN;switch(e){case ud.OK:return Tl.OK;case ud.CANCELLED:return Tl.CANCELLED;case ud.UNKNOWN:return Tl.UNKNOWN;case ud.DEADLINE_EXCEEDED:return Tl.DEADLINE_EXCEEDED;case ud.RESOURCE_EXHAUSTED:return Tl.RESOURCE_EXHAUSTED;case ud.INTERNAL:return Tl.INTERNAL;case ud.UNAVAILABLE:return Tl.UNAVAILABLE;case ud.UNAUTHENTICATED:return Tl.UNAUTHENTICATED;case ud.INVALID_ARGUMENT:return Tl.INVALID_ARGUMENT;case ud.NOT_FOUND:return Tl.NOT_FOUND;case ud.ALREADY_EXISTS:return Tl.ALREADY_EXISTS;case ud.PERMISSION_DENIED:return Tl.PERMISSION_DENIED;case ud.FAILED_PRECONDITION:return Tl.FAILED_PRECONDITION;case ud.ABORTED:return Tl.ABORTED;case ud.OUT_OF_RANGE:return Tl.OUT_OF_RANGE;case ud.UNIMPLEMENTED:return Tl.UNIMPLEMENTED;case ud.DATA_LOSS:return Tl.DATA_LOSS;default:return El()}}(cd=ud||(ud={}))[cd.OK=0]="OK",cd[cd.CANCELLED=1]="CANCELLED",cd[cd.UNKNOWN=2]="UNKNOWN",cd[cd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cd[cd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cd[cd.NOT_FOUND=5]="NOT_FOUND",cd[cd.ALREADY_EXISTS=6]="ALREADY_EXISTS",cd[cd.PERMISSION_DENIED=7]="PERMISSION_DENIED",cd[cd.UNAUTHENTICATED=16]="UNAUTHENTICATED",cd[cd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cd[cd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cd[cd.ABORTED=10]="ABORTED",cd[cd.OUT_OF_RANGE=11]="OUT_OF_RANGE",cd[cd.UNIMPLEMENTED=12]="UNIMPLEMENTED",cd[cd.INTERNAL=13]="INTERNAL",cd[cd.UNAVAILABLE=14]="UNAVAILABLE",cd[cd.DATA_LOSS=15]="DATA_LOSS";var vd=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return h(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=di(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){lf(this.inner,(function(t,n){var r,i=di(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ff(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),md=new hf(Ql.comparator);function yd(){return md}var gd=new hf(Ql.comparator);function kd(){for(var e=gd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function bd(e){var t=gd;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function wd(){return xd()}function _d(){return xd()}function xd(){return new vd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ad=new hf(Ql.comparator),Sd=new vf(Ql.comparator);function Ed(){for(var e=Sd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Cd=new vf(zl);function Id(){return Cd}var Td=function(){function e(t,n,r,i,a){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return h(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Rd.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Hl.min(),r,Id(),yd(),Ed())}}]),e}(),Rd=function(){function e(t,n,r,i,a){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return h(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(gf.EMPTY_BYTE_STRING,n,Ed(),Ed(),Ed())}}]),e}(),Nd=h((function e(t,n,r,i){l(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Pd=h((function e(t,n){l(this,e),this.targetId=t,this.At=n})),Dd=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Od=function(){function e(){l(this,e),this.Rt=0,this.bt=Ud(),this.Pt=gf.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return h(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Ed(),t=Ed(),n=Ed();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:El()}})),new Rd(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Ud()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Ld=function(){function e(t){l(this,e),this.Bt=t,this.Lt=new Map,this.Ut=yd(),this.qt=Md(),this.Kt=new vf(zl)}return h(e,[{key:"Gt",value:function(e){var t,n=di(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(s){n.e(s)}finally{n.f()}var i,a=di(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:El()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(eh(i))if(0===n){var a=new Ql(i.path);this.jt(t,a,Qf.newNoDocument(a,Hl.min()))}else Cl(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&eh(a.target)){var o=new Ql(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Qf.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Ed();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Td(e,n,this.Kt,this.Ut,r);return this.Ut=yd(),this.qt=Md(),this.Kt=new vf(zl),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Od,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new vf(zl),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||_l("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Od),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Md(){return new hf(Ql.comparator)}function Ud(){return new hf(Ql.comparator)}var jd={asc:"ASCENDING",desc:"DESCENDING"},Fd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vd=h((function e(t,n){l(this,e),this.databaseId=t,this.gt=n}));function zd(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bd(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Wd(e,t){return zd(e,t.toTimestamp())}function Hd(e){return Cl(!!e),Hl.fromTimestamp(function(e){var t=bf(e);return new Wl(t.seconds,t.nanos)}(e))}function Gd(e,t){return function(e){return new ql(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function qd(e){var t=ql.fromString(e);return Cl(hp(t)),t}function Kd(e,t){return Gd(e.databaseId,t.path)}function Yd(e,t){var n=qd(t);if(n.get(1)!==e.databaseId.projectId)throw new Rl(Tl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Rl(Tl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ql(Zd(n))}function Qd(e,t){return Gd(e.databaseId,t)}function Xd(e){var t=qd(e);return 4===t.length?ql.emptyPath():Zd(t)}function Jd(e){return new ql(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Zd(e){return Cl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function $d(e,t,n){return{name:Kd(e,t),fields:n.value.mapValue.fields}}function ep(e,t){var n;if(t instanceof rd)n={update:$d(e,t.key,t.value)};else if(t instanceof ld)n={delete:Kd(e,t.key)};else if(t instanceof id)n={update:$d(e,t.key,t.data),updateMask:fp(t.fieldMask)};else{if(!(t instanceof fd))return El();n={verify:Kd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Fh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Hh)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw El()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Wd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:El()}(e,t.precondition)),n}function tp(e,t){return{documents:[Qd(e,t.path)]}}function np(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Qd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Qd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Wf(e.value))return{unaryFilter:{field:sp(e.field),op:"IS_NAN"}};if(Bf(e.value))return{unaryFilter:{field:sp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Wf(e.value))return{unaryFilter:{field:sp(e.field),op:"IS_NOT_NAN"}};if(Bf(e.value))return{unaryFilter:{field:sp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sp(e.field),op:op(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:sp(e.field),direction:ap(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.gt||If(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function rp(e){var t=Xd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Cl(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=ip(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new fh(up(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return If(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new lh(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new lh(n,t)}(n.endAt)),mh(t,i,s,o,u,"F",c,l)}function ip(e){return e?void 0!==e.unaryFilter?[lp(e)]:void 0!==e.fieldFilter?[cp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ip(e)})).reduce((function(e,t){return e.concat(t)})):El():[]}function ap(e){return jd[e]}function op(e){return Fd[e]}function sp(e){return{fieldPath:e.canonicalString()}}function up(e){return Yl.fromServerFormat(e.fieldPath)}function cp(e){return th.create(up(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return El()}}(e.fieldFilter.op),e.fieldFilter.value)}function lp(e){switch(e.unaryFilter.op){case"IS_NAN":var t=up(e.unaryFilter.field);return th.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=up(e.unaryFilter.field);return th.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=up(e.unaryFilter.field);return th.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=up(e.unaryFilter.field);return th.create(i,"!=",{nullValue:"NULL_VALUE"});default:return El()}}function fp(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function hp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var dp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),pp=([].concat(c(dp),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),vp=pp;[].concat(vp,["indexConfiguration","indexState","indexEntries"]);var mp=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return h(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&$h(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=di(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=ed(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=di(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=ed(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=_d();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Zh(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Hl.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ed())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,(function(e,t){return nd(e,t)}))&&Bl(this.baseMutations,e.baseMutations,(function(e,t){return nd(e,t)}))}}]),e}(),yp=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return h(e,null,[{key:"from",value:function(t,n,r){Cl(t.mutations.length===r.length);for(var i=Ad,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),gp=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return h(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),kp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Hl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hl.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:gf.EMPTY_BYTE_STRING;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return h(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),bp=h((function e(t){l(this,e),this.re=t}));function wp(e){var t=rp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ah(t,t.limit,"L"):t}var _p=function(){function e(){l(this,e)}return h(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(wf(e.integerValue));else if("doubleValue"in e){var n=wf(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Tf(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(_f(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?qf(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):El()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=di(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Ql.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();_p.Te=new _p;var xp=function(){function e(){l(this,e),this.Ye=new Ap}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),of.resolve()}},{key:"getCollectionParents",value:function(e,t){return of.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return of.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return of.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return of.resolve(null)}},{key:"getIndexType",value:function(e,t){return of.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return of.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return of.resolve(null)}},{key:"getMinOffset",value:function(e,t){return of.resolve($l.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return of.resolve($l.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return of.resolve()}},{key:"updateIndexEntries",value:function(e,t){return of.resolve()}}]),e}(),Ap=function(){function e(){l(this,e),this.index={}}return h(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vf(ql.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new vf(ql.comparator)).toArray()}}]),e}();new Uint8Array(0);var Sp=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return h(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Sp.DEFAULT_COLLECTION_PERCENTILE=10,Sp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sp.DEFAULT=new Sp(41943040,Sp.DEFAULT_COLLECTION_PERCENTILE,Sp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sp.DISABLED=new Sp(-1,0,0);var Ep=function(){function e(t){l(this,e),this.bn=t}return h(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var Cp=function(){function e(){l(this,e),this.changes=new vd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return h(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Qf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?of.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Ip=h((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Tp=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return h(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&ed(r.mutation,e,yf.empty(),Wl.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ed()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ed(),i=wd();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=kd();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=wd();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ed())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=yd(),a=xd(),o=xd();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof id)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),ed(o.mutation,t,o.mutation.getFieldMask(),Wl.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Ip(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=xd(),i=new hf((function(e,t){return e-t})),a=Ed();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=di(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||yf.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Ed()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=_d();c.forEach((function(e){if(!a.has(e)){var n=Zh(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return of.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ql.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):of.resolve(wd()),s=-1,u=a;return o.next((function(t){return of.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?of.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Ed())})).next((function(e){return{batchId:s,changes:bd(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ql(t)).next((function(e){var t=kd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=kd();return this.indexManager.getCollectionParents(e,i).next((function(o){return of.forEach(o,(function(o){var s=function(e,t){return new vh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Qf.newInvalidDocument(n)))}));var n=kd();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&ed(a.mutation,i,yf.empty(),Wl.now()),Ih(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):of.resolve(Qf.newInvalidDocument(t))}}]),e}(),Rp=function(){function e(t){l(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return h(e,[{key:"getBundleMetadata",value:function(e,t){return of.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Hd(n.createTime)}),of.resolve()}},{key:"getNamedQuery",value:function(e,t){return of.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:wp(e.bundledQuery),readTime:Hd(e.readTime)}}(t)),of.resolve()}}]),e}(),Np=function(){function e(){l(this,e),this.overlays=new hf(Ql.comparator),this.es=new Map}return h(e,[{key:"getOverlay",value:function(e,t){return of.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=wd();return of.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),of.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),of.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=wd(),i=t.length+1,a=new Ql(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return of.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new hf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=wd(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=wd(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return of.resolve(u)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new gp(t,n));var a=this.es.get(t);void 0===a&&(a=Ed(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Pp=function(){function e(){l(this,e),this.ns=new vf(Dp.ss),this.rs=new vf(Dp.os)}return h(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Dp(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Dp(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Ql(new ql([])),r=new Dp(n,e),i=new Dp(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Ql(new ql([])),n=new Dp(t,e),r=new Dp(t,e+1),i=Ed();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Dp(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Dp=function(){function e(t,n){l(this,e),this.key=t,this._s=n}return h(e,null,[{key:"ss",value:function(e,t){return Ql.comparator(e.key,t.key)||zl(e._s,t._s)}},{key:"os",value:function(e,t){return zl(e._s,t._s)||Ql.comparator(e.key,t.key)}}]),e}(),Op=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new vf(Dp.ss)}return h(e,[{key:"checkEmpty",value:function(e){return of.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new mp(i,t,n,r);this.mutationQueue.push(a);var o,s=di(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new Dp(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return of.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return of.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return of.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return of.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return of.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Dp(t,0),i=new Dp(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),of.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vf(zl);return t.forEach((function(e){var t=new Dp(e,0),i=new Dp(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),of.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ql.isDocumentKey(i)||(i=i.child(""));var a=new Dp(new Ql(i),0),o=new vf(zl);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),of.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Cl(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return of.forEach(t.mutations,(function(i){var a=new Dp(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Dp(t,0),r=this.gs.firstAfterOrEqual(n);return of.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,of.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Lp=function(){function e(t){l(this,e),this.Es=t,this.docs=new hf(Ql.comparator),this.size=0}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return of.resolve(n?n.document.mutableCopy():Qf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=yd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Qf.newInvalidDocument(e))})),of.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=yd(),i=new Ql(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||ef(Zl(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return of.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){El()}},{key:"As",value:function(e,t){return of.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Mp(this)}},{key:"getSize",value:function(e){return of.resolve(this.size)}}]),e}(),Mp=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).Yn=e,r}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),of.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Cp),Up=function(){function e(t){l(this,e),this.persistence=t,this.Rs=new vd((function(e){return Zf(e)}),$f),this.lastRemoteSnapshotVersion=Hl.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Pp,this.targetCount=0,this.vs=Ep.Pn()}return h(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),of.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return of.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return of.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),of.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),of.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Ep(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,of.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),of.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,of.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),of.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return of.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return of.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),of.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),of.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),of.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return of.resolve(n)}},{key:"containsKey",value:function(e,t){return of.resolve(this.Ps.containsKey(t))}}]),e}(),jp=function(){function e(t,n){var r=this;l(this,e),this.Vs={},this.overlays={},this.Ss=new uf(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Up(this),this.indexManager=new xp,this.remoteDocumentCache=new Lp((function(e){return r.referenceDelegate.xs(e)})),this.It=new bp(n),this.Ns=new Rp(this.It)}return h(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Np,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Op(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;_l("MemoryPersistence","Starting transaction:",e);var i=new Fp(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return of.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Fp=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return h(n)}(nf),Vp=function(){function e(t){l(this,e),this.persistence=t,this.Fs=new Pp,this.$s=null}return h(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw El()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),of.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),of.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),of.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return of.forEach(this.Ls,(function(r){var i=Ql.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Hl.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return of.or([function(){return of.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var zp=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return h(e,null,[{key:"Ci",value:function(t,n){var r,i=Ed(),a=Ed(),o=di(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Bp=function(){function e(){l(this,e),this.xi=!1}return h(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(gh(t))return of.resolve(null);var r=xh(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ah(t,null,"F"),r=xh(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ed.apply(void 0,c(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Ah(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return gh(t)||r.isEqual(Hl.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(wl()<=ua.DEBUG&&_l("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ch(t)),i.Bi(e,o,t,Jl(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new vf(Rh(e));return t.forEach((function(t,r){Ih(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return wl()<=ua.DEBUG&&_l("QueryEngine","Using full collection scan to execute query:",Ch(t)),this.Ni.getDocumentsMatchingQuery(e,t,$l.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Wp=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new hf(zl),this.qi=new vd((function(e){return Zf(e)}),$f),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return h(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Hp(e,t,n,r){return new Wp(e,t,n,r)}function Gp(e,t){return qp.apply(this,arguments)}function qp(){return qp=or(ir().mark((function e(t,n){var r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Il(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Ed(),u=di(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=di(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=di(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=di(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),qp.apply(this,arguments)}function Kp(e,t){var n=Il(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=of.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Cl(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ed(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Yp(e){var t=Il(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Qp(e,t){var n=Il(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(gf.EMPTY_BYTE_STRING,Hl.min()).withLastLimboFreeSnapshotVersion(Hl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=yd(),u=Ed();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Xp(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(Hl.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return of.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ui=i,e}))}function Xp(e,t,n){var r=Ed(),i=Ed();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=yd();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Hl.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):_l("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Jp(e,t){var n=Il(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Zp(e,t){var n=Il(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,of.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new kp(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function $p(e,t,n){return ev.apply(this,arguments)}function ev(){return ev=or(ir().mark((function e(t,n,r){var i,a,o;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Il(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),sf(e.t1)){e.next=12;break}throw e.t1;case 12:_l("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ev.apply(this,arguments)}function tv(e,t,n){var r=Il(e),i=Hl.min(),a=Ed();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Il(e),i=r.qi.get(n);return void 0!==i?of.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,xh(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Hl.min(),n?a:Ed())})).next((function(e){return nv(r,Th(t),e),{documents:e,Hi:a}}))}))}function nv(e,t,n){var r=Hl.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var rv=function(){function e(){l(this,e),this.activeTargetIds=Id()}return h(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),iv=function(){function e(){l(this,e),this.Lr=new rv,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return h(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new rv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),av=function(){function e(){l(this,e)}return h(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ov=function(){function e(){var t=this;l(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return h(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){_l("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=di(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){_l("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=di(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),sv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},uv=function(){function e(t){l(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return h(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),cv=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return h(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ml;o.listenOnce(fl.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ll.NO_ERROR:var t=o.getResponseJson();_l("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ll.TIMEOUT:_l("Connection",'RPC "'+e+'" timed out'),a(new Rl(Tl.DEADLINE_EXCEEDED,"Request time out"));break;case ll.HTTP_ERROR:var n=o.getStatus();if(_l("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Tl).indexOf(t)>=0?t:Tl.UNKNOWN}(r.status);a(new Rl(s,r.message))}else a(new Rl(Tl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Rl(Tl.UNAVAILABLE,"Connection failed."));break;default:El()}}finally{_l("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ul(),a=cl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new pl({})),this.ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");_l("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new uv({Hr:function(e){l?_l("Connection","Not sending because WebChannel is closed:",e):(c||(_l("Connection","Opening WebChannel transport."),u.open(),c=!0),_l("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,vl.EventType.OPEN,(function(){l||_l("Connection","WebChannel transport opened.")})),h(u,vl.EventType.CLOSE,(function(){l||(l=!0,_l("Connection","WebChannel transport closed"),f.io())})),h(u,vl.EventType.ERROR,(function(e){l||(l=!0,Al("Connection","WebChannel transport errored:",e),f.io(new Rl(Tl.UNAVAILABLE,"The operation could not be completed")))})),h(u,vl.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Cl(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){_l("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ud[e];if(void 0!==t)return pd(t)}(a),s=i.message;void 0===o&&(o=Tl.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Rl(o,s)),u.close()}else _l("Connection","WebChannel received:",n),f.ro(n)}})),h(a,hl.STAT_EVENT,(function(e){e.stat===dl.PROXY?_l("Connection","Detected buffering proxy"):e.stat===dl.NOPROXY&&_l("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return h(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);_l("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return _l("RestConnection","Received: ",e),e}),(function(t){throw Al("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+kl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=sv[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function lv(){return"undefined"!=typeof document?document:null}function fv(e){return new Vd(e,!0)}var hv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return h(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&_l("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),dv=function(){function e(t,n,r,i,a,o,s,u){l(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new hv(t,n)}return h(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Tl.RESOURCE_EXHAUSTED?(xl(n.toString()),xl("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===Tl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Rl(Tl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(or(ir().mark((function t(){return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return _l("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(_l("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),pv=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).It=o,u}return h(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:El()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Cl(void 0===t||"string"==typeof t),gf.fromBase64String(t||"")):(Cl(void 0===t||t instanceof Uint8Array),gf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Tl.UNKNOWN:pd(e.code);return new Rl(t,e.message||"")}(o);n=new Dd(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Yd(e,u.document.name),l=Hd(u.document.updateTime),f=new Kf({mapValue:{fields:u.document.fields}}),h=Qf.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Nd(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Yd(e,v.document),y=v.readTime?Hd(v.readTime):Hl.min(),g=Qf.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Nd([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Yd(e,b.document),_=b.removedTargetIds||[];n=new Nd([],_,w,null)}else{if(!("filter"in t))return El();t.filter;var x=t.filter;x.targetId;var A=x.count||0,S=new hd(A),E=x.targetId;n=new Pd(E,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Hl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Hl.min():t.readTime?Hd(t.readTime):Hl.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Jd(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=eh(r)?{documents:tp(e,r)}:{query:np(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Bd(e,t.resumeToken):t.snapshotVersion.compareTo(Hl.min())>0&&(n.readTime=zd(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return El()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Jd(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(dv),vv=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).It=o,u.Jo=!1,u}return h(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,hi(v(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(Cl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Cl(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Hd(e.updateTime):Hd(t);return n.isEqual(Hl.min())&&(n=Hd(t)),new Yh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Hd(e.commitTime);return this.listener.Zo(n,t)}return Cl(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Jd(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ep(t.It,e)}))};this.Bo(n)}}]),n}(dv),mv=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return h(n,[{key:"su",value:function(){if(this.nu)throw new Rl(Tl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.Vo.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Tl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Rl(Tl.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],c=o[1];return i.Vo.fo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Tl.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Rl(Tl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return h((function e(){l(this,e)}))}()),yv=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return h(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(xl(t),this.ou=!1):_l("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),gv=h((function e(t,n,r,i,a){var o=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Tv(o),!e.t0){e.next=5;break}return _l("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Il(t))._u.add(4),e.next=4,wv(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,kv(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new yv(r,i)}));function kv(e){return bv.apply(this,arguments)}function bv(){return bv=or(ir().mark((function e(t){var n,r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Tv(t)){e.next=18;break}n=di(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),bv.apply(this,arguments)}function wv(e){return _v.apply(this,arguments)}function _v(){return _v=or(ir().mark((function e(t){var n,r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=di(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),_v.apply(this,arguments)}function xv(e,t){var n=Il(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Iv(n)?Cv(n):im(n).ko()&&Sv(n,t))}function Av(e,t){var n=Il(e),r=im(n);n.du.delete(t),r.ko()&&Ev(n,t),0===n.du.size&&(r.ko()?r.Fo():Tv(n)&&n.gu.set("Unknown"))}function Sv(e,t){e.yu.Ot(t.targetId),im(e).zo(t)}function Ev(e,t){e.yu.Ot(t),im(e).Ho(t)}function Cv(e){e.yu=new Ld({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),im(e).start(),e.gu.uu()}function Iv(e){return Tv(e)&&!im(e).No()&&e.du.size>0}function Tv(e){return 0===Il(e)._u.size}function Rv(e){e.yu=void 0}function Nv(e){return Pv.apply(this,arguments)}function Pv(){return Pv=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Sv(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Dv(e,t){return Ov.apply(this,arguments)}function Ov(){return Ov=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rv(t),Iv(t)?(t.gu.hu(n),Cv(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Lv(e,t,n){return Mv.apply(this,arguments)}function Mv(){return Mv=or(ir().mark((function e(t,n,r){var i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Dd&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=or(ir().mark((function e(t,n){var r,i,a,o;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=di(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),_l("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Uv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Nd?t.yu.Gt(n):n instanceof Pd?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Hl.min())){e.next=29;break}return e.prev=14,e.next=17,Yp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(gf.EMPTY_BYTE_STRING,n.snapshotVersion)),Ev(e,t);var r=new kp(n.target,t,1,n.sequenceNumber);Sv(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),_l("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Uv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Mv.apply(this,arguments)}function Uv(e,t,n){return jv.apply(this,arguments)}function jv(){return jv=or(ir().mark((function e(t,n,r){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sf(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,wv(t);case 5:t.gu.set("Offline"),r||(r=function(){return Yp(t.localStore)}),t.asyncQueue.enqueueRetryable(or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _l("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,kv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Fv(e,t){return t().catch((function(n){return Uv(e,n,t)}))}function Vv(e){return zv.apply(this,arguments)}function zv(){return zv=or(ir().mark((function e(t){var n,r,i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Il(t),r=am(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Bv(n)){e.next=19;break}return e.prev=3,e.next=6,Jp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Wv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Uv(n,e.t0);case 17:e.next=2;break;case 19:Hv(n)&&Gv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),zv.apply(this,arguments)}function Bv(e){return Tv(e)&&e.fu.length<10}function Wv(e,t){e.fu.push(t);var n=am(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Hv(e){return Tv(e)&&!am(e).No()&&e.fu.length>0}function Gv(e){am(e).start()}function qv(e){return Kv.apply(this,arguments)}function Kv(){return Kv=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:am(t).eu();case 1:case"end":return e.stop()}}),e)}))),Kv.apply(this,arguments)}function Yv(e){return Qv.apply(this,arguments)}function Qv(){return Qv=or(ir().mark((function e(t){var n,r,i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=am(t),r=di(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}function Xv(e,t,n){return Jv.apply(this,arguments)}function Jv(){return Jv=or(ir().mark((function e(t,n,r){var i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=yp.from(i,n,r),e.next=3,Fv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Vv(t);case 5:case"end":return e.stop()}}),e)}))),Jv.apply(this,arguments)}function Zv(e,t){return $v.apply(this,arguments)}function $v(){return $v=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&am(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=or(ir().mark((function e(t,n){var r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dd(i=n.code)||i===Tl.ABORTED){e.next=7;break}return r=t.fu.shift(),am(t).Oo(),e.next=5,Fv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Vv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Hv(t)&&Gv(t);case 5:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}function em(e,t){return tm.apply(this,arguments)}function tm(){return tm=or(ir().mark((function e(t,n){var r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Il(t)).asyncQueue.verifyOperationInProgress(),_l("RemoteStore","RemoteStore received new credentials"),i=Tv(r),r._u.add(3),e.next=6,wv(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,kv(r);case 12:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}function nm(e,t){return rm.apply(this,arguments)}function rm(){return rm=or(ir().mark((function e(t,n){var r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Il(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,kv(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,wv(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),rm.apply(this,arguments)}function im(e){return e.pu||(e.pu=function(e,t,n){var r=Il(e);return r.su(),new pv(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Nv.bind(null,e),Zr:Dv.bind(null,e),Wo:Lv.bind(null,e)}),e.wu.push(function(){var t=or(ir().mark((function t(n){return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),Iv(e)?Cv(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Rv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function am(e){return e.Iu||(e.Iu=function(e,t,n){var r=Il(e);return r.su(),new vv(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:qv.bind(null,e),Zr:Zv.bind(null,e),tu:Yv.bind(null,e),Zo:Xv.bind(null,e)}),e.wu.push(function(){var t=or(ir().mark((function t(n){return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,Vv(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(_l("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var om=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return h(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rl(Tl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function sm(e,t){if(xl("AsyncQueue","".concat(t,": ").concat(e)),sf(e))return new Rl(Tl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var um=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||Ql.comparator(e.key,n.key)}:function(e,t){return Ql.comparator(e.key,t.key)},this.keyedMap=kd(),this.sortedSet=new hf(this.comparator)}return h(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),cm=function(){function e(){l(this,e),this.Tu=new hf(Ql.comparator)}return h(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):El():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),lm=function(){function e(t,n,r,i,a,o,s,u){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return h(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,um.emptySet(n),a,r,i,!0,!1)}}]),e}(),fm=h((function e(){l(this,e),this.Au=void 0,this.listeners=[]})),hm=h((function e(){l(this,e),this.queries=new vd((function(e){return Eh(e)}),Sh),this.onlineState="Unknown",this.Ru=new Set}));function dm(e,t){return pm.apply(this,arguments)}function pm(){return pm=or(ir().mark((function e(t,n){var r,i,a,o,s;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Il(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new fm),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=sm(e.t0,"Initialization of query '".concat(Ch(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&km(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),pm.apply(this,arguments)}function vm(e,t){return mm.apply(this,arguments)}function mm(){return mm=or(ir().mark((function e(t,n){var r,i,a,o,s;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Il(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),mm.apply(this,arguments)}function ym(e,t){var n,r=Il(e),i=!1,a=di(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=di(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&km(r)}function gm(e,t,n){var r=Il(e),i=r.queries.get(t);if(i){var a,o=di(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function km(e){e.Ru.forEach((function(e){e.next()}))}var bm=function(){function e(t,n,r){l(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return h(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=di(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new lm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=lm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}();var wm=h((function e(t){l(this,e),this.key=t})),_m=h((function e(t){l(this,e),this.key=t})),xm=function(){function e(t,n){l(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Ed(),this.mutatedKeys=Ed(),this.Ku=Rh(t),this.Gu=new um(this.Ku)}return h(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new cm,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ih(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ku(f,u)>0||c&&n.Ku(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:s,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return El()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],s=0===this.qu.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new lm(this.query,e.Gu,i,a,e.mutatedKeys,0===s,u,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new cm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=Ed(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new _m(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new wm(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=Ed();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return lm.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),Am=h((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),Sm=h((function e(t){l(this,e),this.key=t,this.ec=!1})),Em=function(){function e(t,n,r,i,a,o){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new vd((function(e){return Eh(e)}),Sh),this.ic=new Map,this.rc=new Set,this.oc=new hf(Ql.comparator),this.uc=new Map,this.cc=new Pp,this.ac={},this.hc=new Map,this.lc=Ep.vn(),this.onlineState="Unknown",this.fc=void 0}return h(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Cm(e,t){return Im.apply(this,arguments)}function Im(){return Im=or(ir().mark((function e(t,n){var r,i,a,o,s,u;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ny(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,Zp(r.localStore,xh(n));case 8:return s=e.sent,r.isPrimaryClient&&xv(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Tm(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Im.apply(this,arguments)}function Tm(e,t,n,r){return Rm.apply(this,arguments)}function Rm(){return Rm=or(ir().mark((function e(t,n,r,i){var a,o,s,u,c,l;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=or(ir().mark((function e(t,n,r,i){var a,o,s;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,tv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ym(t,n.targetId,s.Yu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,tv(t.localStore,n,!0);case 3:return a=e.sent,o=new xm(n,a.Hi),s=o.ju(a.documents),u=Rd.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Ym(t,r,c.Yu),l=new Am(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Rm.apply(this,arguments)}function Nm(e,t){return Pm.apply(this,arguments)}function Pm(){return Pm=or(ir().mark((function e(t,n){var r,i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Il(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Sh(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,$p(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Av(r.remoteStore,i.targetId),qm(r,i.targetId)})).catch(rf);case 9:e.next=14;break;case 11:return qm(r,i.targetId),e.next=14,$p(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Pm.apply(this,arguments)}function Dm(e,t,n){return Om.apply(this,arguments)}function Om(){return Om=or(ir().mark((function e(t,n,r){var i,a,o;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ry(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Il(e),a=Wl.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ed());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=yd(),u=Ed();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=di(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=td(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new id(c.key,l,Yf(l.value.mapValue),Qh.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:bd(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new hf(zl)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Jm(i,a.changes);case 9:return e.next=11,Vv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=sm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Om.apply(this,arguments)}function Lm(e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=or(ir().mark((function e(t,n){var r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Il(t),e.prev=1,e.next=4,Qp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Cl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Cl(n.ec):e.removedDocuments.size>0&&(Cl(n.ec),n.ec=!1))})),e.next=8,Jm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,rf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Mm.apply(this,arguments)}function Um(e,t,n){var r=Il(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Il(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=di(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&km(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function jm(e,t,n){return Fm.apply(this,arguments)}function Fm(){return Fm=or(ir().mark((function e(t,n,r){var i,a,o,s,u,c;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Il(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new hf(Ql.comparator)).insert(o,Qf.newNoDocument(o,Hl.min())),u=Ed().add(o),c=new Td(Hl.min(),new Map,new vf(zl),s,u),e.next=9,Lm(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),Xm(i),e.next=16;break;case 14:return e.next=16,$p(i.localStore,n,!1).then((function(){return qm(i,n,r)})).catch(rf);case 16:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Vm(e,t){return zm.apply(this,arguments)}function zm(){return zm=or(ir().mark((function e(t,n){var r,i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Il(t),i=n.batch.batchId,e.prev=1,e.next=4,Kp(r.localStore,n);case 4:return a=e.sent,Gm(r,i,null),Hm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Jm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,rf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),zm.apply(this,arguments)}function Bm(e,t,n){return Wm.apply(this,arguments)}function Wm(){return Wm=or(ir().mark((function e(t,n,r){var i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Il(t),e.prev=1,e.next=4,function(e,t){var n=Il(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Cl(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Gm(i,n,r),Hm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Jm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,rf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Wm.apply(this,arguments)}function Hm(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Gm(e,t,n){var r=Il(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function qm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=di(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||Km(e,t)}))}function Km(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Av(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Xm(e))}function Ym(e,t,n){var r,i=di(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof wm?(e.cc.addReference(a.key,t),Qm(e,a)):a instanceof _m?(_l("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||Km(e,a.key)):El()}}catch(o){i.e(o)}finally{i.f()}}function Qm(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(_l("SyncEngine","New document in limbo: "+n),e.rc.add(r),Xm(e))}function Xm(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Ql(ql.fromString(t)),r=e.lc.next();e.uc.set(r,new Sm(n)),e.oc=e.oc.insert(n,r),xv(e.remoteStore,new kp(xh(yh(n.path)),r,2,uf.at))}}function Jm(e,t,n){return Zm.apply(this,arguments)}function Zm(){return Zm=or(ir().mark((function e(t,n,r){var i,a,o,s;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Il(t),a=[],o=[],s=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){s.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=zp.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.nc.Wo(a),e.next=9,function(){var e=or(ir().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Il(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return of.forEach(n,(function(t){return of.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return of.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),sf(e.t0)){e.next=10;break}throw e.t0;case 10:_l("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=di(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ui.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function $m(e,t){return ey.apply(this,arguments)}function ey(){return ey=or(ir().mark((function e(t,n){var r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Il(t)).currentUser.isEqual(n)){e.next=11;break}return _l("SyncEngine","User change. New user:",n.toKey()),e.next=5,Gp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Rl(Tl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Jm(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),ey.apply(this,arguments)}function ty(e,t){var n=Il(e),r=n.uc.get(t);if(r&&r.ec)return Ed().add(r.key);var i=Ed(),a=n.ic.get(t);if(!a)return i;var o,s=di(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.sc.get(u);i=i.unionWith(c.view.Qu)}}catch(l){s.e(l)}finally{s.f()}return i}function ny(e){var t=Il(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ty.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jm.bind(null,t),t.nc.Wo=ym.bind(null,t.eventManager),t.nc._c=gm.bind(null,t.eventManager),t}function ry(e){var t=Il(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Vm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Bm.bind(null,t),t}var iy=function(){function e(){l(this,e),this.synchronizeTabs=!1}return h(e,[{key:"initialize",value:function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=fv(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return Hp(this.persistence,new Bp,e.initialUser,this.It)}},{key:"gc",value:function(e){return new jp(Vp.Bs,this.It)}},{key:"mc",value:function(e){return new iv}},{key:"terminate",value:function(){var e=or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ay=function(){function e(){l(this,e)}return h(e,[{key:"initialize",value:function(){var e=or(ir().mark((function e(t,n){var r=this;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Um(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$m.bind(null,this.syncEngine),e.next=12,nm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new hm}},{key:"createDatastore",value:function(e){var t,n=fv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new cv(t));return function(e,t,n,r){return new mv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Um(o.syncEngine,e,0)},a=ov.C()?new ov:new av,new gv(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Em(e,t,n,r,i,a);return o&&(s.fc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Il(t),_l("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,wv(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var oy=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return h(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):xl("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),sy=function(){function e(t,n,r,i){var a=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gl.UNAUTHENTICATED,this.clientId=Vl.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _l("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return _l("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return h(e,[{key:"getConfiguration",value:function(){var e=or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Rl(Tl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(or(ir().mark((function n(){var r;return ir().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=sm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function uy(e,t){return cy.apply(this,arguments)}function cy(){return cy=or(ir().mark((function e(t,n){var r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),_l("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Gp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),cy.apply(this,arguments)}function ly(e,t){return fy.apply(this,arguments)}function fy(){return fy=or(ir().mark((function e(t,n){var r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,hy(t);case 3:return r=e.sent,_l("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return em(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return em(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e){return dy.apply(this,arguments)}function dy(){return dy=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return _l("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,uy(t,new iy);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),dy.apply(this,arguments)}function py(e){return vy.apply(this,arguments)}function vy(){return vy=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return _l("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ly(t,new ay);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}function my(e){return py(e).then((function(e){return e.syncEngine}))}function yy(e){return gy.apply(this,arguments)}function gy(){return gy=or(ir().mark((function e(t){var n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,py(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Cm.bind(null,n.syncEngine),r.onUnlisten=Nm.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),gy.apply(this,arguments)}function ky(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Nl;return e.asyncQueue.enqueueAndForget(or(ir().mark((function i(){return ir().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new oy({next:function(n){t.enqueueAndForget((function(){return vm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Rl(Tl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new bm(n,a,{includeMetadataChanges:!0,Nu:!0});return dm(e,o)},i.next=3,yy(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var by=new Map;function wy(e,t,n){if(!n)throw new Rl(Tl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function _y(e){if(!Ql.isDocumentKey(e))throw new Rl(Tl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function xy(e){if(Ql.isDocumentKey(e))throw new Rl(Tl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ay(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":El()}function Sy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rl(Tl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ay(e);throw new Rl(Tl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Ey=function(){function e(t){var n;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Rl(Tl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Rl(Tl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Rl(Tl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return h(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Cy=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ey({}),this._settingsFrozen=!1}return h(e,[{key:"app",get:function(){if(!this._app)throw new Rl(Tl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Rl(Tl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ey(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Dl;switch(e.type){case"gapi":var t=e.client;return new Ml(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Rl(Tl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=by.get(e);t&&(_l("ComponentProvider","Removing Datastore"),by.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var Iy=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return h(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ry(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Ty=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return h(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ry=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,yh(i)))._path=i,a.type="collection",a}return h(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Iy(this.firestore,null,new Ql(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Ty);function Ny(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ra(e),wy("collection","path",t),e instanceof Cy){var a=ql.fromString.apply(ql,[t].concat(r));return xy(a),new Ry(e,null,a)}if(!(e instanceof Iy||e instanceof Ry))throw new Rl(Tl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ql.fromString.apply(ql,[t].concat(r)));return xy(o),new Ry(e.firestore,null,o)}function Py(e,t){if(e=Sy(e,Cy),wy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Rl(Tl.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Ty(e,null,function(e){return new vh(ql.emptyPath(),e)}(t))}function Dy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ra(e),1===arguments.length&&(t=Vl.R()),wy("doc","path",t),e instanceof Cy){var a=ql.fromString.apply(ql,[t].concat(r));return _y(a),new Iy(e,null,new Ql(a))}if(!(e instanceof Iy||e instanceof Ry))throw new Rl(Tl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ql.fromString.apply(ql,[t].concat(r)));return _y(o),new Iy(e.firestore,e instanceof Ry?e.converter:null,new Ql(o))}var Oy=function(){function e(){var t=this;l(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new hv(this,"async_queue_retry"),this.jc=function(){var e=lv();e&&_l("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=lv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return h(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=lv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new Nl;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=or(ir().mark((function e(){var t=this;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),sf(e.t0)){e.next=12;break}throw e.t0;case 12:_l("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw xl("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=om.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&El()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=or(ir().mark((function e(){var t;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=di(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=di(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function Ly(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=di(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var My=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Oy,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return h(n,[{key:"_terminate",value:function(){return this._firestoreClient||jy(this),this._firestoreClient.terminate()}}]),n}(Cy);function Uy(e){return e._firestoreClient||jy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jy(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ef(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new sy(e._authCredentials,e._appCheckCredentials,e._queue,r)}var Fy=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Rl(Tl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yl(n)}return h(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Vy=function(){function e(t){l(this,e),this._byteString=t}return h(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(gf.fromBase64String(t))}catch(t){throw new Rl(Tl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(gf.fromUint8Array(t))}}]),e}(),zy=h((function e(t){l(this,e),this._methodName=t})),By=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new Rl(Tl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Rl(Tl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return h(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return zl(this._lat,e._lat)||zl(this._long,e._long)}}]),e}(),Wy=/^__.*__$/,Hy=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new id(e,this.data,this.fieldMask,t,this.fieldTransforms):new rd(e,this.data,t,this.fieldTransforms)}}]),e}(),Gy=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return new id(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function qy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw El()}}var Ky=function(){function e(t,n,r,i,a,o){l(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return h(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return cg(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(qy(this.na)&&Wy.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),Yy=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||fv(t)}return h(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ky({na:e,methodName:t,la:n,path:Yl.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function Qy(e){var t=e._freezeSettings(),n=fv(e._databaseId);return new Yy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Xy(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);ag("Data must be an object, but it was:",o,r);var s,u,c=rg(r,o);if(a.merge)s=new yf(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=di(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=og(t,d,n);if(!o.contains(p))throw new Rl(Tl.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));lg(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new yf(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Hy(new Kf(c),s,u)}var Jy=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(zy);var Zy=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){return new Kh(e.path,new Fh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(zy);function $y(e,t,n,r){var i=e.fa(1,t,n);ag("Data must be an object, but it was:",i,r);var a=[],o=Kf.empty();lf(r,(function(e,r){var s=ug(t,e,n);r=ra(r);var u=i.ua(s);if(r instanceof Jy)a.push(s);else{var c=ng(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new yf(a);return new Gy(o,s,i.fieldTransforms)}function eg(e,t,n,r,i,a){var o=e.fa(1,t,n),s=[og(t,r,n)],u=[i];if(a.length%2!=0)throw new Rl(Tl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(og(t,a[c])),u.push(a[c+1]);for(var l=[],f=Kf.empty(),h=s.length-1;h>=0;--h)if(!lg(l,s[h])){var d=s[h],p=u[h];p=ra(p);var v=o.ua(d);if(p instanceof Jy)l.push(d);else{var m=ng(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new yf(l);return new Gy(f,y,o.fieldTransforms)}function tg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ng(n,e.fa(r?4:3,t))}function ng(e,t){if(ig(e=ra(e)))return ag("Unsupported field value:",t,e),rg(e,t);if(e instanceof zy)return function(e,t){if(!qy(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=di(e);try{for(a.s();!(n=a.n()).done;){var o=ng(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ra(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Oh(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Wl.fromDate(e);return{timestampValue:zd(t.It,n)}}if(e instanceof Wl){var r=new Wl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:zd(t.It,r)}}if(e instanceof By)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vy)return{bytesValue:Bd(t.It,e._byteString)};if(e instanceof Iy){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Gd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(Ay(e)))}(e,t)}function rg(e,t){var n={};return ff(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lf(e,(function(e,r){var i=ng(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ig(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Wl||e instanceof By||e instanceof Vy||e instanceof Iy||e instanceof zy)}function ag(e,t,n){if(!ig(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ay(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function og(e,t,n){if((t=ra(t))instanceof Fy)return t._internalPath;if("string"==typeof t)return ug(e,t);throw cg("Field path arguments must be of type string or ",e,!1,void 0,n)}var sg=new RegExp("[~\\*/\\[\\]]");function ug(e,t,n){if(t.search(sg)>=0)throw cg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return w(Fy,c(t.split(".")))._internalPath}catch(r){throw cg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function cg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Rl(Tl.INVALID_ARGUMENT,s+e+u)}function lg(e,t){return e.some((function(e){return e.isEqual(t)}))}var fg=function(){function e(t,n,r,i,a){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return h(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Iy(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new hg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(dg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),hg=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){return hi(v(n.prototype),"data",this).call(this)}}]),n}(fg);function dg(e,t){return"string"==typeof t?ug(e,t):t instanceof Fy?t._internalPath:t._delegate._internalPath}var pg=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return h(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),vg=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return h(n,[{key:"exists",value:function(){return hi(v(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new mg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(dg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(fg),mg=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hi(v(n.prototype),"data",this).call(this,e)}}]),n}(vg),yg=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new pg(i.hasPendingWrites,i.fromCache),this.query=r}return h(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new mg(n._firestore,n._userDataWriter,r.key,r,new pg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Rl(Tl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new mg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new mg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:gg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function gg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return El()}}function kg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Rl(Tl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bg=h((function e(){l(this,e)}));function wg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var _g=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return h(n,[{key:"_apply",value:function(e){var t=Qy(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Rl(Tl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Cg(o,a);var u,c=[],l=di(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Eg(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=Eg(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Cg(o,a),s=tg(n,"where",o,"in"===a||"not-in"===a);var h=th.create(i,a,s);return function(e,t){if(t.dt()){var n=bh(e);if(null!==n&&!n.isEqual(t.field))throw new Rl(Tl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=kh(e);null!==r&&Ig(e,t.field,r)}var i=function(e,t){var n,r=di(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Rl(Tl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Rl(Tl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Ty(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new vh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(bg);function xg(e,t,n){var r=t,i=dg("where",e);return new _g(i,r,n)}var Ag=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return h(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Rl(Tl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Rl(Tl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fh(t,n);return function(e,t){if(null===kh(e)){var n=bh(e);null!==n&&Ig(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new Ty(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new vh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(bg);function Sg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=dg("orderBy",e);return new Ag(r,n)}function Eg(e,t,n){if("string"==typeof(n=ra(n))){if(""===n)throw new Rl(Tl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wh(t)&&-1!==n.indexOf("/"))throw new Rl(Tl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ql.fromString(n));if(!Ql.isDocumentKey(r))throw new Rl(Tl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ff(e,new Ql(r))}if(n instanceof Iy)return Ff(e,n._key);throw new Rl(Tl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ay(n),"."))}function Cg(e,t){if(!Array.isArray(e)||0===e.length)throw new Rl(Tl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Rl(Tl.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Ig(e,t,n){if(!n.isEqual(t))throw new Rl(Tl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Tg=function(){function e(){l(this,e)}return h(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Pf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_f(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw El()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return lf(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new By(wf(e.latitude),wf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Af(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sf(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=bf(e);return new Wl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ql.fromString(e);Cl(hp(n));var r=new Cf(n.get(1),n.get(3)),i=new Ql(n.popFirst(5));return r.isEqual(t)||xl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Rg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ng=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new Vy(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Iy(this.firestore,null,t)}}]),n}(Tg);function Pg(e){e=Sy(e,Ty);var t=Sy(e.firestore,My),n=Uy(t),r=new Ng(t);return kg(e._query),ky(n,e._query).then((function(n){return new yg(t,r,e,n)}))}function Dg(e,t,n){e=Sy(e,Iy);var r=Sy(e.firestore,My),i=Rg(e.converter,t,n);return Ug(r,[Xy(Qy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qh.none())])}function Og(e,t,n){e=Sy(e,Iy);for(var r=Sy(e.firestore,My),i=Qy(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Ug(r,[("string"==typeof(t=ra(t))||t instanceof Fy?eg(i,"updateDoc",e._key,t,n,o):$y(i,"updateDoc",e._key,t)).toMutation(e._key,Qh.exists(!0))])}function Lg(e,t){var n=Sy(e.firestore,My),r=Dy(e),i=Rg(e.converter,t);return Ug(n,[Xy(Qy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qh.exists(!1))]).then((function(){return r}))}function Mg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ra(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Ly(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Ly(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Iy)l=Sy(e.firestore,My),f=yh(e._key.path),c={next:function(t){n[u]&&n[u](jg(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Sy(e,Ty);l=Sy(p.firestore,My),f=p._query;var v=new Ng(l);c={next:function(e){n[u]&&n[u](new yg(l,v,p,e))},error:n[u+1],complete:n[u+2]},kg(e._query)}return function(e,t,n,r){var i=new oy(r),a=new bm(t,i,n);return e.asyncQueue.enqueueAndForget(or(ir().mark((function t(){return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dm,t.next=3,yy(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(or(ir().mark((function t(){return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vm,t.next=3,yy(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Uy(l),f,h,c)}function Ug(e,t){return function(e,t){var n=new Nl;return e.asyncQueue.enqueueAndForget(or(ir().mark((function r(){return ir().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Dm,r.next=3,my(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Uy(e),t)}function jg(e,t,n){var r=n.docs.get(t._key),i=new Ng(e);return new vg(e,i,t._key,r,new pg(n.hasPendingWrites,n.fromCache),t.converter)}function Fg(){return new Zy("serverTimestamp")}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];kl="9.10.0",Wa(new ia("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new My(new Ol(e.getProvider("auth-internal")),new jl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Rl(Tl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cf(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Xa(yl,"3.5.0",e),Xa(yl,"3.5.0","esm2017")}();Xa("firebase","9.10.0","app");function Vg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var zg;Object.create;function Bg(){return yn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Wg=Bg,Hg=new Li("auth","Firebase",Bg()),Gg=new va("@firebase/auth");function qg(e){if(Gg.logLevel<=ua.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Gg.error.apply(Gg,["Auth (".concat(Ya,"): ").concat(e)].concat(n))}}function Kg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Jg.apply(void 0,[e].concat(n))}function Yg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Jg.apply(void 0,[e].concat(n))}function Qg(e,t,n){var r=Object.assign(Object.assign({},Wg()),yn({},t,n));return new Li("auth","Firebase",r).create(t,{appName:e.name})}function Xg(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Kg(e,"argument-error"),Qg(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Jg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=c(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(c(o)))}return Hg.create.apply(Hg,[e].concat(n))}function Zg(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Jg.apply(void 0,[t].concat(r))}}function $g(e){var t="INTERNAL ASSERTION FAILED: "+e;throw qg(t),new Error(t)}function ek(e,t){e||$g(t)}var tk=new Map;function nk(e){ek(e instanceof Function,"Expected a class definition");var t=tk.get(e);return t?(ek(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tk.set(e,t),t)}function rk(e,t){var n=Ha(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Gi(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Kg(r,"already-initialized")}return n.initialize({options:t})}function ik(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ak(){return"http:"===ok()||"https:"===ok()}function ok(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var sk=function(){function e(t,n){l(this,e),this.shortDelay=t,this.longDelay=n,ek(n>t,"Short delay should be less than long delay!"),this.isMobile=Ii()||Ri()}return h(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ak()||Ti()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function uk(e,t){ek(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ck=function(){function e(){l(this,e)}return h(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void $g("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void $g("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void $g("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),lk=(yn(zg={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),yn(zg,"MISSING_CUSTOM_TOKEN","internal-error"),yn(zg,"INVALID_IDENTIFIER","invalid-email"),yn(zg,"MISSING_CONTINUE_URI","internal-error"),yn(zg,"INVALID_PASSWORD","wrong-password"),yn(zg,"MISSING_PASSWORD","internal-error"),yn(zg,"EMAIL_EXISTS","email-already-in-use"),yn(zg,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),yn(zg,"INVALID_IDP_RESPONSE","invalid-credential"),yn(zg,"INVALID_PENDING_TOKEN","invalid-credential"),yn(zg,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),yn(zg,"MISSING_REQ_TYPE","internal-error"),yn(zg,"EMAIL_NOT_FOUND","user-not-found"),yn(zg,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),yn(zg,"EXPIRED_OOB_CODE","expired-action-code"),yn(zg,"INVALID_OOB_CODE","invalid-action-code"),yn(zg,"MISSING_OOB_CODE","internal-error"),yn(zg,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),yn(zg,"INVALID_ID_TOKEN","invalid-user-token"),yn(zg,"TOKEN_EXPIRED","user-token-expired"),yn(zg,"USER_NOT_FOUND","user-token-expired"),yn(zg,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),yn(zg,"INVALID_CODE","invalid-verification-code"),yn(zg,"INVALID_SESSION_INFO","invalid-verification-id"),yn(zg,"INVALID_TEMPORARY_PROOF","invalid-credential"),yn(zg,"MISSING_SESSION_INFO","missing-verification-id"),yn(zg,"SESSION_EXPIRED","code-expired"),yn(zg,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),yn(zg,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),yn(zg,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),yn(zg,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),yn(zg,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),yn(zg,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),yn(zg,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),yn(zg,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),yn(zg,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),yn(zg,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),yn(zg,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),zg),fk=new sk(3e4,6e4);function hk(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function dk(e,t,n,r){return pk.apply(this,arguments)}function pk(){return pk=or(ir().mark((function e(t,n,r,i){var a,o=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",vk(t,a,or(ir().mark((function e(){var a,o,s,u;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ki(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ck.fetch()(kk(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e,t,n){return mk.apply(this,arguments)}function mk(){return mk=or(ir().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},lk),n),e.prev=2,a=new bk(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw wk(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw wk(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw wk(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw wk(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Qg(t,p,d);case 34:Kg(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Oi)){e.next=41;break}throw e.t0;case 41:Kg(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),mk.apply(this,arguments)}function yk(e,t,n,r){return gk.apply(this,arguments)}function gk(){return gk=or(ir().mark((function e(t,n,r,i){var a,o,s=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,dk(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Kg(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function kk(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?uk(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var bk=function(){function e(t){var n=this;l(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Yg(n.auth,"network-request-failed"))}),fk.get())}))}return h(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function wk(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Yg(e,t,r);return i.customData._tokenResponse=n,i}function _k(e,t){return xk.apply(this,arguments)}function xk(){return xk=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dk(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),xk.apply(this,arguments)}function Ak(e,t){return Sk.apply(this,arguments)}function Sk(){return Sk=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dk(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Sk.apply(this,arguments)}function Ek(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ck(){return Ck=or(ir().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=ra(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Zg((a=Tk(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ek(Ik(a.auth_time)),issuedAtTime:Ek(Ik(a.iat)),expirationTime:Ek(Ik(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ck.apply(this,arguments)}function Ik(e){return 1e3*Number(e)}function Tk(e){var t,n=u(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return qg("JWT malformed, contained fewer than 3 sections"),null;try{var o=xi(i);return o?JSON.parse(o):(qg("Failed to decode base64 JWT payload"),null)}catch(s){return qg("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function Rk(e,t){return Nk.apply(this,arguments)}function Nk(){return Nk=or(ir().mark((function e(t,n){var r=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Oi&&Pk(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Nk.apply(this,arguments)}function Pk(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Dk=function(){function e(t){l(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return h(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(or(ir().mark((function t(){return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=or(ir().mark((function e(){var t;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ok=function(){function e(t,n){l(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return h(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ek(this.lastLoginAt),this.creationTime=Ek(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Lk(e){return Mk.apply(this,arguments)}function Mk(){return Mk=or(ir().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Rk(t,Ak(r,{idToken:i}));case 6:Zg(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Fk(o.providerUserInfo):[],u=jk(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ok(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Mk.apply(this,arguments)}function Uk(){return(Uk=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ra(t),e.next=3,Lk(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jk(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(c(n),c(t))}function Fk(e){return e.map((function(e){var t=e.providerId,n=Vg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Vk(e,t){return zk.apply(this,arguments)}function zk(){return zk=or(ir().mark((function e(t,n){var r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vk(t,{},or(ir().mark((function e(){var r,i,a,o,s,u;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ki({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=kk(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ck.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),zk.apply(this,arguments)}var Bk=function(){function e(){l(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return h(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Zg(e.idToken,"internal-error"),Zg("undefined"!==typeof e.idToken,"internal-error"),Zg("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Tk(e);return Zg(t,"internal-error"),Zg("undefined"!==typeof t.exp,"internal-error"),Zg("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=or(ir().mark((function e(t){var n,r=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Zg(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=or(ir().mark((function e(t,n){var r,i,a,o;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vk(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return $g("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Zg("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Zg("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Zg("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Wk(e,t){Zg("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Hk=function(){function e(t){l(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Vg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?c(a.providerData):[],this.metadata=new Ok(a.createdAt||void 0,a.lastLoginAt||void 0)}return h(e,[{key:"getIdToken",value:function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rk(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Zg(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ck.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Uk.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Zg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Zg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=or(ir().mark((function e(t){var n,r,i=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Lk(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=or(ir().mark((function e(){var t;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Rk(this,_k(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Zg(k&&x,t,"internal-error");var A=Bk.fromJSON(this.name,x);Zg("string"===typeof k,t,"internal-error"),Wk(f,t.name),Wk(h,t.name),Zg("boolean"===typeof b,t,"internal-error"),Zg("boolean"===typeof w,t,"internal-error"),Wk(d,t.name),Wk(p,t.name),Wk(v,t.name),Wk(m,t.name),Wk(y,t.name),Wk(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:A,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=or(ir().mark((function t(n,r){var i,a,o,s=arguments;return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Bk).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Lk(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Gk=function(){function e(){l(this,e),this.type="NONE",this.storage={}}return h(e,[{key:"_isAvailable",value:function(){var e=or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Gk.type="NONE";var qk=Gk;function Kk(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Yk=function(){function e(t,n,r){l(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Kk(this.userKey,a.apiKey,o),this.fullPersistenceKey=Kk("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return h(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=or(ir().mark((function e(){var t;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Hk._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=or(ir().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(nk(qk),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||nk(qk),s=Kk(i,n.config.apiKey,n.name),u=null,c=di(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Hk._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Qk(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($k(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tb(t))return"Blackberry";if(nb(t))return"Webos";if(Jk(t))return"Safari";if((t.includes("chrome/")||Zk(t))&&!t.includes("edge/"))return"Chrome";if(eb(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Xk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/firefox\//i.test(e)}function Jk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Zk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/crios\//i.test(e)}function $k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/iemobile/i.test(e)}function eb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/android/i.test(e)}function tb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/blackberry/i.test(e)}function nb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/webos/i.test(e)}function rb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ib(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return rb(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ab(){return function(){var e=Ci();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ob(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci();return rb(e)||eb(e)||nb(e)||tb(e)||/windows phone/i.test(e)||$k(e)}function sb(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Qk(Ci());break;case"Worker":t="".concat(Qk(Ci()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ya,"/").concat(r)}var ub=function(){function e(t){l(this,e),this.auth=t,this.queue=[]}return h(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=or(ir().mark((function e(t){var n,r,i,a,o,s,u,c;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=di(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=di(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(Qe){}}}catch(l){s.e(l)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),cb=function(){function e(t,n,r){l(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fb(this),this.idTokenSubscription=new fb(this),this.beforeStateQueue=new ub(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hg,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return h(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=nk(t)),this._initializationPromise=this.queue(or(ir().mark((function r(){var i,a;return ir().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Yk.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=or(ir().mark((function e(){var t;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=or(ir().mark((function e(t){var n,r,i,a,o,s,u;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Zg(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lk(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ra(t):null)&&Zg(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=or(ir().mark((function e(t){var n,r=this,i=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Zg(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(or(ir().mark((function n(){return ir().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(nk(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Li("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=or(ir().mark((function e(t,n){var r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Zg(n=t&&nk(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Yk.create(this,[nk(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=or(ir().mark((function e(t){var n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=or(ir().mark((function e(t){var n=this;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Zg(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Zg(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=or(ir().mark((function e(){var t,n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function lb(e){return ra(e)}var fb=function(){function e(t){var n=this;l(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ji(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return h(e,[{key:"next",get:function(){return Zg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var hb=function(){function e(t,n){l(this,e),this.providerId=t,this.signInMethod=n}return h(e,[{key:"toJSON",value:function(){return $g("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return $g("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return $g("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return $g("not implemented")}}]),e}();function db(e,t){return pb.apply(this,arguments)}function pb(){return pb=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dk(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),pb.apply(this,arguments)}function vb(e,t){return mb.apply(this,arguments)}function mb(){return mb=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yk(t,"POST","/v1/accounts:signInWithPassword",hk(t,n)));case 1:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}function yb(e,t){return gb.apply(this,arguments)}function gb(){return gb=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yk(t,"POST","/v1/accounts:signInWithEmailLink",hk(t,n)));case 1:case"end":return e.stop()}}),e)}))),gb.apply(this,arguments)}function kb(e,t){return bb.apply(this,arguments)}function bb(){return bb=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yk(t,"POST","/v1/accounts:signInWithEmailLink",hk(t,n)));case 1:case"end":return e.stop()}}),e)}))),bb.apply(this,arguments)}var wb=function(e){p(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return h(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",vb(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",yb(t,{email:this._email,oobCode:this._password}));case 5:Kg(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",db(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",kb(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Kg(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(hb);function _b(e,t){return xb.apply(this,arguments)}function xb(){return xb=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yk(t,"POST","/v1/accounts:signInWithIdp",hk(t,n)));case 1:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}var Ab=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return h(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return _b(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,_b(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,_b(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ki(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kg("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Vg(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(hb);function Sb(e,t){return Eb.apply(this,arguments)}function Eb(){return Eb=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dk(t,"POST","/v1/accounts:sendVerificationCode",hk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Eb.apply(this,arguments)}function Cb(){return Cb=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yk(t,"POST","/v1/accounts:signInWithPhoneNumber",hk(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cb.apply(this,arguments)}function Ib(){return Ib=or(ir().mark((function e(t,n){var r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yk(t,"POST","/v1/accounts:signInWithPhoneNumber",hk(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw wk(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ib.apply(this,arguments)}var Tb=yn({},"USER_NOT_FOUND","user-not-found");function Rb(){return Rb=or(ir().mark((function e(t,n){var r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",yk(t,"POST","/v1/accounts:signInWithPhoneNumber",hk(t,r),Tb));case 2:case"end":return e.stop()}}),e)}))),Rb.apply(this,arguments)}var Nb=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone","phone")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Cb.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ib.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Rb.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(hb);var Pb=function(){function e(t){var n,r,i,a,o,s;l(this,e);var u=Yi(Qi(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,f=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Zg(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return h(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Yi(Qi(e)).link,n=t?Yi(Qi(t)).deep_link_id:null,r=Yi(Qi(e)).deep_link_id;return(r?Yi(Qi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(xy){return null}}}]),e}();var Db=function(){function e(){l(this,e),this.providerId=e.PROVIDER_ID}return h(e,null,[{key:"credential",value:function(e,t){return wb._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Pb.parseLink(t);return Zg(n,"argument-error"),wb._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Db.PROVIDER_ID="password",Db.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Db.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ob=function(){function e(t){l(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return h(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Lb=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).scopes=[],e}return h(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return c(this.scopes)}}]),n}(Ob),Mb=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"facebook.com")}return h(n,null,[{key:"credential",value:function(e){return Ab._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(xy){return null}}}]),n}(Lb);Mb.FACEBOOK_SIGN_IN_METHOD="facebook.com",Mb.PROVIDER_ID="facebook.com";var Ub=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return h(n,null,[{key:"credential",value:function(e,t){return Ab._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(xy){return null}}}]),n}(Lb);Ub.GOOGLE_SIGN_IN_METHOD="google.com",Ub.PROVIDER_ID="google.com";var jb=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"github.com")}return h(n,null,[{key:"credential",value:function(e){return Ab._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(xy){return null}}}]),n}(Lb);jb.GITHUB_SIGN_IN_METHOD="github.com",jb.PROVIDER_ID="github.com";var Fb=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"twitter.com")}return h(n,null,[{key:"credential",value:function(e,t){return Ab._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(xy){return null}}}]),n}(Lb);function Vb(e,t){return zb.apply(this,arguments)}function zb(){return zb=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yk(t,"POST","/v1/accounts:signUp",hk(t,n)));case 1:case"end":return e.stop()}}),e)}))),zb.apply(this,arguments)}Fb.TWITTER_SIGN_IN_METHOD="twitter.com",Fb.PROVIDER_ID="twitter.com";var Bb=function(){function e(t){l(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return h(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=or(ir().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Hk._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Wb(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=or(ir().mark((function t(n,r,i){var a;return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Wb(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Wb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Hb=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o,s;return l(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(g(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return h(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Oi);function Gb(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Hb._fromErrorAndOperation(e,n,t,r);throw n}))}function qb(e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=or(ir().mark((function e(t,n){var r,i,a=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Rk,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Bb._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Yb(e,t){return Qb.apply(this,arguments)}function Qb(){return Qb=or(ir().mark((function e(t,n){var r,i,a,o,s,u,c,l=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Rk(t,Gb(a,o,n,t),r);case 6:return Zg((s=e.sent).idToken,a,"internal-error"),Zg(u=Tk(s.idToken),a,"internal-error"),c=u.sub,Zg(t.uid===c,a,"user-mismatch"),e.abrupt("return",Bb._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Kg(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Qb.apply(this,arguments)}function Xb(e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=or(ir().mark((function e(t,n){var r,i,a,o,s=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Gb(t,i,n);case 4:return a=e.sent,e.next=7,Bb._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function Zb(e,t){return $b.apply(this,arguments)}function $b(){return $b=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xb(lb(t),n));case 1:case"end":return e.stop()}}),e)}))),$b.apply(this,arguments)}function ew(e,t,n){return tw.apply(this,arguments)}function tw(){return tw=or(ir().mark((function e(t,n,r){var i,a,o;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lb(t),e.next=3,Vb(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Bb._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),tw.apply(this,arguments)}function nw(e,t,n){return Zb(ra(e),Db.credential(t,n))}function rw(e,t){return iw.apply(this,arguments)}function iw(){return iw=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dk(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),iw.apply(this,arguments)}function aw(e,t){return ow.apply(this,arguments)}function ow(){return(ow=or(ir().mark((function e(t,n){var r,i,a,o,s,u,c;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ra(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Rk(a,rw(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sw(e){return ra(e).signOut()}function uw(e,t){return dk(e,"POST","/v2/accounts/mfaEnrollment:start",hk(e,t))}new WeakMap;var cw="__sak",lw=function(){function e(t,n){l(this,e),this.storageRetriever=t,this.type=n}return h(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(cw,"1"),this.storage.removeItem(cw),Promise.resolve(!0)):Promise.resolve(!1)}catch(xy){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var fw=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ci();return Jk(e)||rb(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ob(),e._shouldAllowMigration=!0,e}return h(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ab()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=or(ir().mark((function e(t,r){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hi(v(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=or(ir().mark((function e(t){var r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hi(v(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hi(v(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(lw);fw.type="LOCAL";var hw=fw,dw=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return h(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(lw);dw.type="SESSION";var pw=dw;function vw(e){return Promise.all(e.map(function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var mw=function(){function e(t){l(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return h(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=or(ir().mark((function e(t){var n,r,i,a,o,s,u,c;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,vw(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function yw(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}mw.receivers=[];var gw=function(){function e(t){l(this,e),this.target=t,this.handlers=new Set}return h(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=or(ir().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=yw("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function kw(){return window}function bw(){return"undefined"!==typeof kw().WorkerGlobalScope&&"function"===typeof kw().importScripts}function ww(){return _w.apply(this,arguments)}function _w(){return(_w=or(ir().mark((function e(){var t;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function xw(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Aw="firebaseLocalStorageDb",Sw="firebaseLocalStorage",Ew="fbase_key",Cw=function(){function e(t){l(this,e),this.request=t}return h(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Iw(e,t){return e.transaction([Sw],t?"readwrite":"readonly").objectStore(Sw)}function Tw(){var e=indexedDB.deleteDatabase(Aw);return new Cw(e).toPromise()}function Rw(){var e=indexedDB.open(Aw,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Sw,{keyPath:Ew})}catch(r){n(r)}})),e.addEventListener("success",or(ir().mark((function n(){var r;return ir().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Sw)){n.next=12;break}return r.close(),n.next=5,Tw();case 5:return n.t0=t,n.next=8,Rw();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Nw(e,t,n){return Pw.apply(this,arguments)}function Pw(){return(Pw=or(ir().mark((function e(t,n,r){var i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Iw(t,!0).put((yn(i={},Ew,n),yn(i,"value",r),i)),e.abrupt("return",new Cw(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dw(e,t){return Ow.apply(this,arguments)}function Ow(){return(Ow=or(ir().mark((function e(t,n){var r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Iw(t,!1).get(n),e.next=3,new Cw(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lw(e,t){var n=Iw(e,!0).delete(t);return new Cw(n).toPromise()}var Mw=function(){function e(){l(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return h(e,[{key:"_openDb",value:function(){var e=or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Rw();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=or(ir().mark((function e(t){var n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bw()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=or(ir().mark((function e(){var t=this;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=mw._getInstance(bw()?self:null),this.receiver._subscribe("keyChanged",function(){var e=or(ir().mark((function e(n,r){var i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=or(ir().mark((function e(){var t,n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ww();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new gw(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&xw()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=or(ir().mark((function e(){var t;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Rw();case 5:return t=e.sent,e.next=8,Nw(t,cw,"1");case 8:return e.next=10,Lw(t,cw);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=or(ir().mark((function e(t,n){var r=this;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Nw(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Dw(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=or(ir().mark((function e(t){var n=this;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Lw(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=or(ir().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Iw(e,!1).getAll();return new Cw(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=di(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(or(ir().mark((function t(){return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Mw.type="LOCAL";var Uw=Mw;function jw(e,t){return dk(e,"POST","/v2/accounts/mfaSignIn:start",hk(e,t))}function Fw(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Yg("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Vw(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Vw("rcb"),new sk(3e4,6e4);var zw="recaptcha";function Bw(e,t,n){return Ww.apply(this,arguments)}function Ww(){return Ww=or(ir().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Zg("string"===typeof a,t,"argument-error"),Zg(r.type===zw,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Zg("enroll"===s.type,t,"internal-error"),e.next=13,uw(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Zg("signin"===s.type,t,"internal-error"),Zg(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,jw(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Sb(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ww.apply(this,arguments)}var Hw=function(){function e(t){l(this,e),this.providerId=e.PROVIDER_ID,this.auth=lb(t)}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return Bw(this.auth,e,ra(t))}}],[{key:"credential",value:function(e,t){return Nb._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Nb._fromTokenResponse(n,r):null}}]),e}();function Gw(e,t){return t?nk(t):(Zg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Hw.PROVIDER_ID="phone",Hw.PHONE_SIGN_IN_METHOD="phone";var qw=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"custom","custom")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return _b(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return _b(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return _b(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(hb);function Kw(e){return Xb(e.auth,new qw(e),e.bypassAuthState)}function Yw(e){var t=e.auth,n=e.user;return Zg(n,t,"internal-error"),Yb(n,new qw(e),e.bypassAuthState)}function Qw(e){return Xw.apply(this,arguments)}function Xw(){return Xw=or(ir().mark((function e(t){var n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Zg(r=t.user,n,"internal-error"),e.abrupt("return",qb(r,new qw(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}var Jw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];l(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return h(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=or(ir().mark((function t(n,r){return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=or(ir().mark((function e(t){var n,r,i,a,o,s,u;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kw;case"linkViaPopup":case"linkViaRedirect":return Qw;case"reauthViaPopup":case"reauthViaRedirect":return Yw;default:Kg(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ek(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ek(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Zw=new sk(2e3,1e4);var $w=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o){var s;return l(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=g(s),s}return h(n,[{key:"executeNotNull",value:function(){var e=or(ir().mark((function e(){var t;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Zg(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=or(ir().mark((function e(){var t,n=this;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ek(1===this.filter.length,"Popup operations only handle one event"),t=yw(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Yg(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Yg(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Yg(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Zw.get())}()}}]),n}(Jw);$w.currentPopupAction=null;var e_=new Map,t_=function(e){p(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return h(n,[{key:"execute",value:function(){var e=or(ir().mark((function e(){var t,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=e_.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,n_(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,hi(v(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:e_.set(this.auth._key(),t);case 21:return this.bypassAuthState||e_.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=or(ir().mark((function e(t){var r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",hi(v(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",hi(v(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Jw);function n_(e,t){return r_.apply(this,arguments)}function r_(){return r_=or(ir().mark((function e(t,n){var r,i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u_(n),i=s_(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=or(ir().mark((function e(t,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s_(t)._set(u_(n),"true"));case 1:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e,t){e_.set(e._key(),t)}function s_(e){return nk(e._redirectPersistence)}function u_(e){return Kk("pendingRedirect",e.config.apiKey,e.name)}function c_(e,t,n){return function(e,t,n){return l_.apply(this,arguments)}(e,t,n)}function l_(){return l_=or(ir().mark((function e(t,n,r){var i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lb(t),Xg(t,n,Ob),a=Gw(i,r),e.next=5,i_(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e,t){return h_.apply(this,arguments)}function h_(){return h_=or(ir().mark((function e(t,n){var r,i,a,o,s,u=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=lb(t),a=Gw(i,n),o=new t_(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}var d_=function(){function e(t){l(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return h(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!v_(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Yg(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(p_(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(p_(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function p_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function v_(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function m_(e){return y_.apply(this,arguments)}function y_(){return y_=or(ir().mark((function e(t){var n,r=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",dk(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}var g_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k_=/^https?/;function b_(){return b_=or(ir().mark((function e(t){var n,r,i,a,o;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m_(t);case 4:n=e.sent,r=n.authorizedDomains,i=di(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!w_(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Kg(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),b_.apply(this,arguments)}function w_(e){var t=ik(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!k_.test(r))return!1;if(g_.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var __=new sk(3e4,6e4);function x_(){var e=kw().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=c(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var A_=null;function S_(e){return A_=A_||function(e){return new Promise((function(t,n){var r,i,a;function o(){x_(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){x_(),n(Yg(e,"network-request-failed"))},timeout:__.get()})}if(null===(i=null===(r=kw().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=kw().gapi)||void 0===a?void 0:a.load)){var s=Vw("iframefcb");return kw()[s]=function(){gapi.load?o():n(Yg(e,"network-request-failed"))},Fw("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw A_=null,e}))}(e),A_}var E_=new sk(5e3,15e3),C_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T_(e){var t=e.config;Zg(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?uk(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ya},i=I_.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ki(r).slice(1))}function R_(e){return N_.apply(this,arguments)}function N_(){return N_=or(ir().mark((function e(t){var n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S_(t);case 2:return n=e.sent,Zg(r=kw().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:T_(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C_,dontclear:!0},(function(e){return new Promise(function(){var n=or(ir().mark((function n(r,i){var a,o,s;return ir().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){kw().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Yg(t,"network-request-failed"),o=kw().setTimeout((function(){i(a)}),E_.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}var P_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D_="_blank",O_="http://localhost",L_=function(){function e(t){l(this,e),this.window=t,this.associatedEvent=null}return h(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function M_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},P_),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Ci().toLowerCase();n&&(s=Zk(l)?D_:n),Xk(l)&&(t=t||O_,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ib(l)&&"_self"!==s)return U_(t||"",s),new L_(null);var h=window.open(t||"",s,f);Zg(h,e,"popup-blocked");try{h.focus()}catch(d){}return new L_(h)}function U_(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var j_="__/auth/handler",F_="emulator/auth/handler";function V_(e,t,n,r,i,a){Zg(e.config.authDomain,e,"auth-domain-config-required"),Zg(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ya,eventId:i};if(t instanceof Ob){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Wi(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Lb){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(j_);return uk(t,F_)}(e),"?").concat(Ki(p).slice(1))}var z_="webStorageSupport",B_=function(){function e(){l(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pw,this._completeRedirectFn=f_,this._overrideRedirectResult=o_}return h(e,[{key:"_openPopup",value:function(){var e=or(ir().mark((function e(t,n,r,i){var a,o;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ek(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=V_(t,n,r,ik(),i),e.abrupt("return",M_(t,o,yw()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=or(ir().mark((function e(t,n,r,i){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=V_(t,n,r,ik(),i),kw().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ek(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=or(ir().mark((function e(t){var n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R_(t);case 2:return n=e.sent,r=new d_(t),n.register("authEvent",(function(e){return Zg(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(z_,{type:z_},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Kg(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return b_.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ob()||Jk()||rb()}}]),e}(),W_=B_,H_=function(){function e(t){l(this,e),this.factorId=t}return h(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return $g("unexpected MultiFactorSessionType")}}}]),e}(),G_=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone")).credential=e,r}return h(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return dk(e,"POST","/v2/accounts/mfaEnrollment:finalize",hk(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return dk(e,"POST","/v2/accounts/mfaSignIn:finalize",hk(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(H_);(function(){function e(){l(this,e)}return h(e,null,[{key:"assertion",value:function(e){return G_._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var q_,K_="@firebase/auth",Y_="0.20.7",Q_=function(){function e(t){l(this,e),this.auth=t,this.internalListeners=new Map}return h(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Zg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();q_="Browser",Wa(new ia("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Zg(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Zg(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:q_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(q_)},i=new cb(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nk);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Wa(new ia("auth-internal",(function(e){return function(e){return new Q_(e)}(lb(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Xa(K_,Y_,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(q_)),Xa(K_,Y_,"esm2017");var X_="@firebase/database",J_="0.13.6",Z_="";var $_=function(){function e(t){l(this,e),this.domStorage_=t,this.prefix_="firebase:"}return h(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fi(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ji(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),ex=function(){function e(){l(this,e),this.cache_={},this.isInMemoryStorage=!0}return h(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return zi(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),tx=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new $_(t)}}catch(n){}return new ex},nx=tx("localStorage"),rx=tx("sessionStorage"),ix=new va("@firebase/database"),ax=function(){var e=1;return function(){return e++}}(),ox=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,yi(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Xi;n.update(t);var r=n.digest();return bi.encodeByteArray(r)},sx=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Fi(r):r,t+=" "}return t},ux=null,cx=!0,lx=function(e,t){yi(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(ix.logLevel=ua.VERBOSE,ux=ix.log.bind(ix),t&&rx.set("logging_enabled",!0)):"function"===typeof e?ux=e:(ux=null,rx.remove("logging_enabled"))},fx=function(){if(!0===cx&&(cx=!1,null===ux&&!0===rx.get("logging_enabled")&&lx(!0)),ux){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=sx.apply(null,t);ux(r)}},hx=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];fx.apply(void 0,[e].concat(n))}},dx=function(){var e="FIREBASE INTERNAL ERROR: "+sx.apply(void 0,arguments);ix.error(e)},px=function(){var e="FIREBASE FATAL ERROR: ".concat(sx.apply(void 0,arguments));throw ix.error(e),new Error(e)},vx=function(){var e="FIREBASE WARNING: "+sx.apply(void 0,arguments);ix.warn(e)},mx=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},yx="[MIN_NAME]",gx="[MAX_NAME]",kx=function(e,t){if(e===t)return 0;if(e===yx||t===gx)return-1;if(t===yx||e===gx)return 1;var n=Tx(e),r=Tx(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},bx=function(e,t){return e===t?0:e<t?-1:1},wx=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Fi(t))},_x=function e(t){if("object"!==typeof t||null===t)return Fi(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Fi(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},xx=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ax(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Sx=function(e){yi(!mx(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var Ex=new RegExp("^-?(0*)\\d{1,10}$"),Cx=-2147483648,Ix=2147483647,Tx=function(e){if(Ex.test(e)){var t=Number(e);if(t>=Cx&&t<=Ix)return t}return null},Rx=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw vx("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Nx=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Px=function(){function e(t,n){var r=this;l(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return h(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){vx('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Dx=function(){function e(t,n,r){var i=this;l(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return h(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(fx("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vx(e)}}]),e}(),Ox=function(){function e(t){l(this,e),this.accessToken=t}return h(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Ox.OWNER="owner";var Lx="5",Mx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ux="websocket",jx="long_polling",Fx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];l(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nx.get("host:"+t)||this._host}return h(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nx.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Vx(e,t,n){var r;if(yi("string"===typeof t,"typeof type must == string"),yi("object"===typeof n,"typeof params must == object"),t===Ux)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==jx)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Ax(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var zx=function(){function e(){l(this,e),this.counters_={}}return h(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;zi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Ai(this.counters_)}}]),e}(),Bx={},Wx={};function Hx(e){var t=e.toString();return Bx[t]||(Bx[t]=new zx),Bx[t]}var Gx=function(){function e(t){l(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return h(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Rx((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),qx="start",Kx="close",Yx=function(){function e(t,n,r,i,a,o,s){var u=this;l(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hx(t),this.stats_=Hx(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),Vx(n,jx,e)}}return h(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Gx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ni()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Qx((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===qx)n.id=a,n.password=o;else{if(i!==Kx)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Lx,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Mx.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Fi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=wi(t),r=xx(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Ni()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Fi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Ni()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Qx=function(){function e(t,n,r,i){if(l(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ni())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=ax(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){fx("frame writing exception"),s.stack&&fx(s.stack),fx(s)}}}return h(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Ni()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){fx("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||fx("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Xx=null;"undefined"!==typeof MozWebSocket?Xx=MozWebSocket:"undefined"!==typeof WebSocket&&(Xx=WebSocket);var Jx=function(){function e(t,n,r,i,a,o,s){l(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hx(this.connId),this.stats_=Hx(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return h(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nx.set("previous_websocket_failure",!0);try{var r;if(Ni()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Lx,"/").concat(Z_,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Xx(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){nx.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=ji(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(yi(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Fi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=xx(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Lx,!Ni()&&"undefined"!==typeof location&&location.hostname&&Mx.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),Vx(e,Ux,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Xx&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return nx.isInMemoryStorage||!0===nx.get("previous_websocket_failure")}}]),e}();Jx.responsesRequiredToBeHealthy=2,Jx.healthyTimeout=3e4;var Zx=function(){function e(t){l(this,e),this.initTransports_(t)}return h(e,[{key:"initTransports_",value:function(t){var n=Jx&&Jx.isAvailable(),r=n&&!Jx.previouslyFailed();if(t.webSocketOnly&&(n||vx("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Jx];else{var i,a=this.transports_=[],o=di(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Yx,Jx]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Zx.globalTransportInitialized_=!1;var $x=function(){function e(t,n,r,i,a,o,s,u,c,f){l(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hx("c:"+this.id+":"),this.transportManager_=new Zx(n),this.log_("Connection created"),this.start_()}return h(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Nx((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=wx("t",e),n=wx("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=wx("t",e),n=wx("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=wx("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?dx("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dx("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Lx!==n&&vx("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Nx((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nx((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nx.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),eA=function(){function e(){l(this,e)}return h(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),tA=function(){function e(t){l(this,e),this.allowedEvents_=t,this.listeners_={},yi(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return h(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=c(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){yi(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),nA=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ii()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return h(n,[{key:"getInitialEvent",value:function(e){return yi("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(tA),rA=function(){function e(t,n){if(l(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return h(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function iA(){return new rA("")}function aA(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function oA(e){return e.pieces_.length-e.pieceNum_}function sA(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new rA(e.pieces_,t)}function uA(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function cA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function lA(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new rA(t,0)}function fA(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof rA)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new rA(n,0)}function hA(e){return e.pieceNum_>=e.pieces_.length}function dA(e,t){var n=aA(e),r=aA(t);if(null===n)return t;if(n===r)return dA(sA(e),sA(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function pA(e,t){if(oA(e)!==oA(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function vA(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(oA(e)>oA(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var mA=h((function e(t,n){l(this,e),this.errorPrefix_=n,this.parts_=cA(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=ea(this.parts_[r]);yA(this)}));function yA(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gA(e))}function gA(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var kA=function(e){p(n,e);var t=b(n);function n(){var e,r,i;return l(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return h(n,[{key:"getInitialEvent",value:function(e){return yi("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(tA),bA=1e3,wA=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,s,u,c){var f;if(l(this,n),(f=t.call(this)).repoInfo_=e,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=o,f.authTokenProvider_=s,f.appCheckTokenProvider_=u,f.authOverride_=c,f.id=n.nextPersistentConnectionId_++,f.log_=hx("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=bA,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,c&&!Ni())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return kA.getInstance().on("visible",f.onVisible_,g(f)),-1===e.host.indexOf("fblocal")&&nA.getInstance().on("online",f.onOnline_,g(f)),f}return h(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Fi(i)),yi(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Ei,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),yi(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),yi(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Vi(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Vi(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),yi(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Fi(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):dx("Unrecognized action received from server: "+Fi(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;yi(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bA,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bA,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=bA),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=or(ir().mark((function e(){var t,r,i,a,o,s,c,l,f,h,d,p,v,m,y=this;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,c=null,l=function(){c?c.close():(s=!0,i())},f=function(e){yi(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=u(d,2),v=p[0],m=p[1],s?fx("getToken() completed but was canceled"):(fx("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,c=new $x(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){vx(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&vx(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){fx("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){fx("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Wi(this.interruptReasons_)&&(this.reconnectDelay_=bA,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return _x(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new rA(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){fx("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){fx("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=di(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=di(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Ni()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Z_.replace(/\./g,"-")]=1,Ii()?e["framework.cordova"]=1:Ri()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=nA.getInstance().currentlyOnline();return Wi(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&zi(e,"w")){var n=Bi(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();vx("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(eA);wA.nextPersistentConnectionId_=0,wA.nextConnectionId_=0;var _A,xA=function(){function e(t,n){l(this,e),this.name=t,this.node=n}return h(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),AA=function(){function e(){l(this,e)}return h(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new xA(yx,e),r=new xA(yx,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return xA.MIN}}]),e}(),SA=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"compare",value:function(e,t){return kx(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw gi("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return xA.MIN}},{key:"maxPost",value:function(){return new xA(gx,_A)}},{key:"makePost",value:function(e,t){return yi("string"===typeof e,"KeyIndex indexValue must always be a string."),new xA(e,_A)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return _A},set:function(e){_A=e}}]),n}(AA),EA=new SA,CA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;l(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return h(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),IA=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:NA.EMPTY_NODE,this.right=null!=a?a:NA.EMPTY_NODE}return h(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return NA.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return NA.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();IA.RED=!0,IA.BLACK=!1;var TA,RA=function(){function e(){l(this,e)}return h(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new IA(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),NA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;l(this,e),this.comparator_=t,this.root_=n}return h(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,IA.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,IA.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new CA(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new CA(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new CA(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new CA(this.root_,null,this.comparator_,!0,e)}}]),e}();function PA(e,t){return kx(e.name,t.name)}function DA(e,t){return kx(e,t)}NA.EMPTY_NODE=new RA;var OA,LA,MA,UA=function(e){return"number"===typeof e?"number:"+Sx(e):"string:"+e},jA=function(e){if(e.isLeafNode()){var t=e.val();yi("string"===typeof t||"number"===typeof t||"object"===typeof t&&zi(t,".sv"),"Priority must be a string or number.")}else yi(e===TA||e.isEmpty(),"priority of unexpected type.");yi(e===TA||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},FA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;l(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,yi(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),jA(this.priorityNode_)}return h(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return hA(t)?this:".priority"===aA(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=aA(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(yi(".priority"!==r||1===oA(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(sA(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+UA(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Sx(this.value_):this.value_,this.lazyHash_=ox(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(yi(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return yi(i>=0,"Unknown leaf type: "+n),yi(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return OA},set:function(e){OA=e}}]),e}();FA.VALUE_TYPE_ORDER=["object","boolean","number","string"];var VA,zA,BA=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?kx(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return xA.MIN}},{key:"maxPost",value:function(){return new xA(gx,new FA("[PRIORITY-POST]",MA))}},{key:"makePost",value:function(e,t){var n=LA(e);return new xA(t,new FA("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(AA),WA=new BA,HA=Math.log(2),GA=function(){function e(t){l(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/HA,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return h(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),qA=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new IA(o,a.node,IA.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new IA(o,a.node,IA.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new IA(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,IA.BLACK):(s(f,IA.BLACK),s(f,IA.RED))}return a}(new GA(e.length));return new NA(r||t,a)},KA={},YA=function(){function e(t,n){l(this,e),this.indexes_=t,this.indexSet_=n}return h(e,[{key:"get",value:function(e){var t=Bi(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof NA?t:null}},{key:"hasIndex",value:function(e){return zi(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){yi(t!==EA,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(xA.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?qA(i,t.getCompare()):KA;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Hi(this.indexes_,(function(e,i){var a=Bi(r.indexSet_,i);if(yi(a,"Missing index implementation for "+i),e===KA){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(xA.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),qA(o,a.getCompare())}return KA}var c=n.get(t.name),l=e;return c&&(l=l.remove(new xA(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Hi(this.indexes_,(function(e){if(e===KA)return e;var r=n.get(t.name);return r?e.remove(new xA(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return yi(KA&&WA,"ChildrenNode.ts has not been loaded"),VA=VA||new e({".priority":KA},{".priority":WA})}}]),e}(),QA=function(){function e(t,n,r){l(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jA(this.priorityNode_),this.children_.isEmpty()&&yi(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return h(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||zA}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?zA:t}},{key:"getChild",value:function(e){var t=aA(e);return null===t?this:this.getImmediateChild(t).getChild(sA(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(yi(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new xA(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?zA:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=aA(e);if(null===n)return t;yi(".priority"!==aA(e)||1===oA(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(sA(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(WA,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+UA(this.getPriority().val())+":"),this.forEachChild(WA,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ox(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new xA(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new xA(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new xA(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,xA.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,xA.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===XA?-1:0}},{key:"withIndex",value:function(t){if(t===EA||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===EA||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(WA),r=t.getIterator(WA),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===EA?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return zA||(zA=new e(new NA(DA),null,YA.Default))}}]),e}();QA.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var XA=new(function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,new NA(DA),QA.EMPTY_NODE,YA.Default)}return h(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return QA.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(QA));Object.defineProperties(xA,{MIN:{value:new xA(yx,QA.EMPTY_NODE)},MAX:{value:new xA(gx,XA)}}),SA.__EMPTY_NODE=QA.EMPTY_NODE,FA.__childrenNodeConstructor=QA,TA=XA,function(e){MA=e}(XA);function JA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return QA.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),yi(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new FA(n,JA(t))}if(e instanceof Array){var r=QA.EMPTY_NODE;return Ax(e,(function(t,n){if(zi(e,t)&&"."!==t.substring(0,1)){var i=JA(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(JA(t))}var i=[],a=!1,o=e;if(Ax(o,(function(e,t){if("."!==e.substring(0,1)){var n=JA(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new xA(e,n)))}})),0===i.length)return QA.EMPTY_NODE;var s=qA(i,PA,(function(e){return e.name}),DA);if(a){var u=qA(i,WA.getCompare());return new QA(s,JA(t),new YA({".priority":u},{".priority":WA}))}return new QA(s,JA(t),YA.Default)}!function(e){LA=e}(JA);var ZA=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).indexPath_=e,yi(!hA(e)&&".priority"!==aA(e),"Can't create PathIndex with empty path or .priority key"),r}return h(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?kx(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=JA(e),r=QA.EMPTY_NODE.updateChild(this.indexPath_,n);return new xA(t,r)}},{key:"maxPost",value:function(){var e=QA.EMPTY_NODE.updateChild(this.indexPath_,XA);return new xA(gx,e)}},{key:"toString",value:function(){return cA(this.indexPath_,0).join("/")}}]),n}(AA),$A=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?kx(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return xA.MIN}},{key:"maxPost",value:function(){return xA.MAX}},{key:"makePost",value:function(e,t){var n=JA(e);return new xA(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(AA),eS=new $A,tS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function nS(e){return{type:"value",snapshotNode:e}}function rS(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function iS(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function aS(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var oS=function(){function e(){l(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=WA}return h(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return yi(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return yi(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yx}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return yi(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return yi(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gx}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return yi(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===WA}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function sS(e){var t,n={};return e.isDefault()||(e.index_===WA?t="$priority":e.index_===eS?t="$value":e.index_===EA?t="$key":(yi(e.index_ instanceof ZA,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Fi(t),e.startSet_&&(n.startAt=Fi(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Fi(e.indexStartName_))),e.endSet_&&(n.endAt=Fi(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Fi(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function uS(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==WA&&(t.i=e.index_.toString()),t}var cS=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=hx("p:rest:"),o.listens_={},o}return h(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=sS(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Bi(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=sS(e._queryParams),r=e._path.toString(),i=new Ei;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=u(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Ki(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=ji(l.responseText)}catch(n){vx("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&vx("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(yi(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(eA),lS=function(){function e(){l(this,e),this.rootNode_=QA.EMPTY_NODE}return h(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function fS(){return{value:null,children:new Map}}function hS(e,t,n){if(hA(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=aA(t);e.children.has(r)||e.children.set(r,fS()),hS(e.children.get(r),t=sA(t),n)}}function dS(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){dS(r,new rA(t.toString()+"/"+e),n)}))}var pS,vS=function(){function e(t){l(this,e),this.collection_=t,this.last_=null}return h(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ax(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),mS=function(){function e(t,n){l(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new vS(t);var r=1e4+2e4*Math.random();Nx(this.reportStats_.bind(this),Math.floor(r))}return h(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Ax(t,(function(t,i){i>0&&zi(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Nx(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function yS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(pS||(pS={}));var gS,kS=function(){function e(t,n,r){l(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=pS.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return h(e,[{key:"operationForChild",value:function(t){if(hA(this.path)){if(null!=this.affectedTree.value)return yi(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new rA(t));return new e(iA(),n,this.revert)}return yi(aA(this.path)===t,"operationForChild called for unrelated child."),new e(sA(this.path),this.affectedTree,this.revert)}}]),e}(),bS=function(){function e(t,n,r){l(this,e),this.source=t,this.path=n,this.snap=r,this.type=pS.OVERWRITE}return h(e,[{key:"operationForChild",value:function(t){return hA(this.path)?new e(this.source,iA(),this.snap.getImmediateChild(t)):new e(this.source,sA(this.path),this.snap)}}]),e}(),wS=function(){function e(t,n,r){l(this,e),this.source=t,this.path=n,this.children=r,this.type=pS.MERGE}return h(e,[{key:"operationForChild",value:function(t){if(hA(this.path)){var n=this.children.subtree(new rA(t));return n.isEmpty()?null:n.value?new bS(this.source,iA(),n.value):new e(this.source,iA(),n)}return yi(aA(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,sA(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),_S=function(){function e(t,n,r){l(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return h(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(hA(e))return this.isFullyInitialized()&&!this.filtered_;var t=aA(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function xS(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw gi("Should only compare child_ events.");var r=new xA(t.childName,t.snapshotNode),i=new xA(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function AS(e,t){return{eventCache:e,serverCache:t}}function SS(e,t,n,r){return AS(new _S(t,n,r),e.serverCache)}function ES(e,t,n,r){return AS(e.eventCache,new _S(t,n,r))}function CS(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function IS(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var TS=function(){return gS||(gS=new NA(bx)),gS},RS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TS();l(this,e),this.value=t,this.children=n}return h(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:iA(),value:this.value};if(hA(e))return null;var n=aA(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(sA(e),t);return null!=i?{path:fA(new rA(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(hA(t))return this;var n=aA(t),r=this.children.get(n);return null!==r?r.subtree(sA(t)):new e(null)}},{key:"set",value:function(t,n){if(hA(t))return new e(n,this.children);var r=aA(t),i=(this.children.get(r)||new e(null)).set(sA(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(hA(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=aA(t),r=this.children.get(n);if(r){var i,a=r.remove(sA(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(hA(e))return this.value;var t=aA(e),n=this.children.get(t);return n?n.get(sA(e)):null}},{key:"setTree",value:function(t,n){if(hA(t))return n;var r,i=aA(t),a=(this.children.get(i)||new e(null)).setTree(sA(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(iA(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(fA(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,iA(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(hA(e))return null;var i=aA(e),a=this.children.get(i);return a?a.findOnPath_(sA(e),fA(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,iA(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(hA(t))return this;this.value&&r(n,this.value);var i=aA(t),a=this.children.get(i);return a?a.foreachOnPath_(sA(t),fA(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(iA(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(fA(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Ax(t,(function(e,t){n=n.set(new rA(e),t)})),n}}]),e}(),NS=function(){function e(t){l(this,e),this.writeTree_=t}return h(e,null,[{key:"empty",value:function(){return new e(new RS(null))}}]),e}();function PS(e,t,n){if(hA(t))return new NS(new RS(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=dA(i,t);return a=a.updateChild(o,n),new NS(e.writeTree_.set(i,a))}var s=new RS(n),u=e.writeTree_.setTree(t,s);return new NS(u)}function DS(e,t,n){var r=e;return Ax(n,(function(e,n){r=PS(r,fA(t,e),n)})),r}function OS(e,t){if(hA(t))return NS.empty();var n=e.writeTree_.setTree(t,new RS(null));return new NS(n)}function LS(e,t){return null!=MS(e,t)}function MS(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(dA(n.path,t)):null}function US(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(WA,(function(e,n){t.push(new xA(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new xA(e,n.value))})),t}function jS(e,t){if(hA(t))return e;var n=MS(e,t);return new NS(null!=n?new RS(n):e.writeTree_.subtree(t))}function FS(e){return e.writeTree_.isEmpty()}function VS(e,t){return zS(iA(),e.writeTree_,t)}function zS(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(yi(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=zS(fA(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(fA(e,".priority"),r)),n}function BS(e,t){return nE(t,e)}function WS(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function HS(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));yi(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&GS(s,r.path)?i=!1:vA(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=KS(e.allWrites,qS,iA()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=OS(e.visibleWrites,r.path):Ax(r.children,(function(t){e.visibleWrites=OS(e.visibleWrites,fA(r.path,t))}));return!0}return!1}function GS(e,t){if(e.snap)return vA(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&vA(fA(e.path,n),t))return!0;return!1}function qS(e){return e.visible}function KS(e,t,n){for(var r=NS.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)vA(n,o)?r=PS(r,s=dA(n,o),a.snap):vA(o,n)&&(s=dA(o,n),r=PS(r,iA(),a.snap.getChild(s)));else{if(!a.children)throw gi("WriteRecord should have .snap or .children");if(vA(n,o))r=DS(r,s=dA(n,o),a.children);else if(vA(o,n))if(hA(s=dA(o,n)))r=DS(r,iA(),a.children);else{var u=Bi(a.children,aA(s));if(u){var c=u.getChild(sA(s));r=PS(r,iA(),c)}}}}}return r}function YS(e,t,n,r,i){if(r||i){var a=jS(e.visibleWrites,t);if(!i&&FS(a))return n;if(i||null!=n||LS(a,iA())){return VS(KS(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(vA(e.path,t)||vA(t,e.path))}),t),n||QA.EMPTY_NODE)}return null}var o=MS(e.visibleWrites,t);if(null!=o)return o;var s=jS(e.visibleWrites,t);return FS(s)?n:null!=n||LS(s,iA())?VS(s,n||QA.EMPTY_NODE):null}function QS(e,t,n,r){return YS(e.writeTree,e.treePath,t,n,r)}function XS(e,t){return function(e,t,n){var r=QA.EMPTY_NODE,i=MS(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(WA,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=jS(e.visibleWrites,t);return n.forEachChild(WA,(function(e,t){var n=VS(jS(a,new rA(e)),t);r=r.updateImmediateChild(e,n)})),US(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return US(jS(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function JS(e,t,n,r){return function(e,t,n,r,i){yi(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=fA(t,n);if(LS(e.visibleWrites,a))return null;var o=jS(e.visibleWrites,a);return FS(o)?i.getChild(n):VS(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function ZS(e,t){return function(e,t){return MS(e.visibleWrites,t)}(e.writeTree,fA(e.treePath,t))}function $S(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=jS(e.visibleWrites,t),c=MS(u,iA());if(null!=c)s=c;else{if(null==n)return[];s=VS(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function eE(e,t,n){return function(e,t,n,r){var i=fA(t,n),a=MS(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?VS(jS(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function tE(e,t){return nE(fA(e.treePath,t),e.writeTree)}function nE(e,t){return{treePath:e,writeTree:t}}var rE=function(){function e(){l(this,e),this.changeMap=new Map}return h(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;yi("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),yi(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,aS(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,iS(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,rS(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw gi("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,aS(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),iE=new(function(){function e(){l(this,e)}return h(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),aE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return h(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new _S(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return eE(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:IS(this.viewCache_),i=$S(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function oE(e,t,n,r,i){var a,o,s=new rE;if(n.type===pS.OVERWRITE){var u=n;u.source.fromUser?a=cE(e,t,u.path,u.snap,r,i,s):(yi(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!hA(u.path),a=uE(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===pS.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=fA(n,r);lE(t,aA(c))&&(s=cE(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=fA(n,r);lE(t,aA(c))||(s=cE(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(yi(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=hE(e,t,c.path,c.children,r,i,o,s))}else if(n.type===pS.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=ZS(r,n))return t;var s,u=new aE(r,t,i),c=t.eventCache.getNode();if(hA(n)||".priority"===aA(n)){var l;if(t.serverCache.isFullyInitialized())l=QS(r,IS(t));else{var f=t.serverCache.getNode();yi(f instanceof QA,"serverChildren would be complete if leaf node"),l=XS(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=aA(n),d=eE(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,sA(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,QA.EMPTY_NODE,sA(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=QS(r,IS(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=ZS(r,iA()),SS(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=ZS(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(hA(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return uE(e,t,n,u.getNode().getChild(n),i,a,s,o);if(hA(n)){var c=new RS(null);return u.getNode().forEachChild(EA,(function(e,t){c=c.set(new rA(e),t)})),hE(e,t,n,c,i,a,s,o)}return t}var l=new RS(null);return r.foreach((function(e,t){var r=fA(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),hE(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==pS.LISTEN_COMPLETE)throw gi("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=ES(t,a.getNode(),a.isFullyInitialized()||hA(n),a.isFiltered());return sE(e,o,n,r,iE,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=CS(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(nS(CS(t)))}}(t,a,f),{viewCache:a,changes:f}}function sE(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=ZS(r,n))return t;if(hA(n))if(yi(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=IS(t),l=XS(r,c instanceof QA?c:QA.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=QS(r,IS(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=aA(n);if(".priority"===h){yi(1===oA(n),"Can't have a priority with additional path components");var d=u.getNode(),p=JS(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=sA(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=JS(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=eE(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return SS(t,o,u.isFullyInitialized()||hA(n),e.filter.filtersNodes())}function uE(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(hA(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=aA(n);if(!c.isCompleteForPath(n)&&oA(n)>1)return t;var d=sA(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,iE,null)}var v=ES(t,u,c.isFullyInitialized()||hA(n),l.filtersNodes());return sE(e,v,n,i,new aE(i,v,a),s)}function cE(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new aE(i,t,a);if(hA(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=SS(t,u,!0,e.filter.filtersNodes());else{var f=aA(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=SS(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=sA(n),p=c.getNode().getImmediateChild(f);if(hA(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===uA(d)&&v.getChild(lA(d)).isEmpty()?v:v.updateChild(d,r):QA.EMPTY_NODE}if(p.equals(h))s=t;else s=SS(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function lE(e,t){return e.eventCache.isCompleteForChild(t)}function fE(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function hE(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=hA(n)?r:new RS(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=fE(0,t.serverCache.getNode().getImmediateChild(n),r);c=uE(e,c,new rA(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=fE(0,t.serverCache.getNode().getImmediateChild(n),r);c=uE(e,c,new rA(n),f,i,a,o,s)}})),c}var dE;function pE(e,t){var n=IS(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!hA(t)&&!n.getImmediateChild(aA(t)).isEmpty())?n.getChild(t):null}function vE(e,t,n,r){t.type===pS.MERGE&&null!==t.source.queryId&&(yi(IS(e.viewCache_),"We should always have a full cache before handling merges"),yi(CS(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=oE(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,yi(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),yi(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),yi(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,mE(e,s.changes,s.viewCache.eventCache.getNode(),null)}function mE(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),xS(e,i,"child_removed",t,r,n),xS(e,i,"child_added",t,r,n),xS(e,i,"child_moved",a,r,n),xS(e,i,"child_changed",t,r,n),xS(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var yE;function gE(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return yi(null!=a,"SyncTree gave us an op for an invalid query."),vE(a,t,n,r)}var o,s=[],u=di(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(vE(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function kE(e,t){var n,r=null,i=di(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||pE(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var bE=h((function e(t){l(this,e),this.listenProvider_=t,this.syncPointTree_=new RS(null),this.pendingWriteTree_={visibleWrites:NS.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function wE(e,t,n,r,i){return function(e,t,n,r,i){yi(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=PS(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?EE(e,new bS({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function _E(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=WS(e.pendingWriteTree_,t),i=HS(e.pendingWriteTree_,t);if(i){var a=new RS(null);return null!=r.snap?a=a.set(iA(),!0):Ax(r.children,(function(e){a=a.set(new rA(e),!0)})),EE(e,new kS(r.path,a,n))}return[]}function xE(e,t,n){return EE(e,new bS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function AE(e,t,n,r){var i=TE(e,r);if(null!=i){var a=RE(i),o=a.path,s=a.queryId,u=dA(o,t);return NE(e,o,new bS(yS(s),u,n))}return[]}function SE(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=kE(n,dA(e,t));if(r)return r}));return YS(r,t,i,n,!0)}function EE(e,t){return CE(t,e.syncPointTree_,null,BS(e.pendingWriteTree_,iA()))}function CE(e,t,n,r){if(hA(e.path))return IE(e,t,n,r);var i=t.get(iA());null==n&&null!=i&&(n=kE(i,iA()));var a=[],o=aA(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=tE(r,o);a=a.concat(CE(s,u,c,l))}return i&&(a=a.concat(gE(i,e,r,n))),a}function IE(e,t,n,r){var i=t.get(iA());null==n&&null!=i&&(n=kE(i,iA()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=tE(r,t),u=e.operationForChild(t);u&&(a=a.concat(IE(u,i,o,s)))})),i&&(a=a.concat(gE(i,e,r,n))),a}function TE(e,t){return e.tagToQueryMap.get(t)}function RE(e){var t=e.indexOf("$");return yi(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new rA(e.substr(0,t))}}function NE(e,t,n){var r=e.syncPointTree_.get(t);return yi(r,"Missing sync point for query tag that we're tracking"),gE(r,n,BS(e.pendingWriteTree_,t),null)}var PE=function(){function e(t){l(this,e),this.node_=t}return h(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),DE=function(){function e(t,n){l(this,e),this.syncTree_=t,this.path_=n}return h(e,[{key:"getImmediateChild",value:function(t){var n=fA(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return SE(this.syncTree_,this.path_)}}]),e}(),OE=function(e,t,n){return e&&"object"===typeof e?(yi(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?LE(e[".sv"],t,n):"object"===typeof e[".sv"]?ME(e[".sv"],t):void yi(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},LE=function(e,t,n){if("timestamp"===e)return n.timestamp;yi(!1,"Unexpected server value: "+e)},ME=function(e,t,n){e.hasOwnProperty("increment")||yi(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&yi(!1,"Unexpected increment value: "+r);var i=t.node();if(yi(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},UE=function(e,t,n,r){return FE(t,new DE(n,e),r)},jE=function(e,t,n){return FE(e,new PE(t),n)};function FE(e,t,n){var r,i=e.getPriority().val(),a=OE(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=OE(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new FA(s,JA(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new FA(a))),u.forEachChild(WA,(function(e,i){var a=FE(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var VE=h((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};l(this,e),this.name=t,this.parent=n,this.node=r}));function zE(e,t){for(var n=t instanceof rA?t:new rA(t),r=e,i=aA(n);null!==i;){var a=Bi(r.node.children,i)||{children:{},childCount:0};r=new VE(i,r,a),i=aA(n=sA(n))}return r}function BE(e){return e.node.value}function WE(e,t){e.node.value=t,YE(e)}function HE(e){return e.node.childCount>0}function GE(e,t){Ax(e.node.children,(function(n,r){t(new VE(n,e,r))}))}function qE(e,t,n,r){n&&!r&&t(e),GE(e,(function(e){qE(e,t,!0,r)})),n&&r&&t(e)}function KE(e){return new rA(null===e.parent?e.name:KE(e.parent)+"/"+e.name)}function YE(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===BE(e)&&!HE(e)}(n),i=zi(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,YE(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,YE(e))}(e.parent,e.name,e)}var QE=/[\[\].#$\/\u0000-\u001F\u007F]/,XE=/[\[\].#$\u0000-\u001F\u007F]/,JE=10485760,ZE=function(e){return"string"===typeof e&&0!==e.length&&!QE.test(e)},$E=function(e){return"string"===typeof e&&0!==e.length&&!XE.test(e)},eC=function e(t,n,r){var i=r instanceof rA?new mA(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+gA(i));if("function"===typeof n)throw new Error(t+"contains a function "+gA(i)+" with contents = "+n.toString());if(mx(n))throw new Error(t+"contains "+n.toString()+" "+gA(i));if("string"===typeof n&&n.length>JE/3&&ea(n)>JE)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+gA(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Ax(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!ZE(n)))throw new Error(t+" contains an invalid key ("+n+") "+gA(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ea(t),yA(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=ea(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+gA(i)+" in addition to actual children.")}},tC=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ZE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$E(e)}(n))throw new Error($i(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},nC=h((function e(){l(this,e),this.eventLists_=[],this.recursionDepth_=0}));function rC(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||pA(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function iC(e,t,n){rC(e,n),aC(e,(function(e){return vA(e,t)||vA(t,e)}))}function aC(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(oC(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function oC(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();ux&&fx("event: "+n.toString()),Rx(r)}}}var sC="repo_interrupt",uC=function(){function e(t,n,r,i){l(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fS(),this.transactionQueueTree_=new VE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return h(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function cC(e,t,n){if(e.stats_=Hx(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new cS(e.repoInfo_,(function(t,n,r,i){hC(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return dC(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new wA(e.repoInfo_,t,(function(t,n,r,i){hC(e,t,n,r,i)}),(function(t){dC(e,t)}),(function(t){!function(e,t){Ax(t,(function(t,n){pC(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Wx[n]||(Wx[n]=t()),Wx[n]}(e.repoInfo_,(function(){return new mS(e.stats_,e.server_)})),e.infoData_=new lS,e.infoSyncTree_=new bE({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=xE(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),pC(e,"connected",!1),e.serverSyncTree_=new bE({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);iC(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function lC(e){var t=e.infoData_.getNode(new rA(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function fC(e){return(t=(t={timestamp:lC(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function hC(e,t,n,r,i){e.dataUpdateCount++;var a=new rA(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Hi(n,(function(e){return JA(e)}));o=function(e,t,n,r){var i=TE(e,r);if(i){var a=RE(i),o=a.path,s=a.queryId,u=dA(o,t),c=RS.fromObject(n);return NE(e,o,new wS(yS(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=JA(n);o=AE(e.serverSyncTree_,a,u,i)}else if(r){var c=Hi(n,(function(e){return JA(e)}));o=function(e,t,n){var r=RS.fromObject(n);return EE(e,new wS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=JA(n);o=xE(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=wC(e,a)),iC(e.eventQueue_,f,o)}function dC(e,t){pC(e,"connected",t),!1===t&&function(e){yC(e,"onDisconnectEvents");var t=fC(e),n=fS();dS(e.onDisconnect_,iA(),(function(r,i){var a=UE(r,i,e.serverSyncTree_,t);hS(n,r,a)}));var r=[];dS(n,iA(),(function(t,n){r=r.concat(xE(e.serverSyncTree_,t,n));var i=EC(e,t);wC(e,i)})),e.onDisconnect_=fS(),iC(e.eventQueue_,iA(),r)}(e)}function pC(e,t,n){var r=new rA("/.info/"+t),i=JA(n);e.infoData_.updateSnapshot(r,i);var a=xE(e.infoSyncTree_,r,i);iC(e.eventQueue_,r,a)}function vC(e){return e.nextWriteId_++}function mC(e){e.persistentConnection_&&e.persistentConnection_.interrupt(sC)}function yC(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];fx.apply(void 0,[t].concat(r))}function gC(e,t,n){return SE(e.serverSyncTree_,t,n)||QA.EMPTY_NODE}function kC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||SC(e,t),BE(t)){var n=xC(e,t);yi(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&bC(e,KE(t),n)}else HE(t)&&GE(t,(function(t){kC(e,t)}))}function bC(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=gC(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];yi(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=dA(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){yC(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(_E(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);SC(e,zE(e.transactionQueueTree_,t)),kC(e,e.transactionQueueTree_),iC(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Rx(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{vx("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}wC(e,t)}}),o)}function wC(e,t){var n=_C(e,t),r=KE(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=dA(n,u.path),l=!1,f=void 0;if(yi(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(_E(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(_E(e.serverSyncTree_,u.currentWriteId,!0));else{var h=gC(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){eC("transaction failed: Data returned ",d,u.path);var p=JA(d);"object"===typeof d&&null!=d&&zi(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,m=fC(e),y=jE(p,h,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=vC(e),o.splice(o.indexOf(v),1),i=(i=i.concat(wE(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(_E(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(_E(e.serverSyncTree_,u.currentWriteId,!0))}iC(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);SC(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Rx(r[c]);kC(e,e.transactionQueueTree_)}(e,xC(e,n),r),r}function _C(e,t){var n,r=e.transactionQueueTree_;for(n=aA(t);null!==n&&void 0===BE(r);)r=zE(r,n),n=aA(t=sA(t));return r}function xC(e,t){var n=[];return AC(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function AC(e,t,n){var r=BE(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);GE(t,(function(t){AC(e,t,n)}))}function SC(e,t){var n=BE(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,WE(t,n.length>0?n:void 0)}GE(t,(function(t){SC(e,t)}))}function EC(e,t){var n=KE(_C(e,t)),r=zE(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){CC(e,t)})),CC(e,r),qE(r,(function(t){CC(e,t)})),n}function CC(e,t){var n=BE(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(yi(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(yi(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(_E(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?WE(t,void 0):n.length=a+1,iC(e.eventQueue_,KE(t),i);for(var s=0;s<r.length;s++)Rx(r[s])}}var IC=function(e,t){var n=TC(e),r=n.namespace;"firebase.com"===n.domain&&px(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||px("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vx("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Fx(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new rA(n.pathString)}},TC=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=di(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):vx("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},RC=function(){function e(t,n,r,i){l(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return h(e,[{key:"key",get:function(){return hA(this._path)?null:uA(this._path)}},{key:"ref",get:function(){return new NC(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=uS(this._queryParams),t=_x(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return uS(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ra(t))instanceof e))return!1;var n=this._repo===t._repo,r=pA(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var NC=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,r,new oS,!1)}return h(n,[{key:"parent",get:function(){var e=lA(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(RC);!function(e){yi(!dE,"__referenceConstructor has already been defined"),dE=e}(NC),function(e){yi(!yE,"__referenceConstructor has already been defined"),yE=e}(NC);var PC={},DC=!1;function OC(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||px("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fx("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=IC(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/sundae_modum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",REACT_APP_AUTH_DOMAIN:"sundaemodum.firebaseapp.com",REACT_APP_PROJECT_ID:"sundaemodum",REACT_APP_STORAGE_BUCKET:"sundaemodum.appspot.com",REACT_APP_MESSAGIN_ID:"678077267581",REACT_APP_API_ID:"1:678077267581:web:9337b6baaa8979300cbb14",REACT_APP_MEASUREMENT_ID:"G-8DLFS3DJWR"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=IC(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new Ox(Ox.OWNER):new Dx(e.name,e.options,t);tC("Invalid Firebase Database URL",s),hA(s.path)||px("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=PC[t.name];i||(i={},PC[t.name]=i);var a=i[e.toURLString()];a&&px("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new uC(e,DC,n,r),i[e.toURLString()]=a,a}(u,e,l,new Px(e.name,n));return new LC(f,e)}var LC=function(){function e(t,n){l(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return h(e,[{key:"_repo",get:function(){return this._instanceStarted||(cC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new NC(this._repo,iA())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=PC[t];n&&n[e.key]===e||px("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),mC(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&px("Cannot call "+e+" on a deleted database.")}}]),e}();wA.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},wA.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Z_=e}(Ya),Wa(new ia("database",(function(e,t){var n=t.instanceIdentifier;return OC(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Xa(X_,J_,e),Xa(X_,J_,"esm2017")}();var MC="firebasestorage.googleapis.com",UC=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,jC(e),"Firebase Storage: ".concat(r," (").concat(jC(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(g(i),n.prototype),i}return h(n,[{key:"_codeEquals",value:function(e){return jC(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Oi);function jC(e){return"storage/"+e}function FC(){return new UC("unknown","An unknown error occurred, please check the error payload for server response.")}function VC(){return new UC("canceled","User canceled the upload/download.")}function zC(){return new UC("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function BC(e){return new UC("invalid-argument",e)}function WC(){return new UC("app-deleted","The Firebase app was deleted.")}function HC(e,t){return new UC("invalid-format","String does not match format '"+e+"': "+t)}function GC(e){throw new UC("internal-error","Internal error: "+e)}var qC,KC=function(){function e(t,n){l(this,e),this.bucket=t,this.path_=n}return h(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new UC("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===MC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new UC("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),YC=function(){function e(t){l(this,e),this.promise_=Promise.reject(t)}return h(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function QC(e){return"string"===typeof e||e instanceof String}function XC(e){return JC()&&e instanceof Blob}function JC(){return"undefined"!==typeof Blob}function ZC(e,t,n,r){if(r<t)throw BC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw BC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function $C(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function eI(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(qC||(qC={}));var tI=function(){function e(t,n,r,i,a,o,s,u,c,f,h){var d=this;l(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return h(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=FC();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?WC():VC());else i(new UC("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new nI(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new nI(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===qC.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new nI(o,r))}else{var s=r.getErrorCode()===qC.ABORT;t(!1,new nI(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),nI=h((function e(t,n,r){l(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function rI(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function iI(){for(var e=rI(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(JC())return new Blob(n);throw new UC("unsupported-environment","This browser doesn't seem to support creating Blobs")}var aI="raw",oI="base64",sI="base64url",uI="data_url",cI=h((function e(t,n){l(this,e),this.data=t,this.contentType=n||null}));function lI(e,t){switch(e){case aI:return new cI(fI(t));case oI:case sI:return new cI(hI(e,t));case uI:return new cI(function(e){var t=new dI(e);return t.base64?hI(oI,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw HC(uI,"Malformed data URL.")}return fI(t)}(t.rest)}(t),new dI(t).contentType)}throw FC()}function fI(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function hI(e,t){switch(e){case oI:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw HC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case sI:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw HC(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw HC(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var dI=h((function e(t){l(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw HC(uI,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var pI=function(){function e(t,n){l(this,e);var r=0,i="";XC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return h(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(XC(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(JC()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(iI.apply(null,i))}var a=n.map((function(e){return QC(e)?lI(aI,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function vI(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function mI(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function yI(e,t){return t}var gI=h((function e(t,n,r,i){l(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||yI})),kI=null;function bI(){if(kI)return kI;var e=[];e.push(new gI("bucket")),e.push(new gI("generation")),e.push(new gI("metageneration")),e.push(new gI("name","fullPath",!0));var t=new gI("name");t.xform=function(e,t){return function(e){return!QC(e)||e.length<2?e:mI(e)}(t)},e.push(t);var n=new gI("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new gI("timeCreated")),e.push(new gI("updated")),e.push(new gI("md5Hash",null,!0)),e.push(new gI("cacheControl",null,!0)),e.push(new gI("contentDisposition",null,!0)),e.push(new gI("contentEncoding",null,!0)),e.push(new gI("contentLanguage",null,!0)),e.push(new gI("contentType",null,!0)),e.push(new gI("metadata","customMetadata",!0)),kI=e}function wI(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new KC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function _I(e,t,n){var r=vI(t);return null===r?null:wI(e,r,n)}function xI(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var AI=h((function e(t,n,r,i){l(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function SI(e){if(!e)throw FC()}function EI(e,t){return function(n,r){var i=_I(e,r,t);return SI(null!==i),i}}function CI(e,t){return function(n,r){var i=_I(e,r,t);return SI(null!==i),function(e,t,n,r){var i=vI(t);if(null===i)return null;if(!QC(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return $C("/b/"+o(i)+"/o/"+o(a),n,r)+eI({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function II(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new UC("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new UC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new UC("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new UC("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function TI(e){var t=II(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new UC("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function RI(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function NI(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=RI(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xI(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=pI.getBlob(c,r,l);if(null===f)throw zC();var h={name:u.fullPath},d=$C(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new AI(d,"POST",EI(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=II(t),v}var PI=function(){function e(){var t=this;l(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=qC.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=qC.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return h(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw GC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw GC("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw GC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw GC("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw GC("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),DI=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(PI);function OI(){return new DI}var LI=function(){function e(t,n){l(this,e),this._service=t,this._location=n instanceof KC?n:KC.makeFromUrl(n,t.host)}return h(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new KC(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return mI(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new KC(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new UC("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function MI(e,t,n){e._throwIfRoot("uploadBytes");var r=NI(e.storage,e._location,bI(),new pI(t,!0),n);return e.storage.makeRequestWithTokens(r,OI).then((function(t){return{metadata:t,ref:e}}))}function UI(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=$C(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new AI(r,"GET",CI(e,n),i);return a.errorHandler=TI(t),a}(e.storage,e._location,bI());return e.storage.makeRequestWithTokens(t,OI).then((function(e){if(null===e)throw new UC("no-download-url","The given file does not have any download URLs.");return e}))}function jI(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new KC(e._location.bucket,n);return new LI(e.storage,r)}function FI(e,t){if(e instanceof BI){var n=e;if(null==n._bucket)throw new UC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new LI(n,n._bucket);return null!=t?FI(r,t):r}return void 0!==t?jI(e,t):e}function VI(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof BI)return new LI(e,t);throw BC("To use ref(service, url), the first argument must be a Storage instance.")}return FI(e,t)}function zI(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:KC.makeFromBucketSpec(n,e)}var BI=function(){function e(t,n,r,i,a){l(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=MC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?KC.makeFromBucketSpec(i,this._host):zI(this._host,this.app.options)}return h(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=KC.makeFromBucketSpec(this._url,e):this._bucket=zI(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){ZC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){ZC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=or(ir().mark((function e(){var t,n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=or(ir().mark((function e(){var t,n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new LI(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new YC(WC());var a=function(e,t,n,r,i,a){var o=eI(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new tI(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=or(ir().mark((function e(t,n){var r,i,a,o;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),WI="@firebase/storage",HI="0.9.9",GI="storage";function qI(e,t,n){return MI(e=ra(e),t,n)}function KI(e){return UI(e=ra(e))}function YI(e,t){return VI(e=ra(e),t)}function QI(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new BI(r,i,a,n,Ya)}Wa(new ia(GI,QI,"PUBLIC").setMultipleInstances(!0)),Xa(WI,HI,""),Xa(WI,HI,"esm2017");var XI,JI;var ZI=new WeakMap,$I=new WeakMap,eT=new WeakMap,tT=new WeakMap,nT=new WeakMap;var rT={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $I.get(e);if("objectStoreNames"===t)return e.objectStoreNames||eT.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oT(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function iT(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(JI||(JI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(sT(this),n),oT(ZI.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oT(e.apply(sT(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[sT(this),t].concat(r));return eT.set(a,t.sort?t.sort():[t]),oT(a)}}function aT(e){return"function"===typeof e?iT(e):(e instanceof IDBTransaction&&function(e){if(!$I.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));$I.set(e,t)}}(e),t=e,(XI||(XI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,rT):e);var t}function oT(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(oT(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ZI.set(t,e)})).catch((function(){})),nT.set(t,e),t}(e);if(tT.has(e))return tT.get(e);var t=aT(e);return t!==e&&(tT.set(e,t),nT.set(t,e)),t}var sT=function(e){return nT.get(e)};var uT,cT=["get","getKey","getAll","getAllKeys","count"],lT=["put","add","delete","clear"],fT=new Map;function hT(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(fT.get(t))return fT.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=lT.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||cT.includes(n))){var a=function(){var e=or(ir().mark((function e(t){var a,o,s,u,c,l,f=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return fT.set(t,a),a}}}!function(e){rT=e(rT)}((function(e){return kn(kn({},e),{},{get:function(t,n,r){return hT(t,n)||e.get(t,n,r)},has:function(t,n){return!!hT(t,n)||e.has(t,n)}})}));var dT="@firebase/installations",pT="0.5.12",vT=1e4,mT="w:".concat(pT),yT="FIS_v2",gT=36e5,kT=(yn(uT={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),yn(uT,"not-registered","Firebase Installation is not registered."),yn(uT,"installation-not-found","Firebase Installation not found."),yn(uT,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),yn(uT,"app-offline","Could not process request. Application offline."),yn(uT,"delete-pending-registration","Can't delete installation while there is a pending registration request."),uT),bT=new Li("installations","Installations",kT);function wT(e){return e instanceof Oi&&e.code.includes("request-failed")}function _T(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function xT(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function AT(e,t){return ST.apply(this,arguments)}function ST(){return(ST=or(ir().mark((function e(t,n){var r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",bT.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ET(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CT(e,t){var n=t.refreshToken,r=ET(e);return r.append("Authorization",function(e){return"".concat(yT," ").concat(e)}(n)),r}function IT(e){return TT.apply(this,arguments)}function TT(){return TT=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),TT.apply(this,arguments)}function RT(e,t){return NT.apply(this,arguments)}function NT(){return(NT=or(ir().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=_T(r),s=ET(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:yT,appId:r.appId,sdkVersion:mT},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,IT((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:xT(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,AT("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PT(e){return new Promise((function(t){setTimeout(t,e)}))}var DT=/^[cdef][\w-]{21}$/;function OT(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,c(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return DT.test(t)?t:""}catch(xy){return""}}function LT(e){return"".concat(e.appName,"!").concat(e.appId)}var MT=new Map;function UT(e,t){var n=LT(e);jT(n,t),function(e,t){var n=VT();n&&n.postMessage({key:e,fid:t});zT()}(n,t)}function jT(e,t){var n=MT.get(e);if(n){var r,i=di(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var FT=null;function VT(){return!FT&&"BroadcastChannel"in self&&((FT=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){jT(e.data.key,e.data.fid)}),FT}function zT(){0===MT.size&&FT&&(FT.close(),FT=null)}var BT="firebase-installations-store",WT=null;function HT(){return WT||(WT=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=oT(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(oT(s.result),e.oldVersion,e.newVersion,oT(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(BT)}})),WT}function GT(e,t){return qT.apply(this,arguments)}function qT(){return(qT=or(ir().mark((function e(t,n){var r,i,a,o,s;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LT(t),e.next=3,HT();case 3:return i=e.sent,a=i.transaction(BT,"readwrite"),o=a.objectStore(BT),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||UT(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KT(e){return YT.apply(this,arguments)}function YT(){return(YT=or(ir().mark((function e(t){var n,r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=LT(t),e.next=3,HT();case 3:return r=e.sent,i=r.transaction(BT,"readwrite"),e.next=7,i.objectStore(BT).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QT(e,t){return XT.apply(this,arguments)}function XT(){return(XT=or(ir().mark((function e(t,n){var r,i,a,o,s,u;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LT(t),e.next=3,HT();case 3:return i=e.sent,a=i.transaction(BT,"readwrite"),o=a.objectStore(BT),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||UT(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JT(e){return ZT.apply(this,arguments)}function ZT(){return(ZT=or(ir().mark((function e(t){var n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QT(t.appConfig,(function(e){var r=$T(e),i=eR(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $T(e){return aR(e||{fid:OT(),registrationStatus:0})}function eR(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(bT.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return tR.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:nR(e)}:{installationEntry:t}}function tR(){return(tR=or(ir().mark((function e(t,n){var r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,RT(t,n);case 3:return r=e.sent,e.abrupt("return",GT(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!wT(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,KT(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,GT(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function nR(e){return rR.apply(this,arguments)}function rR(){return(rR=or(ir().mark((function e(t){var n,r,i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iR(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,PT(100);case 6:return e.next=8,iR(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,JT(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iR(e){return QT(e,(function(e){if(!e)throw bT.create("installation-not-found");return aR(e)}))}function aR(e){return 1===(t=e).registrationStatus&&t.registrationTime+vT<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function oR(e,t){return sR.apply(this,arguments)}function sR(){return(sR=or(ir().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=uR(r,n),o=CT(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:mT,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,IT((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=xT(h),e.abrupt("return",d);case 22:return e.next=24,AT("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uR(e,t){var n=t.fid;return"".concat(_T(e),"/").concat(n,"/authTokens:generate")}function cR(e){return lR.apply(this,arguments)}function lR(){return lR=or(ir().mark((function e(t){var n,r,i,a,o=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,QT(t.appConfig,(function(e){if(!mR(e))throw bT.create("not-registered");var i=e.authToken;if(!n&&yR(i))return e;if(1===i.requestStatus)return r=fR(t,n),e;if(!navigator.onLine)throw bT.create("app-offline");var a=gR(e);return r=pR(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),lR.apply(this,arguments)}function fR(e,t){return hR.apply(this,arguments)}function hR(){return(hR=or(ir().mark((function e(t,n){var r,i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dR(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,PT(100);case 6:return e.next=8,dR(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",cR(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dR(e){return QT(e,(function(e){if(!mR(e))throw bT.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+vT<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function pR(e,t){return vR.apply(this,arguments)}function vR(){return(vR=or(ir().mark((function e(t,n){var r,i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oR(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,GT(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!wT(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,KT(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,GT(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function mR(e){return void 0!==e&&2===e.registrationStatus}function yR(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+gT}(e)}function gR(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function kR(){return(kR=or(ir().mark((function e(t){var n,r,i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,JT(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):cR(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bR(){return bR=or(ir().mark((function e(t){var n,r,i,a=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,wR(r);case 4:return e.next=6,cR(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),bR.apply(this,arguments)}function wR(e){return _R.apply(this,arguments)}function _R(){return(_R=or(ir().mark((function e(t){var n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JT(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xR(e){return bT.create("missing-app-config-values",{valueName:e})}var AR,SR="installations",ER=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw xR("App Configuration");if(!e.name)throw xR("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw xR(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Ha(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},CR=function(e){var t=Ha(e.getProvider("app").getImmediate(),SR).getImmediate(),n={getId:function(){return function(e){return kR.apply(this,arguments)}(t)},getToken:function(e){return function(e){return bR.apply(this,arguments)}(t,e)}};return n};Wa(new ia(SR,ER,"PUBLIC")),Wa(new ia("installations-internal",CR,"PRIVATE")),Xa(dT,pT),Xa(dT,pT,"esm2017");var IR="analytics",TR=6e4,RR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",NR="https://www.googletagmanager.com/gtag/js",PR=new va("@firebase/analytics");function DR(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function OR(e,t){var n=document.createElement("script");n.src="".concat(NR,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function LR(e,t,n,r,i,a){return MR.apply(this,arguments)}function MR(){return MR=or(ir().mark((function e(t,n,r,i,a,o){var s,u,c;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,DR(r);case 9:if(u=e.sent,!(c=u.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),PR.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),MR.apply(this,arguments)}function UR(e,t,n,r,i){return jR.apply(this,arguments)}function jR(){return jR=or(ir().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,DR(r);case 7:u=e.sent,c=di(s),e.prev=9,f=function(){var e=l.value,t=u.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),PR.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),jR.apply(this,arguments)}function FR(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=or(ir().mark((function i(a,o,s){return ir().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,UR(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,LR(e,t,n,r,o,s);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",s):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),PR.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function VR(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(NR))return r}return null}var zR=(yn(AR={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),yn(AR,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),yn(AR,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),yn(AR,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),yn(AR,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),yn(AR,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),yn(AR,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),yn(AR,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),yn(AR,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),yn(AR,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),AR),BR=new Li("analytics","Analytics",zR),WR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;l(this,e),this.throttleMetadata=t,this.intervalMillis=n}return h(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),HR=new WR;function GR(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function qR(e){return KR.apply(this,arguments)}function KR(){return KR=or(ir().mark((function e(t){var n,r,i,a,o,s,u,c;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:GR(i)},o=RR.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw BR.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),KR.apply(this,arguments)}function YR(e){return QR.apply(this,arguments)}function QR(){return QR=or(ir().mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:HR,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw BR.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw BR.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new nN,setTimeout(or(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:TR),e.abrupt("return",XR({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),QR.apply(this,arguments)}function XR(e,t,n){return JR.apply(this,arguments)}function JR(){return JR=or(ir().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=v.length>3&&void 0!==v[3]?v[3]:HR,c=t.appId,l=t.measurementId,e.prev=3,e.next=6,ZR(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return PR.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(s=e.t0)||void 0===s?void 0:s.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,qR(t);case 17:return f=e.sent,o.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),$R(h=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(c),!l){e.next=32;break}return PR.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===h||void 0===h?void 0:h.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(u=null===h||void 0===h?void 0:h.customData)||void 0===u?void 0:u.httpStatus)?na(a,o.intervalMillis,30):na(a,o.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},o.setThrottleMetadata(c,p),PR.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",XR(t,p,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),JR.apply(this,arguments)}function ZR(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(BR.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function $R(e){if(!(e instanceof Oi)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var eN,tN,nN=function(){function e(){l(this,e),this.listeners=[]}return h(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function rN(){return(rN=or(ir().mark((function e(t,n,r,i,a){var o,s;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iN(e){tN=e}function aN(e){eN=e}function oN(){return sN.apply(this,arguments)}function sN(){return sN=or(ir().mark((function e(){var t;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pi()){e.next=5;break}return PR.warn(BR.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Di();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),PR.warn(BR.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])}))),sN.apply(this,arguments)}function uN(){return uN=or(ir().mark((function e(t,n,r,i,a,o,s){var c,l,f,h,d,p,v,m;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=YR(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&PR.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return PR.error(e)})),n.push(l),f=oN().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=u(h,2),p=d[0],v=d[1],VR()||OR(o,p.measurementId),tN&&(a("consent","default",tN),iN(void 0)),a("js",new Date),(m=null!==(c=null===s||void 0===s?void 0:s.config)&&void 0!==c?c:{}).origin="firebase",m.update=!0,null!=v&&(m.firebase_id=v),a("config",p.measurementId,m),eN&&(a("set",eN),aN(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),uN.apply(this,arguments)}var cN,lN,fN=function(){function e(t){l(this,e),this.app=t}return h(e,[{key:"_delete",value:function(){return delete hN[this.app.options.appId],Promise.resolve()}}]),e}(),hN={},dN=[],pN={},vN="dataLayer",mN="gtag",yN=!1;function gN(){var e=[];if(Ti()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=BR.create("invalid-analytics-context",{errorInfo:t});PR.warn(n.message)}}function kN(e,t,n){gN();var r=e.options.appId;if(!r)throw BR.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw BR.create("no-api-key");PR.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=hN[r])throw BR.create("already-exists",{id:r});if(!yN){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(vN);var i=FR(hN,dN,pN,vN,mN),a=i.wrappedGtag,o=i.gtagCore;lN=a,cN=o,yN=!0}return hN[r]=function(e,t,n,r,i,a,o){return uN.apply(this,arguments)}(e,dN,pN,t,cN,vN,n),new fN(e)}function bN(e,t,n,r){e=ra(e),function(e,t,n,r,i){return rN.apply(this,arguments)}(lN,hN[e.app.options.appId],t,n,r).catch((function(e){return PR.error(e)}))}var wN="@firebase/analytics",_N="0.8.0";Wa(new ia(IR,(function(e,t){var n=t.options;return kN(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Wa(new ia("analytics-internal",(function(e){try{var t=e.getProvider(IR).getImmediate();return{logEvent:function(e,n,r){return bN(t,e,n,r)}}}catch(n){throw BR.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),Xa(wN,_N),Xa(wN,_N,"esm2017");var xN,AN,SN,EN,CN,IN,TN,RN,NN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ja,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw qa.create("bad-app-name",{appName:String(i)});var a=Va.get(i);if(a){if(Gi(e,a.options)&&Gi(r,a.config))return a;throw qa.create("duplicate-app",{appName:i})}var o,s=new ca(i),u=di(za.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Ka(e,r,s);return Va.set(i,l),l}({apiKey:"AIzaSyALPbFSPzLP2rQk1ow3Ly9DS9x1dLjPryw",authDomain:"sundaemodum.firebaseapp.com",projectId:"sundaemodum",storageBucket:"sundaemodum.appspot.com",messagingSenderId:"678077267581",appId:"1:678077267581:web:9337b6baaa8979300cbb14",measurementId:"G-8DLFS3DJWR"}),PN=function(e,t){var n="string"==typeof e?e:t||"(default)";return Ha("object"==typeof e?e:Qa(),"firestore").getImmediate({identifier:n})}(NN),DN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa(),t=Ha(e,"auth");return t.isInitialized()?t.getImmediate():rk(e,{popupRedirectResolver:W_,persistence:[Uw,hw,pw]})}(NN),ON=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa(),t=arguments.length>1?arguments[1]:void 0,n=Ha(e=ra(e),GI),r=n.getImmediate({identifier:t});return r}(NN),LN=n.p+"static/media/logo.74266ab99c218106dc18.png";var MN=hn.li(xN||(xN=e(["\n  border-bottom:1px solid #dbdbdb;\n  margin-bottom:5px;\n  &:first-child{\n    /* margin-top:5px; */\n  }\n  &:last-child{\n    border:0;\n  }\n"]))),UN=hn.button(AN||(AN=e(["\n  width:100%;\n  padding-bottom:5px;\n  background-color:transparent;\n  display: flex;\n  justify-content:space-between;\n  align-items:center;\n"]))),jN=hn.div(SN||(SN=e(["\n  display: flex;\n  align-items:flex-end;\n"]))),FN=hn.img(EN||(EN=e(["\n  width:42px;\n  height:42px;\n  background-color:transparent;\n  border-radius:50%;\n  margin:10px 10px 10px 0;\n"]))),VN=hn.img(CN||(CN=e(["\n  width:60px;\n  height:60px;\n  border-radius:20px;\n  overflow:hidden;\n"]))),zN=hn.div(IN||(IN=e(["\n  display: flex;\n  flex-direction:column;\n  align-items:flex-start;\n  gap:2px;\n"]))),BN=hn.span(TN||(TN=e(["\n  font-weight:600;\n    font-size:15px;\n"]))),WN=hn.div(RN||(RN=e(["\n  display: flex;\n  gap:3px;\n  span{\n  }\n"])));var HN,GN,qN=function(e){var t=e.party,n=(e.participants,e.participateCount,e.recruit,e.postkey),r=e.postImg,i=e.postDate,a=e.postTime,o=e.postTit,s=e.postTxt,u=e.writer,c=pe(),l=(Yn((function(e){return e.user})),rr()),f={party:{recruit:t.recruit,participateCount:t.participateCount,participants:t.participants},postkey:n,postImg:r,postDate:i,postTime:a,postTit:o,postTxt:s,writer:u,isLoding:!0},h=function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({type:Pn}),e.next=3,Dg(Dy(PN,"current_post","current_post"),f);case 3:c("postdetail/".concat(o));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,xr.jsx)(MN,{children:(0,xr.jsxs)(UN,{onClick:h,children:[(0,xr.jsx)("div",{children:(0,xr.jsxs)(jN,{children:[(0,xr.jsx)(FN,{src:u.photoURL||$r,alt:"\uc720\uc800 \ud504\ub85c\ud544"}),(0,xr.jsxs)(zN,{children:[(0,xr.jsx)(BN,{children:u.displayName}),(0,xr.jsx)("strong",{children:o}),(0,xr.jsxs)(WN,{children:[(0,xr.jsxs)("time",{children:[i," ",a]}),(0,xr.jsxs)("strong",{children:[t.participateCount,"/",t.recruit]})," "]})]})]})}),r&&(0,xr.jsx)(VN,{src:r,alt:""})]})})},KN=hn.div(HN||(HN=e(["\n  position: relative;\n"]))),YN=hn.ul(GN||(GN=e(["\n  margin-top:5px;\n"])));var QN,XN,JN,ZN,$N,eP,tP,nP=function(){var e=u((0,r.useState)([]),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){Mg(wg(Ny(PN,"posts"),Sg("CreateAt","desc")),(function(e){var t=e.docs.map((function(e){return e.data()}));n(t)}))}),[]),(0,xr.jsxs)(KN,{children:[(0,xr.jsx)(jr,{h1:"\uc21c\ub300 \ubaa8\ub460",search:!0}),(0,xr.jsxs)(Fr,{children:[(0,xr.jsx)(kr,{children:"\uac8c\uc2dc\uae00"}),(0,xr.jsx)(YN,{children:t.map((function(e,t){return(0,r.createElement)(qN,kn(kn({},e),{},{key:e.postkey}))}))})]}),(0,xr.jsx)(Zr,{})]})},rP=hn.article(QN||(QN=e(["\n  width:100%;\n"]))),iP=hn.div(XN||(XN=e(["\n  background-color:",";\n  width:100%;\n  height:50vh;\n  display: flex;\n  align-items:center;\n  justify-content:center;\n"])),(function(e){return e.theme.mainColor})),aP=hn.img(JN||(JN=e(["\n  width:9rem;\n  height:9rem;\n  border-radius:10%;\n"]))),oP=hn.div(ZN||(ZN=e(["\n  width:100%;\n  background-color:white;\n  padding:5rem;\n  top:-1.25rem;\n  position:relative;\n  border-radius: 20px 20px 0px 0px;\n\n"]))),sP=hn.ul($N||($N=e(["\n  display: flex;\n  flex-direction:column;\n  align-items:center;\n  gap:10px;\n  margin-top:20px;\n"]))),uP=hn.button(eP||(eP=e(["\n  padding:13px 15px;\n  width:17rem;\n  border-radius:44px;\n  outline:none;\n  border:0;\n  position:relative;\n  background-color:transparent;\n  border: 1px solid ",';\n  img{\n    position:absolute;\n    left:14px;\n    top:11px;\n  }\n  &::before{\n    content: "";\n    width: 24px;\n    height: 24px;\n    background: '," no-repeat;\n    position: absolute;\n    top: 11px;\n    left: 14px;\n  }\n"])),(function(e){return e.color||"black"}),(function(e){return"url(".concat(e.logoImg,")")})),cP=hn.div(tP||(tP=e(['\n  margin-top:20px;\n  text-align:center;\n  a{\n    color:#808080;\n    position:relative;\n    &:first-child{\n      margin-right:12px;\n    }\n    &:first-child::after{\n      top: 1px;\n      content: "";\n      width: 1px;\n      height: 15px;\n      background-color: rgb(196, 196, 196);\n      position: absolute;\n      margin-left: 6px;\n    }\n  }\n'])));var lP=function(){var e=u((0,r.useState)(""),2),t=(e[0],e[1],new Ub),n=new Mb,i=(rr(),Yn((function(e){return e.test})),u((0,r.useState)(""),2)),a=(i[0],i[1],function(){var e=or(ir().mark((function e(r){var i;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"google"!==(i=r.target.name)){e.next=7;break}return e.next=5,c_(DN,t);case 5:e.next=12;break;case 7:if("facebook"!==i){e.next=12;break}return e.next=10,c_(DN,n);case 10:e.next=12;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}());return(0,xr.jsxs)(rP,{children:[(0,xr.jsx)(gr,{children:"SNS \ub85c\uadf8\uc778 \ud398\uc774\uc9c0"}),(0,xr.jsx)(iP,{children:(0,xr.jsx)(aP,{src:LN,alt:"\uc21c\ub300 \ubaa8\ub460 \ub85c\uace0"})}),(0,xr.jsxs)(oP,{children:[(0,xr.jsxs)(sP,{children:[(0,xr.jsx)("li",{children:(0,xr.jsx)(uP,{color:"#F1C94B",logoImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFGSURBVHgBpZRfTsJAEMa/2S0YE/+UG+AN8EGjT3IATLiB3gA9gfQGeALhBjXqs/CE0Qe5gRyhKonGdnecLpAAwcS2v6RJs8n8drM73xDWwK9Nf5IkLTDqzKjJki9fRIQRg3olo/ubx+F4sYZWJZPnRssy2rPiP+CxbHC9e/TQWSv6fGlcsXWSf0EK7e2D+2BJ9DE8PYfiG2SEmS/TkznR17BZjVX8KN4qshOZ8mRPpX8xTD2nJMVX31sXTkSaz1AApXHiRLMnzk1ar+bHQzH8uShCMaLpHUnHogDEGDmRNRigAKyo50RaeyFyw2Mj2XMik8R15IVUUJEAO5HSlKuPJJfBzuFd1/mm8UjekI1IMhYspt/74bhJs+zK7fdlhAy09UKrTC3t+KV5JK9jwbd2o9St7IdLLUPvT42ODLCoDK+7Oqyy8Aufqn+yMGI4jAAAAABJRU5ErkJggg==",name:"kakao",onClick:a,children:"\uce74\uce74\uc624 \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778"})}),(0,xr.jsx)("li",{children:(0,xr.jsx)(uP,{logoImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIkSURBVHgBnVS/b9NAFH7v/ENBVakrYKiQkLswZyBVN1xAICYiEBKBwe5fABtiQE0GBkb+gqZTEQJS9tAeWwWFdoZKdadKSBBHFITi+I53kROcxHHTfoN9792773337t0hZGDPcawc/LV0APsQcjuznAejYjFt8QQ79ADxFpnOwLTPAHgYaZUZvumPJPruFPKgQY2GNhwBlFg+t/6x0rVZj+TqnEsk2+OQKEgA78CZt/sUKYemRXsp8VxK/BBLsEnFZfUHiX4k2EJye7r6EMlGfzoKZGJxpr7Fk26VkOltT0RadahG7bpWbH2drv2pnwfRNCEt2zhgQrKicbEJkw92gU21IAJZOS5JR1H43timyuVjOzCuhdODQVeeUTsIqs1IFgz0BImq/E5aHJ2QiwwdyADrWyDBghNCRwSfCGxl/EKD/iGkSNonuf6A106MA2zVjSptyT0Qp+Bxcw5226cXP5XeViEDTrlhMcNo9PJI4AylrH4Jz4LbcOBbNKUKtzS/WrSziJhpPkzaJORdp7MvvbyjGtJJTPiajBY2S2v+kJrn+0usfaac9IlQm+0QFV7dzUspNmC42Jx0d66IRLSonq6Kyf24D2ZwI2aRlfWnk+Xe7S+s3vYoeBnGhNm8DubPmyv8yQUv3sV/KGUgopoEtI8iot568fnem0ddG9OCYnUuDD5sSMcsYY1ehJWt0mveP5UBZ7lo/Z5QvUUvRBQGacXv4h+By9HLveGJ0AAAAABJRU5ErkJggg==",name:"google",onClick:a,children:"\uad6c\uae00 \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778"})}),(0,xr.jsx)("li",{children:(0,xr.jsx)(uP,{color:"#2C9CDB",logoImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAUCAYAAABbLMdoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACTSURBVHgB3ZFBDkQwFIbf05n9XGEWs5gFcQQ3QeIe3ANxFW4gsdONg+BhIdGXohY2vqRJ//bLn5cWQYObSm9AiJftvD7rOXLRyWVMBImuRJHtvA2AsIAdLCUR+nDAi2VvG4Tov3X47/TNjK14KnMuyWhnkoxEoM64mcAqzccYx8pYFu+hVH+Qzd9EP+X+vqd7vDwB4XIiCxoDwV0AAAAASUVORK5CYII=",name:"facebook",onClick:a,children:"\ud398\uc774\uc2a4\ubd81 \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778"})})]}),(0,xr.jsxs)(cP,{children:[(0,xr.jsx)(Pe,{to:"/emaillogin",children:"\uc774\uba54\uc77c \ub85c\uadf8\uc778"}),(0,xr.jsx)(Pe,{to:"/register",children:"\ud68c\uc6d0\uac00\uc785"}),(0,xr.jsx)("button",{onClick:function(){sw(DN),console.log("\ub85c\uadf8\uc544\uc6c3")},children:"\ub85c\uadf8\uc544\uc6c3"})]})]})]})};function fP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var hP=["name"],dP=["_f"],pP=["_f"],vP=function(e){return"checkbox"===e.type},mP=function(e){return e instanceof Date},yP=function(e){return null==e},gP=function(e){return"object"===typeof e},kP=function(e){return!yP(e)&&!Array.isArray(e)&&gP(e)&&!mP(e)},bP=function(e){return kP(e)&&e.target?vP(e.target)?e.target.checked:e.target.value:e},wP=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},_P=function(e){return Array.isArray(e)?e.filter(Boolean):[]},xP=function(e){return void 0===e},AP=function(e,t,n){if(!t||!kP(e))return n;var r=_P(t.split(/[,[\].]+?/)).reduce((function(e,t){return yP(e)?e:e[t]}),e);return xP(r)||r===e?xP(e[t])?n:e[t]:r},SP="blur",EP="focusout",CP="onBlur",IP="onChange",TP="onSubmit",RP="onTouched",NP="all",PP="max",DP="min",OP="maxLength",LP="minLength",MP="pattern",UP="required",jP="validate",FP=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t[i]!==NP&&(t[i]=!r||NP),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),VP=function(e){return kP(e)&&!Object.keys(e).length},zP=function(e,t,n){e.name;var r=fP(e,hP);return VP(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||NP)}))},BP=function(e){return Array.isArray(e)?e:[e]};function WP(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return function(){return function(e){e&&e.unsubscribe()}(n)}}),[e.disabled])}var HP=function(e){return"string"===typeof e},GP=function(e,t,n,r){var i=Array.isArray(e);return HP(e)?(r&&t.watch.add(e),AP(n,e)):i?e.map((function(e){return r&&t.watch.add(e),AP(n,e)})):(r&&(t.watchAll=!0),n)},qP=function(e){return"function"===typeof e},KP=function(e){for(var t in e)if(qP(e[t]))return!0;return!1};var YP=function(e,t,n,r,i){return t?kn(kn({},n[e]),{},{types:kn(kn({},n[e]&&n[e].types?n[e].types:{}),{},yn({},r,i||!0))}):{}},QP=function(e){return/^\w*$/.test(e)},XP=function(e){return _P(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function JP(e,t,n){for(var r=-1,i=QP(t)?[t]:XP(t),a=i.length,o=a-1;++r<a;){var s=i[r],u=n;if(r!==o){var c=e[s];u=kP(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var ZP=function e(t,n,r){var i,a=di(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=AP(t,o);if(s){var u=s._f,c=fP(s,dP);if(u&&n(u.name)){if(u.ref.focus&&xP(u.ref.focus()))break;if(u.refs){u.refs[0].focus();break}}else kP(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},$P=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||c(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},eD=function(e,t,n){var r=_P(AP(e,n));return JP(r,"root",t[n]),JP(e,n,r),e},tD=function(e){return"boolean"===typeof e},nD=function(e){return"file"===e.type},rD=function(e){return HP(e)||r.isValidElement(e)},iD=function(e){return"radio"===e.type},aD=function(e){return e instanceof RegExp},oD={value:!1,isValid:!1},sD={value:!0,isValid:!0},uD=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!xP(e[0].attributes.value)?xP(e[0].value)||""===e[0].value?sD:{value:e[0].value,isValid:!0}:sD:oD}return oD},cD={isValid:!1,value:null},lD=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),cD):cD};function fD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(rD(e)||Array.isArray(e)&&e.every(rD)||tD(e)&&!e)return{type:n,message:rD(e)?e:"",ref:t}}var hD=function(e){return kP(e)&&!aD(e)?e:{value:e,message:""}},dD=function(){var e=or(ir().mark((function e(t,n,r,i,a){var o,s,u,c,l,f,h,d,p,v,m,y,g,k,b,w,_,x,A,S,E,C,I,T,R,N,P,D,O,L,M,U,j,F,V,z,B,W,H,G,q,K,Y,Q;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,s=o.ref,u=o.refs,c=o.required,l=o.maxLength,f=o.minLength,h=o.min,d=o.max,p=o.pattern,v=o.validate,m=o.name,y=o.valueAsNumber,g=o.mount,k=o.disabled,g&&!k){e.next=3;break}return e.abrupt("return",{});case 3:if(b=u?u[0]:s,w=function(e){i&&b.reportValidity&&(b.setCustomValidity(tD(e)?"":e||" "),b.reportValidity())},_={},x=iD(s),A=vP(s),S=x||A,E=(y||nD(s))&&!s.value||""===n||Array.isArray(n)&&!n.length,C=YP.bind(null,m,r,_),I=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:OP,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:LP,a=e?t:n;_[m]=kn({type:e?r:i,message:a,ref:s},C(e?r:i,a))},!(a?!Array.isArray(n)||!n.length:c&&(!S&&(E||yP(n))||tD(n)&&!n||A&&!uD(u).isValid||x&&!lD(u).isValid))){e.next=19;break}if(T=rD(c)?{value:!!c,message:c}:hD(c),R=T.value,N=T.message,!R){e.next=19;break}if(_[m]=kn({type:UP,message:N,ref:b},C(UP,N)),r){e.next=19;break}return w(N),e.abrupt("return",_);case 19:if(E||yP(h)&&yP(d)){e.next=28;break}if(O=hD(d),L=hD(h),yP(n)||isNaN(n)?(U=s.valueAsDate||new Date(n),HP(O.value)&&(P=U>new Date(O.value)),HP(L.value)&&(D=U<new Date(L.value))):(M=s.valueAsNumber||(n?+n:n),yP(O.value)||(P=M>O.value),yP(L.value)||(D=M<L.value)),!P&&!D){e.next=28;break}if(I(!!P,O.message,L.message,PP,DP),r){e.next=28;break}return w(_[m].message),e.abrupt("return",_);case 28:if(!l&&!f||E||!(HP(n)||a&&Array.isArray(n))){e.next=38;break}if(j=hD(l),F=hD(f),V=!yP(j.value)&&n.length>j.value,z=!yP(F.value)&&n.length<F.value,!V&&!z){e.next=38;break}if(I(V,j.message,F.message),r){e.next=38;break}return w(_[m].message),e.abrupt("return",_);case 38:if(!p||E||!HP(n)){e.next=45;break}if(B=hD(p),W=B.value,H=B.message,!aD(W)||n.match(W)){e.next=45;break}if(_[m]=kn({type:MP,message:H,ref:s},C(MP,H)),r){e.next=45;break}return w(H),e.abrupt("return",_);case 45:if(!v){e.next=79;break}if(!qP(v)){e.next=58;break}return e.next=49,v(n);case 49:if(G=e.sent,!(q=fD(G,b))){e.next=56;break}if(_[m]=kn(kn({},q),C(jP,q.message)),r){e.next=56;break}return w(q.message),e.abrupt("return",_);case 56:e.next=79;break;case 58:if(!kP(v)){e.next=79;break}K={},e.t0=ir().keys(v);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(Y=e.t1.value,VP(K)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=fD,e.next=68,v[Y](n);case 68:e.t3=e.sent,e.t4=b,e.t5=Y,(Q=(0,e.t2)(e.t3,e.t4,e.t5))&&(K=kn(kn({},Q),C(Y,Q.message)),w(Q.message),r&&(_[m]=K)),e.next=61;break;case 75:if(VP(K)){e.next=79;break}if(_[m]=kn({ref:b},K),r){e.next=79;break}return e.abrupt("return",_);case 79:return w(!0),e.abrupt("return",_);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();var pD="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function vD(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(pD&&(e instanceof Blob||e instanceof FileList)||!n&&!kP(e))return e;for(var r in t=n?[]:{},e){if(qP(e[r])){t=e;break}t[r]=vD(e[r])}}return t}var mD=function(e){return{isOnSubmit:!e||e===TP,isOnBlur:e===CP,isOnChange:e===IP,isOnAll:e===NP,isOnTouch:e===RP}};function yD(e){for(var t in e)if(!xP(e[t]))return!1;return!0}function gD(e,t){var n,r=QP(t)?[t]:XP(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=xP(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var s=-1,u=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++s<c.length;){var f=c[s];u=u?u[f]:e[f],l===s&&(kP(u)&&VP(u)||Array.isArray(u)&&yD(u))&&(n?delete n[f]:delete e[f]),n=u}}return e}function kD(){var e=[];return{get observers(){return e},next:function(t){var n,r=di(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var bD=function(e){return yP(e)||!gP(e)};function wD(e,t){if(bD(e)||bD(t))return e===t;if(mP(e)&&mP(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],s=e[o];if(!r.includes(o))return!1;if("ref"!==o){var u=t[o];if(mP(s)&&mP(u)||kP(s)&&kP(u)||Array.isArray(s)&&Array.isArray(u)?!wD(s,u):s!==u)return!1}}return!0}var _D=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xD=function(e){return"select-multiple"===e.type},AD=function(e){return iD(e)||vP(e)},SD=function(e){return _D(e)&&e.isConnected};function ED(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(kP(e)||n)for(var r in e)Array.isArray(e[r])||kP(e[r])&&!KP(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ED(e[r],t[r])):yP(e[r])||(t[r]=!0);return t}function CD(e,t,n){var r=Array.isArray(e);if(kP(e)||r)for(var i in e)Array.isArray(e[i])||kP(e[i])&&!KP(e[i])?xP(t)||bD(n[i])?n[i]=Array.isArray(e[i])?ED(e[i],[]):kn({},ED(e[i])):CD(e[i],yP(t)?{}:t[i],n[i]):n[i]=!wD(e[i],t[i]);return n}var ID=function(e,t){return CD(e,t,ED(t))},TD=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return xP(e)?e:n?""===e?NaN:e?+e:e:r&&HP(e)?new Date(e):i?i(e):e};function RD(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return nD(t)?t.files:iD(t)?lD(e.refs).value:xD(t)?c(t.selectedOptions).map((function(e){return e.value})):vP(t)?uD(e.refs).value:TD(xP(t.value)?e.ref.value:t.value,e)}var ND=function(e,t,n,r){var i,a={},o=di(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=AP(t,s);u&&JP(a,s,u._f)}}catch(l){o.e(l)}finally{o.f()}return{criteriaMode:n,names:c(e),fields:a,shouldUseNativeValidation:r}},PD=function(e){return xP(e)?void 0:aD(e)?e.source:kP(e)?aD(e.value)?e.value.source:e.value:e},DD=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function OD(e,t,n){var r=AP(e,n);if(r||QP(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=AP(t,a),s=AP(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var LD=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},MD=function(e,t){return!_P(AP(e,t)).length&&gD(e,t)},UD={mode:TP,reValidateMode:IP,shouldFocusError:!0};function jD(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=kn(kn({},UD),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},a=vD(n.defaultValues)||{},o=n.shouldUnregister?{}:vD(a),s={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l=0,f={},h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={watch:kD(),array:kD(),state:kD()},p=mD(n.mode),v=mD(n.reValidateMode),m=n.criteriaMode===NP,y=function(e){return function(t){clearTimeout(l),l=window.setTimeout(e,t)}},g=function(){var e=or(ir().mark((function e(t){var a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,!h.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=VP,e.next=6,A();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,E(i,!0);case 12:e.t0=e.sent;case 13:a=e.t0,t||a===r.isValid||(r.isValid=a,d.state.next({isValid:a}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(u&&n){if(s.action=!0,l&&Array.isArray(AP(i,e))){var f=n(AP(i,e),u.argA,u.argB);c&&JP(i,e,f)}if(h.errors&&l&&Array.isArray(AP(r.errors,e))){var p=n(AP(r.errors,e),u.argA,u.argB);c&&JP(r.errors,e,p),MD(r.errors,e)}if(h.touchedFields&&l&&Array.isArray(AP(r.touchedFields,e))){var v=n(AP(r.touchedFields,e),u.argA,u.argB);c&&JP(r.touchedFields,e,v)}h.dirtyFields&&(r.dirtyFields=ID(a,o)),d.state.next({isDirty:I(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else JP(o,e,t)},b=function(e,t){JP(r.errors,e,t),d.state.next({errors:r.errors})},w=function(e,t,n,r){var u=AP(i,e);if(u){var c=AP(o,e,xP(n)?AP(a,e):n);xP(c)||r&&r.defaultChecked||t?JP(o,e,t?c:RD(u._f)):N(e,c),s.mount&&g()}},_=function(e,t,n,i,o){var s=!1,u={name:e},c=AP(r.touchedFields,e);if(h.isDirty){var l=r.isDirty;r.isDirty=u.isDirty=I(),s=l!==u.isDirty}if(h.dirtyFields&&(!n||i)){var f=AP(r.dirtyFields,e);wD(AP(a,e),t)?gD(r.dirtyFields,e):JP(r.dirtyFields,e,!0),u.dirtyFields=r.dirtyFields,s=s||f!==AP(r.dirtyFields,e)}return n&&!c&&(JP(r.touchedFields,e,n),u.touchedFields=r.touchedFields,s=s||h.touchedFields&&c!==n),s&&o&&d.state.next(u),s?u:{}},x=function(){var n=or(ir().mark((function n(i,a,o,s){var u,c,p;return ir().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=AP(r.errors,i),c=h.isValid&&r.isValid!==a,t.delayError&&o?(e=y((function(){return b(i,o)})))(t.delayError):(clearTimeout(l),e=null,o?JP(r.errors,i,o):gD(r.errors,i)),(o?wD(u,o):!u)&&VP(s)&&!c||(p=kn(kn(kn({},s),c?{isValid:a}:{}),{},{errors:r.errors,name:i}),r=kn(kn({},r),p),d.state.next(p)),f[i]--,h.isValidating&&!Object.values(f).some((function(e){return e}))&&(d.state.next({isValidating:!1}),f={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}(),A=function(){var e=or(ir().mark((function e(t){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(kn({},o),n.context,ND(t||u.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=or(ir().mark((function e(t){var n,i,a,o,s,u;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:if(n=e.sent,i=n.errors,t){a=di(t);try{for(a.s();!(o=a.n()).done;)s=o.value,(u=AP(i,s))?JP(r.errors,s,u):gD(r.errors,s)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=or(ir().mark((function e(t,i){var a,s,c,l,f,h,d,p=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=ir().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(s=e.t1.value,!(c=t[s])){e.next=21;break}if(l=c._f,f=fP(c,pP),!l){e.next=17;break}return h=u.array.has(l.name),e.next=11,dD(c,AP(o,l.name),m,n.shouldUseNativeValidation,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:!i&&(AP(d,l.name)?h?eD(r.errors,d,l.name):JP(r.errors,l.name,d[l.name]):gD(r.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,E(f,i,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e,t=di(u.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=AP(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!SD(e)})):!SD(r._f.ref))&&z(n)}}catch(a){t.e(a)}finally{t.f()}u.unMount=new Set},I=function(e,t){return e&&t&&JP(o,e,t),!wD(M(),a)},T=function(e,t,n){var r=kn({},s.mount?o:xP(t)?a:HP(e)?yn({},e,t):t);return GP(e,u,r,n)},R=function(e){return _P(AP(s.mount?o:a,e,t.shouldUnregister?AP(a,e,[]):[]))},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=AP(i,e),a=t;if(r){var s=r._f;s&&(!s.disabled&&JP(o,e,TD(t,s)),a=pD&&_D(s.ref)&&yP(t)?"":t,xD(s.ref)?c(s.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):s.refs?vP(s.ref)?s.refs.length>1?s.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value)})):s.refs[0]&&(s.refs[0].checked=!!a):s.refs.forEach((function(e){return e.checked=e.value===a})):nD(s.ref)?s.ref.value="":(s.ref.value=a,s.ref.type||d.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&_(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&L(e)},P=function e(t,n,r){for(var a in n){var o=n[a],s="".concat(t,".").concat(a),c=AP(i,s);!u.array.has(t)&&bD(o)&&(!c||c._f)||mP(o)?N(s,o,r):e(s,o,r)}},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=AP(i,e),c=u.array.has(e),l=vD(t);JP(o,e,l),c?(d.array.next({name:e,values:o}),(h.isDirty||h.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=ID(a,o),d.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:I(e,l)}))):!s||s._f||yP(l)?N(e,l,n):P(e,l,n),$P(e,u)&&d.state.next({}),d.watch.next({name:e})},O=function(){var t=or(ir().mark((function t(a){var s,c,l,h,y,k,b,w,S,E,C,I,T,R,N;return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=a.target,c=s.name,!(l=AP(i,c))){t.next=39;break}if(k=s.type?RD(l._f):bP(a),b=a.type===SP||a.type===EP,w=!DD(l._f)&&!n.resolver&&!AP(r.errors,c)&&!l._f.deps||LD(b,AP(r.touchedFields,c),r.isSubmitted,v,p),S=$P(c,u,b),JP(o,c,k),b?(l._f.onBlur&&l._f.onBlur(a),e&&e(0)):l._f.onChange&&l._f.onChange(a),E=_(c,k,b,!1),C=!VP(E)||S,!b&&d.watch.next({name:c,type:a.type}),!w){t.next=15;break}return t.abrupt("return",C&&d.state.next(kn({name:c},S?{}:E)));case 15:if(!b&&S&&d.state.next({}),f[c]=(f[c],1),d.state.next({isValidating:!0}),!n.resolver){t.next=30;break}return t.next=21,A([c]);case 21:I=t.sent,T=I.errors,R=OD(r.errors,i,c),N=OD(T,i,R.name||c),h=N.error,c=N.name,y=VP(T),t.next=37;break;case 30:return t.next=32,dD(l,AP(o,c),m,n.shouldUseNativeValidation);case 32:return t.t0=c,h=t.sent[t.t0],t.next=36,g(!0);case 36:y=t.sent;case 37:l._f.deps&&L(l._f.deps),x(c,y,h,E);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var e=or(ir().mark((function e(t){var a,o,s,c,l,f=arguments;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.length>1&&void 0!==f[1]?f[1]:{},c=BP(t),d.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,S(xP(t)?t:c);case 6:l=e.sent,o=VP(l),s=t?!c.some((function(e){return AP(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=AP(i,t),e.next=3,E(n&&n._f?yn({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||r.isValid)&&g(),e.next=21;break;case 18:return e.next=20,E(i);case 20:s=o=e.sent;case 21:return d.state.next(kn(kn(kn({},!HP(t)||h.isValid&&o!==r.isValid?{}:{name:t}),n.resolver?{isValid:o}:{}),{},{errors:r.errors,isValidating:!1})),a.shouldFocus&&!s&&ZP(i,(function(e){return AP(r.errors,e)}),t?c:u.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=kn(kn({},a),s.mount?o:{});return xP(e)?t:HP(e)?AP(t,e):e.map((function(e){return AP(t,e)}))},U=function(e,t){return{invalid:!!AP((t||r).errors,e),isDirty:!!AP((t||r).dirtyFields,e),isTouched:!!AP((t||r).touchedFields,e),error:AP((t||r).errors,e)}},j=function(e){e?BP(e).forEach((function(e){return gD(r.errors,e)})):r.errors={},d.state.next({errors:r.errors})},F=function(e,t,n){var a=(AP(i,e,{_f:{}})._f||{}).ref;JP(r.errors,e,kn(kn({},t),{},{ref:a})),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},V=function(e,t){return qP(e)?d.watch.subscribe({next:function(n){return e(T(void 0,t),n)}}):T(e,t,!0)},z=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=di(e?BP(e):u.mount);try{for(c.s();!(t=c.n()).done;){var l=t.value;u.mount.delete(l),u.array.delete(l),AP(i,l)&&(s.keepValue||(gD(i,l),gD(o,l)),!s.keepError&&gD(r.errors,l),!s.keepDirty&&gD(r.dirtyFields,l),!s.keepTouched&&gD(r.touchedFields,l),!n.shouldUnregister&&!s.keepDefaultValue&&gD(a,l))}}catch(f){c.e(f)}finally{c.f()}d.watch.next({}),d.state.next(kn(kn({},r),s.keepDirty?{isDirty:I()}:{})),!s.keepIsValid&&g()},B=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=AP(i,t),f=tD(r.disabled);return JP(i,t,kn(kn({},l||{}),{},{_f:kn(kn({},l&&l._f?l._f:{ref:{name:t}}),{},{name:t,mount:!0},r)})),u.mount.add(t),l?f&&JP(o,t,r.disabled?void 0:AP(o,t,RD(l._f))):w(t,!0,r.value),kn(kn(kn({},f?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:PD(r.min),max:PD(r.max),minLength:PD(r.minLength),maxLength:PD(r.maxLength),pattern:PD(r.pattern)}:{}),{},{name:t,onChange:O,onBlur:O,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(o){if(o){e(t,r),l=AP(i,t);var f=xP(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,h=AD(f),d=l._f.refs||[];if(h?d.find((function(e){return e===f})):f===l._f.ref)return;JP(i,t,{_f:kn(kn({},l._f),h?{refs:[].concat(c(d.filter(SD)),[f],c(Array.isArray(AP(a,t))?[{}]:[])),ref:{type:f.type,name:t}}:{ref:f})}),w(t,!1,void 0,f)}else(l=AP(i,t,{}))._f&&(l._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!wP(u.array,t)||!s.action)&&u.unMount.add(t)}))})},W=function(e,t){return function(){var a=or(ir().mark((function a(s){var c,l,f,h,p;return ir().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist()),c=!0,l=vD(o),d.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,A();case 8:f=a.sent,h=f.errors,p=f.values,r.errors=h,l=p,a.next=17;break;case 15:return a.next=17,E(i);case 17:if(!VP(r.errors)){a.next=23;break}return d.state.next({errors:{},isSubmitting:!0}),a.next=21,e(l,s);case 21:a.next=27;break;case 23:if(!t){a.next=26;break}return a.next=26,t(kn({},r.errors),s);case 26:n.shouldFocusError&&ZP(i,(function(e){return AP(r.errors,e)}),u.mount);case 27:a.next=33;break;case 29:throw a.prev=29,a.t0=a.catch(4),c=!1,a.t0;case 33:return a.prev=33,r.isSubmitted=!0,d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:VP(r.errors)&&c,submitCount:r.submitCount+1,errors:r.errors}),a.finish(33);case 37:case"end":return a.stop()}}),a,null,[[4,29,33,37]])})));return function(e){return a.apply(this,arguments)}}()},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};AP(i,e)&&(xP(t.defaultValue)?D(e,AP(a,e)):(D(e,t.defaultValue),JP(a,e,t.defaultValue)),t.keepTouched||gD(r.touchedFields,e),t.keepDirty||(gD(r.dirtyFields,e),r.isDirty=t.defaultValue?I(e,AP(a,e)):I()),t.keepError||(gD(r.errors,e),h.isValid&&g()),d.state.next(kn({},r)))},G=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e||a,l=vD(c),f=e&&!VP(e)?l:a;if(n.keepDefaultValues||(a=c),!n.keepValues){if(n.keepDirtyValues){var p,v=di(u.mount);try{for(v.s();!(p=v.n()).done;){var m=p.value;AP(r.dirtyFields,m)?JP(f,m,AP(o,m)):D(m,AP(f,m))}}catch(_){v.e(_)}finally{v.f()}}else{if(pD&&xP(e)){var y,g=di(u.mount);try{for(g.s();!(y=g.n()).done;){var k=y.value,b=AP(i,k);if(b&&b._f){var w=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;try{if(_D(w)){w.closest("form").reset();break}}catch(xy){}}}}catch(_){g.e(_)}finally{g.f()}}i={}}o=t.shouldUnregister?n.keepDefaultValues?vD(a):{}:l,d.array.next({values:f}),d.watch.next({values:f})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!h.isValid||!!n.keepIsValid,s.watch=!!t.shouldUnregister,d.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||wD(e,a)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?ID(a,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},q=function(e,t){return G(qP(e)?e(o):e,t)},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=AP(i,e),r=n&&n._f;if(r){var a=r.refs?r.refs[0]:r.ref;a.focus(),t.shouldSelect&&a.select()}};return{control:{register:B,unregister:z,getFieldState:U,_executeSchema:A,_getWatch:T,_getDirty:I,_updateValid:g,_removeUnmounted:C,_updateFieldArray:k,_getFieldArray:R,_subjects:d,_proxyFormState:h,get _fields(){return i},get _formValues(){return o},get _stateFlags(){return s},set _stateFlags(e){s=e},get _defaultValues(){return a},get _names(){return u},set _names(e){u=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=kn(kn({},n),e)}},trigger:L,register:B,handleSubmit:W,watch:V,setValue:D,getValues:M,reset:q,resetField:H,clearErrors:j,unregister:z,setError:F,setFocus:K,getFieldState:U}}function FD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=r.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),i=u(n,2),a=i[0],o=i[1];t.current?t.current.control._options=e:t.current=kn(kn({},jD(e)),{},{formState:a});var s=t.current.control,c=r.useCallback((function(e){zP(e,s._proxyFormState,!0)&&(s._formState=kn(kn({},s._formState),e),o(kn({},s._formState)))}),[s]);return WP({subject:s._subjects.state,callback:c}),r.useEffect((function(){s._stateFlags.mount||(s._proxyFormState.isValid&&s._updateValid(),s._stateFlags.mount=!0),s._stateFlags.watch&&(s._stateFlags.watch=!1,s._subjects.state.next({})),s._removeUnmounted()})),t.current.formState=FP(a,s._proxyFormState),t.current}var VD,zD,BD,WD,HD,GD,qD,KD,YD=hn.article(VD||(VD=e(["\n  margin:78px auto 0;\n  width:100%;\n  max-width:450px;\n  padding:20px; \n  position:relative;\n"]))),QD=hn.h1(zD||(zD=e(["\n  font-size:24px;\n  text-align:center;\n  margin-bottom:20px;\n"]))),XD=hn.form(BD||(BD=e(["\n  width:100%;\n  margin-top:25px;\n  a{\n    display: block;\n    text-align:center;\n    margin-top:10px;\n  }\n"]))),JD=hn.label(WD||(WD=e(["\n  display: block;\n  margin:15px 0;\n  font-size:14px;\n"]))),ZD=hn.input(HD||(HD=e(["\n  border:0;\n  border-bottom:1px solid black;\n  width:100%;\n  outline:none;\n  padding-bottom:5px;\n  font-size:14px;\n  margin-bottom:5px;\n"]))),$D=hn.input(GD||(GD=e(["\n  width:100%;\n  border-radius:44px;\n  padding:13px 0;\n  font-size:18px;\n  color:white;\n  background-color:",";\n  margin-top:20px;\n  border:0;\n  cursor: pointer;\n  opacity: ",";\n"])),(function(e){return e.theme.mainColor}),(function(e){return e.disabled?"0.5":"1"})),eO=hn.button(qD||(qD=e(["\n  top:18px;\n  position:absolute;\n  border:0;\n  background-color:transparent;\n  &::before{\n    content:'';\n    background:url(",");\n    width: 24px;\n    height: 24px;\n    position: absolute;\n  }\n"])),br),tO=hn.p(KD||(KD=e(["\n  font-size:10px;\n  font-weight:300;\n\n"])));var nO=function(){var e=pe(),t=u((0,r.useState)(!1),2),n=t[0],i=t[1],a=FD(),o=a.register,s=a.watch,c=a.formState.errors,l=a.handleSubmit,f=(0,r.useRef)();f.current=s("password");var h=function(){var e=or(ir().mark((function e(t){var n,r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,t.nickName,r=t.password,e.prev=1,i(!0),console.log("\uc644\ub8cc"),e.next=6,ew(DN,n,r);case 6:e.sent,i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,xr.jsxs)(YD,{children:[(0,xr.jsx)(QD,{children:"\ud68c\uc6d0\uac00\uc785"}),(0,xr.jsx)(eO,{onClick:function(){return e("/")}}),(0,xr.jsxs)(XD,{onSubmit:l(h),children:[(0,xr.jsx)(JD,{htmlFor:"user-email",children:"\uc774\uba54\uc77c"}),(0,xr.jsx)(ZD,kn({type:"email",name:"email",id:"user-email",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694."},o("email",{required:!0,pattern:/^\S+@\S+$/i}))),(0,xr.jsx)(JD,{htmlFor:"user-nickname",children:"\ub2c9\ub124\uc784"}),(0,xr.jsx)(ZD,kn({type:"text",name:"nickName",id:"user-nickname",placeholder:"2~10\uc790 \uc774\ub0b4 \ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694. "},o("nickName",{required:!0,minLength:2,maxLength:10}))),c.nickName&&(0,xr.jsx)(tO,{children:"2~10\uc790 \uc774\ub0b4\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694."}),(0,xr.jsx)(JD,{htmlFor:"user-pw",children:"\ube44\ubc00\ubc88\ud638"}),(0,xr.jsx)(ZD,kn({type:"password",name:"password",id:"user-pw",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694."},o("password",{required:!0,minLength:6}))),c.password&&(0,xr.jsx)(tO,{children:"\ucd5c\uc18c 6\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."}),(0,xr.jsx)(JD,{htmlFor:"user-pw-confirm",children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,xr.jsx)(ZD,kn({type:"password",name:"passwordConfirm",id:"user-pw-confirm",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694."},o("passwordConfirm",{required:!0,validate:function(e){return e===f.current}}))),c.password_confirm&&(0,xr.jsx)(tO,{children:"\uc704 \ube44\ubc00\ubc88\ud638\uc640 \uc77c\uce58\ud558\uac8c \uc785\ub825\ud574\uc8fc\uc138\uc694."}),(0,xr.jsx)($D,{type:"submit",value:"\ud68c\uc6d0\uac00\uc785",disabled:n}),(0,xr.jsx)(Pe,{to:"/emaillogin",children:"\uc774\ubbf8 \uc544\uc774\ub514\uac00 \uc788\ub2e4\uba74..."})]})]})};var rO,iO,aO,oO,sO,uO,cO,lO=function(){var e=pe(),t=u((0,r.useState)(!1),2),n=t[0],i=t[1],a=u((0,r.useState)(""),2),o=a[0],s=a[1],c=FD(),l=c.register,f=c.handleSubmit,h=(c.formState.errors,function(){var t=or(ir().mark((function t(n){var r,a;return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.email,a=n.password,t.prev=1,i(!0),t.next=5,nw(DN,r,a);case 5:i(!1),console.log("\ub85c\uadf8\uc778 \uc644\ub8cc"),e("/"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),s(t.t0.code),i(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}());return(0,xr.jsxs)(YD,{children:[(0,xr.jsx)(QD,{children:"\ub85c\uadf8\uc778"}),(0,xr.jsx)(eO,{onClick:function(){return e("/snslogin")}}),(0,xr.jsxs)(XD,{onSubmit:f(h),children:[(0,xr.jsx)(JD,{htmlFor:"user-email",children:"\uc774\uba54\uc77c"}),(0,xr.jsx)(ZD,kn({type:"email",name:"email",id:"user-email",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694."},l("email",{required:!0,pattern:/^\S+@\S+$/i}))),"auth/user-not-found"===o&&(0,xr.jsx)(tO,{children:"\uc544\uc774\ub514\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,xr.jsx)(JD,{htmlFor:"user-pw",children:"\ube44\ubc00\ubc88\ud638"}),(0,xr.jsx)(ZD,kn({type:"password",name:"password",id:"user-pw",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694."},l("password",{required:!0}))),"auth/wrong-password"===o&&(0,xr.jsx)(tO,{children:"\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."}),(0,xr.jsx)($D,{type:"submit",value:"\ub85c\uadf8\uc778",disabled:n}),(0,xr.jsx)(Pe,{to:"/register",children:"\uc544\uc774\ub514\uac00 \uc5c6\ub2e4\uba74..."})]})]})},fO=hn.div(rO||(rO=e(["\n  width:100%;\n  margin-top:20px;\n  display: flex;\n  flex-direction:column;\n  align-items:center;\n  gap:20px;\n  padding-bottom:20px;\n  border-bottom:1px solid #DBDBDB;\n"]))),hO=hn.img(iO||(iO=e(["\n  width:110px;\n  height:110px;\n  border-radius:50%;\n"]))),dO=hn.button(aO||(aO=e(["\n  border: 1px solid #DBDBDB;\n  padding:5px 10px;\n  border-radius:22px;\n  width:120px;\n"]))),pO=hn.strong(oO||(oO=e(["\n  font-weight:700;\n  font-size:16px;\n"]))),vO=hn.p(sO||(sO=e(["\n  width:250px;\n  text-align:center;\n"]))),mO=hn.p(uO||(uO=e(["\n  margin-top:20px;\n  text-align:center;\n"]))),yO=hn.ul(cO||(cO=e(["\n  margin-top:10px;\n"])));var gO,kO,bO,wO,_O,xO,AO,SO,EO,CO=function(){var e=pe(),t=Yn((function(e){return e.user.currentUser})),n=u((0,r.useState)([]),2),i=n[0],a=n[1];return(0,r.useEffect)((function(){Mg(wg(Ny(PN,"posts"),xg("uid","==",t.uid),Sg("CreateAt","desc")),(function(e){var t=e.docs.map((function(e){return e.data()}));a(t)}))}),[]),(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(jr,{prv:!0,vertical:!0}),(0,xr.jsxs)(Fr,{children:[(0,xr.jsxs)(fO,{children:[(0,xr.jsx)(hO,{src:t.photoURL||$r}),(0,xr.jsx)(pO,{children:t.displayName}),(0,xr.jsxs)(vO,{children:[t.introduce," "]}),(0,xr.jsx)(dO,{onClick:function(){return e("editprofile")},children:"\ud504\ub85c\ud544 \uc218\uc815\ud558\uae30"}),(0,xr.jsx)("button",{onClick:function(){sw(DN)},children:"\ub85c\uadf8\uc544\uc6c3"})]}),(0,xr.jsx)(mO,{children:"\ub098\uc758 \uac8c\uc2dc\ubb3c"}),(0,xr.jsx)(yO,{children:i.map((function(e){return(0,xr.jsx)(qN,kn({},e),e.postkey)}))})]}),(0,xr.jsx)(Zr,{})]})},IO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM7SURBVHgBxZhNbtpAFMefHedDipSgREqkREnpIrtEocsoCjU3oCdoc4L2Bklu0Jwg6Q24AQSEWJYIJBZIlMICwQoWSHzT97fGyCAbPAbTv4QYeWbMjzdv3rw3Ckkqk8kEe71eVNO069FopCuKEuDHAdHd5E+Zn5UHg8Eb98cikUiZJKS4HZhMJr+pqvqVmzrJKctgz+Fw+NXN4IVAqVRKZ5CX8XgcpCUEqw2Hw6dFYI5A8Xg8sLm5+cDNH7RC8Z/72e12n3gpm+QWiGGCDBPj5jX5IFiL/TBi51+KHczW1lZ82SXyCqXMwAQY5rffMBZl+/1+xLp8qrUXPrNGGCi0vb39YH0wsZDY1i/0H8RGiNzd3SXQ1syHGxsbsI7tBP4XdHFxQfv7++RFrVaLisUi8e6y7ReG+Ii2YaFF1rm8vKTd3V1qNBrEEZhkdXJyQu12m/L5vOMYDp73iFGaIPw+74WwTKVSoWq1Sl7Ex4wBNU/iFHhVsc25ESLJHzg4OKC9vT1X411aVcc5qfHOipKkQqGQ4VdQqVSiWq1GqxAfLVFse11m0uHhoQEDJ4Wznp6e0qrEwfIaQB9kJpnmPz4+pp2dHdvlODs7m1hQRkhnABSUmQSrwLk5TFCn06FCoTDVj/Bwfn5OV1dX0lDIrbDLAiQp7Dh8ZgWYo6Mjw6fg9IDK5XIkoYBKK5IJA+vB0U0QQGFp3QpATVpSVhjTcojKJhT6XKqp8nGxFJAdjCkTyunIsFFZZUd6I4+aB2OFqtfr5FJ/sWRZ8iA3MB6UUDlBiklO8guGwKKKFDKxaDDOLz9hWFmwGL/CEfIXn7a600gEQ0Ag0OHogF8gd0JEXiT8EczFO+YJtRu+JxljOp3+45S++p2gIeG/vb01EjTNQnjPHXG7CXjRvORqWaGANNuTSI2cli30TGsWftNazU4dHXxyP5LHMOBF4lLi0fpsCgj1EW+9LxhIa4ARhWLTEUhAGQN9hnp3KqVtT3sB9ckPn8I7eRV0p3ujhdcxKJFEzRakJQSLYyebBaHjOHIpUbuhXJKqUFgJBN6VXVjNCmUTg+FK77OwGj6TKz2kM9yf4N3zzhcXsZubmzJJ6B8hV661Ua1gMwAAAABJRU5ErkJggg==",TO=hn.textarea(gO||(gO=e(["\n  width:100%;\n  border:0;\n  outline:none;\n  resize:none;\n"]))),RO=hn.div(kO||(kO=e(["\n  width:100%;\n  padding:20px 0;\n  display: flex;\n  justify-content:center;\n  align-items:center;\n  gap:10px;\n"]))),NO=hn.input(bO||(bO=e(["\n  display: block;\n  margin:0 auto;\n  margin-bottom:20px;\n"]))),PO=hn.input(wO||(wO=e(["\n  width:100%;\n  border:0;\n  border-bottom:1px solid gray;\n  outline:none;\n  margin-bottom:10px;\n  font-size:16px;\n"]))),DO=hn.button(_O||(_O=e(["\n  position:fixed;\n  bottom:70px;\n  width:50px;\n  height:50px;\n  right:10px;\n  background:url(",") center/cover;\n"])),IO),OO=hn.input(xO||(xO=e(["\n  display: none;\n"]))),LO=hn.div(AO||(AO=e(["\n  width:100px;\n  height:100px;\n  position: relative;\n"]))),MO=hn.img(SO||(SO=e(["\n  width:100%;\n  height:100%;\n"]))),UO=hn.button(EO||(EO=e(["\n  position: absolute;\n  right:0;\n  width:20px;\n  height:20px;\n  background-color:black;\n  color:white;\n"])));var jO,FO,VO,zO=function(){var e=pe(),t=(rr(),Yn((function(e){return e.user.currentUser}))),n=u((0,r.useState)(""),2),i=n[0],a=n[1],o=u((0,r.useState)(""),2),s=o[0],c=o[1],l=u((0,r.useState)(""),2),f=l[0],h=l[1],d=u((0,r.useState)(""),2),p=d[0],v=d[1],m=u((0,r.useState)(0),2),y=m[0],g=m[1],k=u((0,r.useState)(""),2),b=k[0],w=k[1],_=u((0,r.useState)(null),2),x=_[0],A=_[1],S=u((0,r.useState)({}),2),E=S[0],C=S[1],I=(0,r.useRef)(),T=(0,r.useRef)(),R=function(){var n=or(ir().mark((function n(r){var a,o,u;return ir().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),n.prev=1,a=Dy(Ny(PN,"posts")),!x){n.next=8;break}o=YI(ON,"posts_images/".concat(a.id)),qI(o,x,E).then((function(){KI(o).then(function(){var e=or(ir().mark((function e(n){var r;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={writer:kn({},t),postDate:s.slice(5).replace("-","/"),postTime:f,postTit:p,party:{recruit:y,participants:[],participateCount:0},postTxt:i,postImg:n,postkey:a.id,CreateAt:Fg()},e.next=3,Dg(a,r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),n.next=11;break;case 8:return u={writer:kn({},t),uid:t.uid,postDate:s.slice(5).replace("-","/"),postTime:f,party:{recruit:y,participants:[],participateCount:0},postTit:p,postTxt:i,postkey:a.id,postImg:null,CreateAt:Fg()},n.next=11,Dg(a,u);case 11:e("/"),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(e){return n.apply(this,arguments)}}();return(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(jr,{prv:!0,upload:!0,onSubmit:R}),(0,xr.jsxs)(Fr,{children:[(0,xr.jsx)(kr,{children:"\uac8c\uc2dc\ubb3c \uc791\uc131"}),(0,xr.jsxs)("form",{onSubmit:R,children:[(0,xr.jsxs)(RO,{children:[(0,xr.jsx)("input",{type:"date",value:s,onChange:function(e){return c(e.target.value)},required:!0}),(0,xr.jsx)("input",{type:"time",value:f,onChange:function(e){return h(e.target.value)},required:!0})," : \uae4c\uc9c0 \ubaa8\uc9d1"]}),(0,xr.jsx)(NO,{type:"number",value:y,onChange:function(e){g(e.target.value)},placeholder:"\uc778\uc6d0\uc218\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",required:!0}),(0,xr.jsx)(PO,{type:"text",value:p,onChange:function(e){v(e.target.value)},placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.",required:!0}),(0,xr.jsx)(TO,{ref:T,onInput:function(){T.current.style.height="70px",T.current.style.height=T.current.scrollHeight+"px"},value:i,onChange:function(e){a(e.target.value)},placeholder:"\uac8c\uc2dc\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694...",required:!0})]}),b&&(0,xr.jsxs)(LO,{children:[(0,xr.jsx)(UO,{onClick:function(){w(""),A(null)},children:"x"}),(0,xr.jsx)(MO,{src:b,alt:""})]})]}),(0,xr.jsx)(DO,{onClick:function(){I.current.click()}}),(0,xr.jsx)(OO,{onChange:function(e){var t=e.target.files,n=new FileReader;n.onload=function(e){w(e.target.result)},n.readAsDataURL(t[0]),A(t[0]),C({contentType:t[0].type})},ref:I,type:"file"}),(0,xr.jsx)(Zr,{})]})},BO=hn.li(jO||(jO=e(["\n  display: flex;\n  justify-content:",";\n\n"])),(function(e){return e.other?"flex-start":"flex-end"})),WO=hn.img(FO||(FO=e(["\n  border-radius:50%;  \n  width:44px;\n  height:44px;\n"]))),HO=hn.p(VO||(VO=e(["\n      display: inline-block;\n    max-width: 70%;\n    margin-left: 12px;\n    background-color: rgb(255, 255, 255);\n    box-sizing: border-box;\n    border-radius: ",";\n    font-size: 14px;\n    line-height: 20px;\n    padding: 12px;\n"])),(function(e){return e.other?"0px 10px 10px":"10px 0 10px 10px"}));var GO,qO,KO,YO,QO,XO=function(e){var t=e.other;return(0,xr.jsxs)(BO,{other:t,children:[t&&(0,xr.jsx)(WO,{src:$r,alt:""}),(0,xr.jsx)(HO,{other:t,children:"\uc548\ub155\ud558\uc138\uc694"})]})},JO=hn.ul(GO||(GO=e(["\n  width:100%;\n  background-color:#f2f2f2;\n  height:calc(100vh - 96px);\n  display: flex;\n  flex-direction:column;\n  justify-content:flex-end;\n  padding:16px;\n\n\n"]))),ZO=hn.div(qO||(qO=e(["\n  display: flex;\n  justify-content:center;\n"]))),$O=hn.form(KO||(KO=e(["\n  position: fixed;\n  bottom:0;\n  max-width:450px;  \n  width:100%;\n"]))),eL=hn.input(YO||(YO=e(["\n  outline:none;\n  width:100%;\n  font-size:16px;\n  padding:15px 30px 15px 15px;\n  border:0;\n  border-top:0.5px solid #DBDBDB;\n"]))),tL=hn.button(QO||(QO=e(["\n  position: absolute;\n  right:10px;\n  background:url(",");\n  transform:rotateY(180deg);\n  width:22px;\n  height:22px;\n  top:15px;\n"])),br);var nL,rL,iL,aL,oL=function(){return(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(jr,{prv:!0,userName:"\ubaa9\uc9e7\uc740 \uae30\ub9b0",vertical:!0}),(0,xr.jsxs)(Fr,{pr:"0",children:[(0,xr.jsxs)(JO,{children:[(0,xr.jsx)(XO,{other:!0}),(0,xr.jsx)(XO,{})]}),(0,xr.jsx)(ZO,{children:(0,xr.jsxs)($O,{children:[(0,xr.jsx)(eL,{type:"text",placeholder:"\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694."}),(0,xr.jsx)(tL,{})]})})]})]})},sL=hn.li(nL||(nL=e(["\nwidth:100%;\npadding-bottom:10px;\nborder-bottom:0.5px solid #C4C4C4;\nmargin-bottom:10px;\n&:last-child{\n  border-bottom:0;\n}\n"]))),uL=hn.p(rL||(rL=e(["\nmargin:10px 0;\n"]))),cL=hn.time(iL||(iL=e(["\nopacity: 0.7;\nfont-size:14px;\n"]))),lL=hn.button(aL||(aL=e(["\nbackground-image:url(",");\nwidth:22px;\nheight:22px;\nmargin-left:auto;\n"])),wr);var fL,hL,dL,pL,vL=function(e){var t=e.CreateAt,n=e.writer,r=e.chatTxt,i=function(){var e=t.toDate(),n=e.getMonth()+1,r=e.getDate(),i=e.getHours(),a=e.getMinutes();return"".concat(n,"/").concat(r," ").concat(i,":").concat(a)}();return(0,xr.jsxs)(sL,{children:[(0,xr.jsxs)(PL,{children:[(0,xr.jsx)(DL,{src:n.photoURL||$r,alt:"\uc720\uc800 \ud504\ub85c\ud544"}),(0,xr.jsx)(OL,{children:n.displayName}),(0,xr.jsx)(lL,{})]}),(0,xr.jsx)(uL,{children:r}),(0,xr.jsx)(cL,{children:i})]})},mL=hn.div(fL||(fL=e(["\n  display: flex;\n  justify-content:center;\n"]))),yL=hn.form(hL||(hL=e(["\n  position: fixed;\n  bottom:0;\n  max-width:450px;  \n  width:100%;\n"]))),gL=hn.input(dL||(dL=e(["\n  outline:none;\n  width:100%;\n  font-size:16px;\n  padding:15px 30px 15px 15px;\n  border:0;\n  border-top:0.5px solid #DBDBDB;\n"]))),kL=hn.button(pL||(pL=e(["\n  position: absolute;\n  right:10px;\n  background:url(",");\n  transform:rotateY(180deg);\n  width:22px;\n  height:22px;\n  top:15px;\n"])),br);var bL,wL,_L,xL,AL,SL,EL,CL,IL,TL,RL,NL=function(){var e=Yn((function(e){return e.post.currentPost})),t=Yn((function(e){return e.user.currentUser})),n=u((0,r.useState)(""),2),i=n[0],a=n[1],o=function(){var n=or(ir().mark((function n(r){var o,s;return ir().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),o=Ny(PN,"post_chatting"),s=Ny(o,e.postkey,"post"),n.next=5,Promise.all([Lg(s,{currentPostId:e.postkey,CreateAt:Fg(),chatTxt:i,writer:{displayName:t.displayName,photoURL:t.photoURL,uid:t.uid}})]);case 5:a(""),console.log("\uc644\ub8cc");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,xr.jsx)(mL,{children:(0,xr.jsxs)(yL,{onSubmit:o,children:[(0,xr.jsx)(gL,{type:"text",placeholder:"\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694.",value:i,onChange:function(e){return a(e.target.value)}}),(0,xr.jsx)(kL,{onClick:o})]})})},PL=hn.div(bL||(bL=e(["\n  display: flex;\n  align-items:center;\n  gap:10px;\n  width:100%;\n"]))),DL=hn.img(wL||(wL=e(["\n  width:42px;\n  height:42px;\n  border-radius:50%;\n"]))),OL=hn.span(_L||(_L=e(["\n  font-weight:500;\n"]))),LL=hn.div(xL||(xL=e(["\n  padding:10px 12px 0;\n  margin-bottom:10px;\n  border-bottom: 1px solid #C4C4C4;\n\n"]))),ML=hn.time(AL||(AL=e(["\n  display: block;\n  margin-top:20px;\n  font-size:12px;\n  opacity:0.7;\n"]))),UL=hn.strong(SL||(SL=e(["\n  display: block;\n  margin:10px 0;\n  font-weight:600;\n  font-size:18px;\n"]))),jL=hn.p(EL||(EL=e(["\n  font-size:16px;\n  margin-bottom:20px;\n"]))),FL=hn.img(CL||(CL=e(["\n  width:100%;\n  height:350px;\n  border-radius:44px;\n  padding-bottom:20px;\n  display: block;\n  margin:0 auto;  \n"]))),VL=hn.button(IL||(IL=e(["\n  width:80px;\n  padding:10px 0;\n  color:white;\n  background-color:#6BB4D3; //#9ec1d0\n  border-radius:11px;\n  margin:0 10px 10px 0;\n"]))),zL=hn.span(TL||(TL=e(["\n  font-size:16px;\n"]))),BL=hn.span(RL||(RL=e(["\n  margin-right:5px;\n"])));var WL,HL,GL,qL,KL,YL,QL,XL=function(){(function(){var e=r.useContext(ue).matches,t=e[e.length-1];return t?t.params:{}})().id;var e=rr(),t=Yn((function(e){return e.post})),n=Yn((function(e){return e.user.currentUser})),i=u((0,r.useState)([]),2),a=i[0],o=i[1],s=function(){var e=or(ir().mark((function e(t){var n;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=wg(Py(PN,"post"),xg("currentPostId","==",t),Sg("CreateAt","asc")),e.next=4,Pg(n);case 4:e.sent,Mg(n,(function(e){var t=e.docs.map((function(e){return e.data({serverTimestamps:"estimate"})}));o(t)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){Mg(Dy(PN,"current_post","current_post"),(function(t){var n;e((n=t.data(),{type:Nn,payload:n})),s(t.data().postkey)}))},f=function(){var e=or(ir().mark((function e(){var r,i,a;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.currentPost.party.participants.find((function(e){return e.uid===n.uid}))){e.next=3;break}return e.abrupt("return");case 3:return r=kn(kn({},t.currentPost.party),{},{participants:[].concat(c(t.currentPost.party.participants),[{displayName:n.displayName,uid:n.uid}]),participateCount:t.currentPost.party.participants.length+1}),i=Dy(PN,"current_post","current_post"),e.next=7,Og(i,{party:r});case 7:return a=Dy(PN,"posts",t.currentPost.postkey),e.next=10,Og(a,{party:r});case 10:console.log("\uc644\ub8cc");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=or(ir().mark((function e(){var r,i,a,o;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.currentPost.party.participants.find((function(e){return e.uid===n.uid}))){e.next=3;break}return e.abrupt("return");case 3:return r=t.currentPost.party.participants.filter((function(e){return e.uid!==n.uid})),i=kn(kn({},t.currentPost.party),{},{participants:c(r),participateCount:t.currentPost.party.participants.length-1}),a=Dy(PN,"current_post","current_post"),e.next=8,Og(a,{party:i});case 8:return o=Dy(PN,"posts",t.currentPost.postkey),e.next=11,Og(o,{party:i});case 11:console.log("\uc644\ub8cc");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){l()}),[]),(0,xr.jsx)(xr.Fragment,{children:t.isLoding?(0,xr.jsx)(xr.Fragment,{children:"...Loding"}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(jr,{prv:!0,vertical:!0}),(0,xr.jsxs)(Fr,{pr:"0",children:[(0,xr.jsxs)(LL,{children:[(0,xr.jsxs)(PL,{children:[(0,xr.jsx)(DL,{src:t.currentPost.writer.photoURL||$r,alt:"\uc720\uc800 \ud504\ub85c\ud544"}),(0,xr.jsxs)(OL,{children:[t.currentPost.writer.displayName," "]})]}),(0,xr.jsxs)(ML,{children:[t.currentPost.postDate," ",t.currentPost.postTime," \uae4c\uc9c0 \ubaa8\uc9d1"]}),(0,xr.jsx)(UL,{children:t.currentPost.postTit}),(0,xr.jsx)(jL,{children:t.currentPost.postTxt}),t.currentPost.postImg&&(0,xr.jsx)(FL,{src:t.currentPost.postImg,alt:""}),(0,xr.jsx)(VL,{onClick:f,children:"\ucc38\uc5ec\ud558\uae30"}),(0,xr.jsx)(VL,{onClick:h,children:"\ucde8\uc18c\ud558\uae30"}),(0,xr.jsxs)(zL,{children:[" ",t.currentPost.party.participateCount," / ",t.currentPost.party.recruit," "]}),(0,xr.jsx)("div",{children:t.currentPost.party.participants.map((function(e){return(0,xr.jsx)(BL,{children:e.displayName},e.uid)}))})]}),(0,xr.jsx)("ul",{children:a.map((function(e,t){return(0,xr.jsx)(vL,kn({},e))}))}),(0,xr.jsx)(NL,{})]})]})})},JL=hn.img(WL||(WL=e(["\n  width:110px;\n  height:110px;\n  border-radius:50%;\n"]))),ZL=hn.form(HL||(HL=e(["\n  display: flex;\n  flex-direction:column;\n  align-items:center;\n  margin-top:20px;\n  padding:20px;\n"]))),$L=hn.div(GL||(GL=e(["\n  position: relative;\n"]))),eM=hn.div(qL||(qL=e(["\n  position:absolute;\n  bottom:0;\n  width:50px;\n  height:50px;\n  right:-20px;\n  background:url(",") center/cover;\n"])),IO),tM=hn.input(KL||(KL=e(["\n  display: none;\n"]))),nM=hn.label(YL||(YL=e(["\n  align-self:flex-start;\n  margin-top:20px;\n  font-weight:500;\n  color:#767676;\n  margin-bottom:10px;\n"]))),rM=hn.input(QL||(QL=e(["\n  border:0;\n  border-bottom:1px solid #dbdbdb;\n  width:100%;\n  outline:none;\n"])));var iM,aM,oM,sM,uM,cM,lM,fM=function(){var e=Yn((function(e){return e.user.currentUser})),t=(rr(),pe()),n=u((0,r.useState)(e.displayName),2),i=n[0],a=n[1],o=u((0,r.useState)(e.introduce),2),s=o[0],c=o[1],l=u((0,r.useState)(e.photoURL),2),f=l[0],h=l[1],d=u((0,r.useState)(e.photoURL),2),p=d[0],v=d[1],m=u((0,r.useState)({}),2),y=m[0],g=m[1],k=(0,r.useRef)(),b=function(){var n=or(ir().mark((function n(r){var a,o;return ir().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),n.prev=1,p===e.photoURL){n.next=8;break}a=YI(ON,"user_image/".concat(e.uid)),qI(a,f,y),KI(a).then((function(t){aw(DN.currentUser,{displayName:i,photoURL:t}),Og(Dy(PN,"users",e.uid),{displayName:i,photoURL:t,introduce:s})})),n.next=12;break;case 8:return aw(DN.currentUser,{displayName:i}),o=Dy(PN,"users",e.uid),n.next=12,Og(o,{displayName:i,introduce:s});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),console.log(n.t0);case 17:t("/profile");case 18:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(e){return n.apply(this,arguments)}}();return(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(jr,{prv:!0,upload:!0,onSubmit:b}),(0,xr.jsx)(Fr,{children:(0,xr.jsxs)(ZL,{onSubmit:b,children:[(0,xr.jsxs)($L,{onClick:function(){k.current.click()},children:[(0,xr.jsx)(JL,{src:p||$r,alt:""}),(0,xr.jsx)(eM,{})]}),(0,xr.jsx)(nM,{htmlFor:"user-nickname",children:"\uc0ac\uc6a9\uc790 \uc774\ub984"}),(0,xr.jsx)(rM,{type:"text",id:"user-nickname",placeholder:e.displayName,minLength:2,maxLength:10,value:i,onChange:function(e){return a(e.target.value)}}),(0,xr.jsx)(nM,{htmlFor:"user-introduce",children:"\uc18c\uac1c"}),(0,xr.jsx)(rM,{type:"text",id:"user-introduce",placeholder:e.introduce||"\uc790\uc2e0\uc744 \uc18c\uac1c\ud574\uc8fc\uc138\uc694.",value:s,onChange:function(e){return c(e.target.value)}}),(0,xr.jsx)(tM,{onChange:function(e){var t=e.target.files,n=new FileReader;n.onload=function(e){v(e.target.result)},n.readAsDataURL(t[0]),h(t[0]),g({contentType:t[0].type})},ref:k,type:"file"})]})})]})};function hM(e){return{type:Cn,payload:e}}function dM(e){return{type:Rn,payload:e}}var pM=hn.img(iM||(iM=e(["\n  width:110px;\n  height:110px;\n  border-radius:50%;\n"]))),vM=hn.form(aM||(aM=e(["\n  display: flex;\n  flex-direction:column;\n  align-items:center;\n  margin-top:20px;\n  padding:20px;\n"]))),mM=hn.div(oM||(oM=e(["\n  position: relative;\n"]))),yM=hn.div(sM||(sM=e(["\n  position:absolute;\n  bottom:0;\n  width:50px;\n  height:50px;\n  right:-20px;\n  background:url(",") center/cover;\n"])),IO),gM=hn.input(uM||(uM=e(["\n  display: none;\n"]))),kM=hn.label(cM||(cM=e(["\n  align-self:flex-start;\n  margin-top:20px;\n  font-weight:500;\n  color:#767676;\n  margin-bottom:10px;\n"]))),bM=hn.input(lM||(lM=e(["\n  border:0;\n  border-bottom:1px solid #dbdbdb;\n  width:100%;\n  outline:none;\n"])));var wM=function(){var e=Yn((function(e){return e.user.currentUser})),t=(rr(),pe()),n=u((0,r.useState)(""),2),i=n[0],a=n[1],o=u((0,r.useState)(""),2),s=o[0],c=o[1],l=u((0,r.useState)(e.photoURL),2),f=l[0],h=l[1],d=u((0,r.useState)({}),2),p=d[0],v=d[1],m=u((0,r.useState)({}),2),y=m[0],g=m[1],k=(0,r.useRef)(),b=u((0,r.useState)([]),2),w=(b[0],b[1],function(){var n=or(ir().mark((function n(r){var a,o;return ir().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),n.prev=1,f===e.photoURL){n.next=8;break}a=YI(ON,"user_image/".concat(e.uid)),qI(a,p,y),KI(a).then((function(t){var n={displayName:i,photoURL:t,uid:e.uid,email:e.email,introduce:s};Dg(Dy(PN,"users",e.uid),n)})),n.next=11;break;case 8:return o={displayName:i,photoURL:e.photoURL,uid:e.uid,email:e.email,introduce:s},n.next=11,Dg(Dy(PN,"users",e.uid),o);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.log(n.t0);case 16:t("/");case 17:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e){return n.apply(this,arguments)}}());return(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(jr,{prv:!0,upload:!0,onSubmit:w}),(0,xr.jsx)(Fr,{children:(0,xr.jsxs)(vM,{onSubmit:w,children:[(0,xr.jsxs)(mM,{onClick:function(){k.current.click()},children:[(0,xr.jsx)(pM,{src:f||$r,alt:""}),(0,xr.jsx)(yM,{})]}),(0,xr.jsx)(kM,{htmlFor:"user-nickname",children:"\uc0ac\uc6a9\uc790 \uc774\ub984"}),(0,xr.jsx)(bM,{type:"text",id:"user-nickname",placeholder:"2~10\uc790 \uc774\ub0b4\uc5ec\uc57c \ud569\ub2c8\ub2e4.",minLength:2,maxLength:10,value:i,onChange:function(e){return a(e.target.value)}}),(0,xr.jsx)(kM,{htmlFor:"user-introduce",children:"\uc18c\uac1c"}),(0,xr.jsx)(bM,{type:"text",id:"user-introduce",placeholder:"\uc790\uc2e0\uc744 \uc18c\uac1c\ud574\uc8fc\uc138\uc694.",value:s,onChange:function(e){return c(e.target.value)}}),(0,xr.jsx)(gM,{onChange:function(e){var t=e.target.files,n=new FileReader;n.onload=function(e){h(e.target.result)},n.readAsDataURL(t[0]),v(t[0]),g({contentType:t[0].type})},ref:k,type:"file"})]})})]})};var _M,xM=function(){var e=rr(),t=Yn((function(e){return e.user})),n=pe();return(0,r.useEffect)((function(){!function(e,t,n,r){ra(e).onAuthStateChanged(t,n,r)}(DN,function(){var t=or(ir().mark((function t(r){return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r?Mg(Dy(PN,"users",r.uid),function(){var t=or(ir().mark((function t(i){return ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.data()){t.next=4;break}return e(dM(r)),n("/editSNS"),t.abrupt("return");case 4:e(hM(i.data()));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):n("/");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),(0,xr.jsx)(Se,{children:t.isLoading?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(xe,{path:"/",element:(0,xr.jsx)(lP,{})}),(0,xr.jsx)(xe,{path:"/register",element:(0,xr.jsx)(nO,{})}),(0,xr.jsx)(xe,{path:"/emaillogin",element:(0,xr.jsx)(lO,{})}),(0,xr.jsx)(xe,{path:"/editSNS",element:(0,xr.jsx)(wM,{})})]}):t.currentUser?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(xe,{path:"/",element:(0,xr.jsx)(nP,{})}),(0,xr.jsx)(xe,{path:"/postupload",element:(0,xr.jsx)(zO,{})}),(0,xr.jsx)(xe,{path:"/postdetail/:id",element:(0,xr.jsx)(XL,{})}),(0,xr.jsx)(xe,{path:"/dm",element:(0,xr.jsx)(li,{})}),(0,xr.jsx)(xe,{path:"/dm/:id",element:(0,xr.jsx)(oL,{})}),(0,xr.jsx)(xe,{path:"/profile",element:(0,xr.jsx)(CO,{})}),(0,xr.jsx)(xe,{path:"/profile/editprofile",element:(0,xr.jsx)(fM,{})})]}):(0,xr.jsx)(xe,{path:"/",element:(0,xr.jsx)(xr.Fragment,{children:"...loding"})})})},AM=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=Yt.apply(void 0,[e].concat(n)),o="sc-global-"+$t(JSON.stringify(a)),s=new fn(a,o);function u(e){var t=Mt(),n=Ut(),i=(0,r.useContext)(on),a=(0,r.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(a,e,t,i,n),(0,r.useLayoutEffect)((function(){if(!t.server)return c(a,e,t,i,n),function(){return s.removeStyles(a,t)}}),[a,e,t,i,n]),null}function c(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,et,n,i);else{var a=We({},t,{theme:Qt(t,r,u.defaultProps)});s.renderStyles(e,a,n,i)}}return r.memo(u)}(_M||(_M=e(["\n  html, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n  /* width:100%;\n  max-width:450px;\n  margin:0 auto; */\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n*{\n box-sizing:border-box;\n}\nbutton{\n  cursor:pointer;\n  border:0;\n  padding:0;\n  background-color:transparent;\n}\na{\n  text-decoration:none;\n  color:black;\n}\n"]))),SM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(bn(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=En.apply(void 0,a)(n.dispatch),kn(kn({},n),{},{dispatch:r})}}}(dn.Z,mn)(Sn);a.createRoot(document.getElementById("root")).render((0,xr.jsx)(Zn,{store:SM(Mn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),children:(0,xr.jsx)(Ne,{basename:"/sundae_modum",children:(0,xr.jsxs)(sn,{theme:{mainColor:"#006CB2"},children:[(0,xr.jsx)(AM,{}),(0,xr.jsx)(xM,{})]})})}))}()}();
//# sourceMappingURL=main.6d1e8b68.js.map